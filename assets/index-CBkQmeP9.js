(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ro(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Eg={exports:{}},io={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var qh=Object.getOwnPropertySymbols,s1=Object.prototype.hasOwnProperty,o1=Object.prototype.propertyIsEnumerable;function a1(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function u1(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Tg=u1()?Object.assign:function(t,e){for(var n,r=a1(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)s1.call(n,o)&&(r[o]=n[o]);if(qh){i=qh(n);for(var l=0;l<i.length;l++)o1.call(n,i[l])&&(r[i[l]]=n[i[l]])}}return r},Sg={exports:{}},pe={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dd=Tg,Si=60103,Ig=60106;pe.Fragment=60107;pe.StrictMode=60108;pe.Profiler=60114;var kg=60109,Ag=60110,Cg=60112;pe.Suspense=60113;var bg=60115,Pg=60116;if(typeof Symbol=="function"&&Symbol.for){var Ft=Symbol.for;Si=Ft("react.element"),Ig=Ft("react.portal"),pe.Fragment=Ft("react.fragment"),pe.StrictMode=Ft("react.strict_mode"),pe.Profiler=Ft("react.profiler"),kg=Ft("react.provider"),Ag=Ft("react.context"),Cg=Ft("react.forward_ref"),pe.Suspense=Ft("react.suspense"),bg=Ft("react.memo"),Pg=Ft("react.lazy")}var Wh=typeof Symbol=="function"&&Symbol.iterator;function l1(t){return t===null||typeof t!="object"?null:(t=Wh&&t[Wh]||t["@@iterator"],typeof t=="function"?t:null)}function so(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dg={};function Ii(t,e,n){this.props=t,this.context=e,this.refs=Dg,this.updater=n||Rg}Ii.prototype.isReactComponent={};Ii.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(so(85));this.updater.enqueueSetState(this,t,e,"setState")};Ii.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ng(){}Ng.prototype=Ii.prototype;function fd(t,e,n){this.props=t,this.context=e,this.refs=Dg,this.updater=n||Rg}var hd=fd.prototype=new Ng;hd.constructor=fd;dd(hd,Ii.prototype);hd.isPureReactComponent=!0;var pd={current:null},Mg=Object.prototype.hasOwnProperty,Vg={key:!0,ref:!0,__self:!0,__source:!0};function Og(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Mg.call(e,r)&&!Vg.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Si,type:t,key:s,ref:o,props:i,_owner:pd.current}}function c1(t,e){return{$$typeof:Si,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function md(t){return typeof t=="object"&&t!==null&&t.$$typeof===Si}function d1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Gh=/\/+/g;function ml(t,e){return typeof t=="object"&&t!==null&&t.key!=null?d1(""+t.key):e.toString(36)}function sa(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Si:case Ig:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ml(o,0):r,Array.isArray(i)?(n="",t!=null&&(n=t.replace(Gh,"$&/")+"/"),sa(i,e,n,"",function(f){return f})):i!=null&&(md(i)&&(i=c1(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Gh,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Array.isArray(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+ml(s,l);o+=sa(s,e,n,c,i)}else if(c=l1(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+ml(s,l++),o+=sa(s,e,n,c,i);else if(s==="object")throw e=""+t,Error(so(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return o}function jo(t,e,n){if(t==null)return t;var r=[],i=0;return sa(t,r,"","",function(s){return e.call(n,s,i++)}),r}function f1(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(n){t._status===0&&(n=n.default,t._status=1,t._result=n)},function(n){t._status===0&&(t._status=2,t._result=n)})}if(t._status===1)return t._result;throw t._result}var Lg={current:null};function wn(){var t=Lg.current;if(t===null)throw Error(so(321));return t}var h1={ReactCurrentDispatcher:Lg,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:pd,IsSomeRendererActing:{current:!1},assign:dd};pe.Children={map:jo,forEach:function(t,e,n){jo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return jo(t,function(){e++}),e},toArray:function(t){return jo(t,function(e){return e})||[]},only:function(t){if(!md(t))throw Error(so(143));return t}};pe.Component=Ii;pe.PureComponent=fd;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h1;pe.cloneElement=function(t,e,n){if(t==null)throw Error(so(267,t));var r=dd({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=pd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Mg.call(e,c)&&!Vg.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];r.children=l}return{$$typeof:Si,type:t.type,key:i,ref:s,props:r,_owner:o}};pe.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:Ag,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:kg,_context:t},t.Consumer=t};pe.createElement=Og;pe.createFactory=function(t){var e=Og.bind(null,t);return e.type=t,e};pe.createRef=function(){return{current:null}};pe.forwardRef=function(t){return{$$typeof:Cg,render:t}};pe.isValidElement=md;pe.lazy=function(t){return{$$typeof:Pg,_payload:{_status:-1,_result:t},_init:f1}};pe.memo=function(t,e){return{$$typeof:bg,type:t,compare:e===void 0?null:e}};pe.useCallback=function(t,e){return wn().useCallback(t,e)};pe.useContext=function(t,e){return wn().useContext(t,e)};pe.useDebugValue=function(){};pe.useEffect=function(t,e){return wn().useEffect(t,e)};pe.useImperativeHandle=function(t,e,n){return wn().useImperativeHandle(t,e,n)};pe.useLayoutEffect=function(t,e){return wn().useLayoutEffect(t,e)};pe.useMemo=function(t,e){return wn().useMemo(t,e)};pe.useReducer=function(t,e,n){return wn().useReducer(t,e,n)};pe.useRef=function(t){return wn().useRef(t)};pe.useState=function(t){return wn().useState(t)};pe.version="17.0.2";Sg.exports=pe;var Vt=Sg.exports;const Gt=ro(Vt);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p1=Vt,xg=60103;io.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var Kh=Symbol.for;xg=Kh("react.element"),io.Fragment=Kh("react.fragment")}var m1=p1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g1=Object.prototype.hasOwnProperty,_1={key:!0,ref:!0,__self:!0,__source:!0};function Fg(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)g1.call(e,r)&&!_1.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:xg,type:t,key:s,ref:o,props:i,_owner:m1.current}}io.jsx=Fg;io.jsxs=Fg;Eg.exports=io;var xe=Eg.exports,jg={exports:{}},Ot={},zg={exports:{}},Bg={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}if(typeof window>"u"||typeof MessageChannel!="function"){var c=null,f=null,w=function(){if(c!==null)try{var x=t.unstable_now();c(!0,x),c=null}catch(Q){throw setTimeout(w,0),Q}};e=function(x){c!==null?setTimeout(e,0,x):(c=x,setTimeout(w,0))},n=function(x,Q){f=setTimeout(x,Q)},r=function(){clearTimeout(f)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var C=window.setTimeout,A=window.clearTimeout;if(typeof console<"u"){var M=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof M!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var V=!1,N=null,k=-1,S=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},i=function(){},t.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<x?Math.floor(1e3/x):5};var D=new MessageChannel,u=D.port2;D.port1.onmessage=function(){if(N!==null){var x=t.unstable_now();b=x+S;try{N(!0,x)?u.postMessage(null):(V=!1,N=null)}catch(Q){throw u.postMessage(null),Q}}else V=!1},e=function(x){N=x,V||(V=!0,u.postMessage(null))},n=function(x,Q){k=C(function(){x(t.unstable_now())},Q)},r=function(){A(k),k=-1}}function p(x,Q){var Y=x.length;x.push(Q);e:for(;;){var ae=Y-1>>>1,se=x[ae];if(se!==void 0&&0<g(se,Q))x[ae]=Q,x[Y]=se,Y=ae;else break e}}function h(x){return x=x[0],x===void 0?null:x}function m(x){var Q=x[0];if(Q!==void 0){var Y=x.pop();if(Y!==Q){x[0]=Y;e:for(var ae=0,se=x.length;ae<se;){var ve=2*(ae+1)-1,_e=x[ve],q=ve+1,B=x[q];if(_e!==void 0&&0>g(_e,Y))B!==void 0&&0>g(B,_e)?(x[ae]=B,x[q]=Y,ae=q):(x[ae]=_e,x[ve]=Y,ae=ve);else if(B!==void 0&&0>g(B,Y))x[ae]=B,x[q]=Y,ae=q;else break e}}return Q}return null}function g(x,Q){var Y=x.sortIndex-Q.sortIndex;return Y!==0?Y:x.id-Q.id}var y=[],v=[],E=1,P=null,T=3,F=!1,z=!1,R=!1;function j(x){for(var Q=h(v);Q!==null;){if(Q.callback===null)m(v);else if(Q.startTime<=x)m(v),Q.sortIndex=Q.expirationTime,p(y,Q);else break;Q=h(v)}}function K(x){if(R=!1,j(x),!z)if(h(y)!==null)z=!0,e(X);else{var Q=h(v);Q!==null&&n(K,Q.startTime-x)}}function X(x,Q){z=!1,R&&(R=!1,r()),F=!0;var Y=T;try{for(j(Q),P=h(y);P!==null&&(!(P.expirationTime>Q)||x&&!t.unstable_shouldYield());){var ae=P.callback;if(typeof ae=="function"){P.callback=null,T=P.priorityLevel;var se=ae(P.expirationTime<=Q);Q=t.unstable_now(),typeof se=="function"?P.callback=se:P===h(y)&&m(y),j(Q)}else m(y);P=h(y)}if(P!==null)var ve=!0;else{var _e=h(v);_e!==null&&n(K,_e.startTime-Q),ve=!1}return ve}finally{P=null,T=Y,F=!1}}var ce=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(x){x.callback=null},t.unstable_continueExecution=function(){z||F||(z=!0,e(X))},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return h(y)},t.unstable_next=function(x){switch(T){case 1:case 2:case 3:var Q=3;break;default:Q=T}var Y=T;T=Q;try{return x()}finally{T=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=ce,t.unstable_runWithPriority=function(x,Q){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var Y=T;T=x;try{return Q()}finally{T=Y}},t.unstable_scheduleCallback=function(x,Q,Y){var ae=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ae+Y:ae):Y=ae,x){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=Y+se,x={id:E++,callback:Q,priorityLevel:x,startTime:Y,expirationTime:se,sortIndex:-1},Y>ae?(x.sortIndex=Y,p(v,x),h(y)===null&&x===h(v)&&(R?r():R=!0,n(K,Y-ae))):(x.sortIndex=se,p(y,x),z||F||(z=!0,e(X))),x},t.unstable_wrapCallback=function(x){var Q=T;return function(){var Y=T;T=Q;try{return x.apply(this,arguments)}finally{T=Y}}}})(Bg);zg.exports=Bg;var y1=zg.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ru=Vt,Pe=Tg,qe=y1;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!ru)throw Error(H(227));var Ug=new Set,Os={};function Pr(t,e){di(t,e),di(t+"Capture",e)}function di(t,e){for(Os[t]=e,t=0;t<e.length;t++)Ug.add(e[t])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qh=Object.prototype.hasOwnProperty,Yh={},Xh={};function w1(t){return Qh.call(Xh,t)?!0:Qh.call(Yh,t)?!1:v1.test(t)?Xh[t]=!0:(Yh[t]=!0,!1)}function E1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function T1(t,e,n,r){if(e===null||typeof e>"u"||E1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ze[t]=new mt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ze[e]=new mt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ze[t]=new mt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ze[t]=new mt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ze[t]=new mt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ze[t]=new mt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ze[t]=new mt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ze[t]=new mt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ze[t]=new mt(t,5,!1,t.toLowerCase(),null,!1,!1)});var gd=/[\-:]([a-z])/g;function _d(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gd,_d);Ze[e]=new mt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gd,_d);Ze[e]=new mt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gd,_d);Ze[e]=new mt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ze[t]=new mt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ze.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ze[t]=new mt(t,1,!1,t.toLowerCase(),null,!0,!0)});function yd(t,e,n,r){var i=Ze.hasOwnProperty(e)?Ze[e]:null,s=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(T1(e,n,i,r)&&(n=null),r||i===null?w1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Rr=ru.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ls=60103,cr=60106,An=60107,vd=60108,ys=60114,wd=60109,Ed=60110,iu=60112,vs=60113,Ea=60120,su=60115,Td=60116,Sd=60121,Id=60128,$g=60129,kd=60130,ic=60131;if(typeof Symbol=="function"&&Symbol.for){var $e=Symbol.for;ls=$e("react.element"),cr=$e("react.portal"),An=$e("react.fragment"),vd=$e("react.strict_mode"),ys=$e("react.profiler"),wd=$e("react.provider"),Ed=$e("react.context"),iu=$e("react.forward_ref"),vs=$e("react.suspense"),Ea=$e("react.suspense_list"),su=$e("react.memo"),Td=$e("react.lazy"),Sd=$e("react.block"),$e("react.scope"),Id=$e("react.opaque.id"),$g=$e("react.debug_trace_mode"),kd=$e("react.offscreen"),ic=$e("react.legacy_hidden")}var Jh=typeof Symbol=="function"&&Symbol.iterator;function Ki(t){return t===null||typeof t!="object"?null:(t=Jh&&t[Jh]||t["@@iterator"],typeof t=="function"?t:null)}var gl;function cs(t){if(gl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gl=e&&e[1]||""}return`
`+gl+t}var _l=!1;function zo(t,e){if(!t||_l)return"";_l=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=l);break}}}finally{_l=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?cs(t):""}function S1(t){switch(t.tag){case 5:return cs(t.type);case 16:return cs("Lazy");case 13:return cs("Suspense");case 19:return cs("SuspenseList");case 0:case 2:case 15:return t=zo(t.type,!1),t;case 11:return t=zo(t.type.render,!1),t;case 22:return t=zo(t.type._render,!1),t;case 1:return t=zo(t.type,!0),t;default:return""}}function ei(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case An:return"Fragment";case cr:return"Portal";case ys:return"Profiler";case vd:return"StrictMode";case vs:return"Suspense";case Ea:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ed:return(t.displayName||"Context")+".Consumer";case wd:return(t._context.displayName||"Context")+".Provider";case iu:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case su:return ei(t.type);case Sd:return ei(t._render);case Td:e=t._payload,t=t._init;try{return ei(t(e))}catch{}}return null}function $n(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Hg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function I1(t){var e=Hg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bo(t){t._valueTracker||(t._valueTracker=I1(t))}function qg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Hg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ta(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sc(t,e){var n=e.checked;return Pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Zh(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=$n(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Wg(t,e){e=e.checked,e!=null&&yd(t,"checked",e,!1)}function oc(t,e){Wg(t,e);var n=$n(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ac(t,e.type,n):e.hasOwnProperty("defaultValue")&&ac(t,e.type,$n(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ep(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ac(t,e,n){(e!=="number"||Ta(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function k1(t){var e="";return ru.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function uc(t,e){return t=Pe({children:void 0},e),(e=k1(e.children))&&(t.children=e),t}function ti(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$n(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function lc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function tp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$n(n)}}function Gg(t,e){var n=$n(e.value),r=$n(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function np(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var cc={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Kg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Kg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Uo,Qg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!==cc.svg||"innerHTML"in t)t.innerHTML=e;else{for(Uo=Uo||document.createElement("div"),Uo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Uo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ls(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ws={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},A1=["Webkit","ms","Moz","O"];Object.keys(ws).forEach(function(t){A1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ws[e]=ws[t]})});function Yg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ws.hasOwnProperty(t)&&ws[t]?(""+e).trim():e+"px"}function Xg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Yg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var C1=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fc(t,e){if(e){if(C1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function hc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ad(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pc=null,ni=null,ri=null;function rp(t){if(t=ao(t)){if(typeof pc!="function")throw Error(H(280));var e=t.stateNode;e&&(e=du(e),pc(t.stateNode,t.type,e))}}function Jg(t){ni?ri?ri.push(t):ri=[t]:ni=t}function Zg(){if(ni){var t=ni,e=ri;if(ri=ni=null,rp(t),e)for(t=0;t<e.length;t++)rp(e[t])}}function Cd(t,e){return t(e)}function e_(t,e,n,r,i){return t(e,n,r,i)}function bd(){}var t_=Cd,dr=!1,yl=!1;function Pd(){(ni!==null||ri!==null)&&(bd(),Zg())}function b1(t,e,n){if(yl)return t(e,n);yl=!0;try{return t_(t,e,n)}finally{yl=!1,Pd()}}function xs(t,e){var n=t.stateNode;if(n===null)return null;var r=du(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var mc=!1;if(gn)try{var Qi={};Object.defineProperty(Qi,"passive",{get:function(){mc=!0}}),window.addEventListener("test",Qi,Qi),window.removeEventListener("test",Qi,Qi)}catch{mc=!1}function P1(t,e,n,r,i,s,o,l,c){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(w){this.onError(w)}}var Es=!1,Sa=null,Ia=!1,gc=null,R1={onError:function(t){Es=!0,Sa=t}};function D1(t,e,n,r,i,s,o,l,c){Es=!1,Sa=null,P1.apply(R1,arguments)}function N1(t,e,n,r,i,s,o,l,c){if(D1.apply(this,arguments),Es){if(Es){var f=Sa;Es=!1,Sa=null}else throw Error(H(198));Ia||(Ia=!0,gc=f)}}function Dr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&1026&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function n_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ip(t){if(Dr(t)!==t)throw Error(H(188))}function M1(t){var e=t.alternate;if(!e){if(e=Dr(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ip(i),t;if(s===r)return ip(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function r_(t){if(t=M1(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function sp(t,e){for(var n=t.alternate;e!==null;){if(e===t||e===n)return!0;e=e.return}return!1}var i_,Rd,s_,o_,_c=!1,Kt=[],Dn=null,Nn=null,Mn=null,Fs=new Map,js=new Map,Yi=[],op="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yc(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function ap(t,e){switch(t){case"focusin":case"focusout":Dn=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":Mn=null;break;case"pointerover":case"pointerout":Fs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":js.delete(e.pointerId)}}function Xi(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t=yc(e,n,r,i,s),e!==null&&(e=ao(e),e!==null&&Rd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function V1(t,e,n,r,i){switch(e){case"focusin":return Dn=Xi(Dn,t,e,n,r,i),!0;case"dragenter":return Nn=Xi(Nn,t,e,n,r,i),!0;case"mouseover":return Mn=Xi(Mn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Fs.set(s,Xi(Fs.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,js.set(s,Xi(js.get(s)||null,t,e,n,r,i)),!0}return!1}function O1(t){var e=fr(t.target);if(e!==null){var n=Dr(e);if(n!==null){if(e=n.tag,e===13){if(e=n_(n),e!==null){t.blockedOn=e,o_(t.lanePriority,function(){qe.unstable_runWithPriority(t.priority,function(){s_(n)})});return}}else if(e===3&&n.stateNode.hydrate){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null)return e=ao(n),e!==null&&Rd(e),t.blockedOn=n,!1;e.shift()}return!0}function up(t,e,n){oa(t)&&n.delete(e)}function L1(){for(_c=!1;0<Kt.length;){var t=Kt[0];if(t.blockedOn!==null){t=ao(t.blockedOn),t!==null&&i_(t);break}for(var e=t.targetContainers;0<e.length;){var n=Vd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null){t.blockedOn=n;break}e.shift()}t.blockedOn===null&&Kt.shift()}Dn!==null&&oa(Dn)&&(Dn=null),Nn!==null&&oa(Nn)&&(Nn=null),Mn!==null&&oa(Mn)&&(Mn=null),Fs.forEach(up),js.forEach(up)}function Ji(t,e){t.blockedOn===e&&(t.blockedOn=null,_c||(_c=!0,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,L1)))}function a_(t){function e(i){return Ji(i,t)}if(0<Kt.length){Ji(Kt[0],t);for(var n=1;n<Kt.length;n++){var r=Kt[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Dn!==null&&Ji(Dn,t),Nn!==null&&Ji(Nn,t),Mn!==null&&Ji(Mn,t),Fs.forEach(e),js.forEach(e),n=0;n<Yi.length;n++)r=Yi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Yi.length&&(n=Yi[0],n.blockedOn===null);)O1(n),n.blockedOn===null&&Yi.shift()}function $o(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Wr={animationend:$o("Animation","AnimationEnd"),animationiteration:$o("Animation","AnimationIteration"),animationstart:$o("Animation","AnimationStart"),transitionend:$o("Transition","TransitionEnd")},vl={},u_={};gn&&(u_=document.createElement("div").style,"AnimationEvent"in window||(delete Wr.animationend.animation,delete Wr.animationiteration.animation,delete Wr.animationstart.animation),"TransitionEvent"in window||delete Wr.transitionend.transition);function ou(t){if(vl[t])return vl[t];if(!Wr[t])return t;var e=Wr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in u_)return vl[t]=e[n];return t}var l_=ou("animationend"),c_=ou("animationiteration"),d_=ou("animationstart"),f_=ou("transitionend"),h_=new Map,Dd=new Map,x1=["abort","abort",l_,"animationEnd",c_,"animationIteration",d_,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",f_,"transitionEnd","waiting","waiting"];function Nd(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Dd.set(r,e),h_.set(r,i),Pr(i,[r])}}var F1=qe.unstable_now;F1();var Te=8;function Br(t){if(1&t)return Te=15,1;if(2&t)return Te=14,2;if(4&t)return Te=13,4;var e=24&t;return e!==0?(Te=12,e):t&32?(Te=11,32):(e=192&t,e!==0?(Te=10,e):t&256?(Te=9,256):(e=3584&t,e!==0?(Te=8,e):t&4096?(Te=7,4096):(e=4186112&t,e!==0?(Te=6,e):(e=62914560&t,e!==0?(Te=5,e):t&67108864?(Te=4,67108864):t&134217728?(Te=3,134217728):(e=805306368&t,e!==0?(Te=2,e):1073741824&t?(Te=1,1073741824):(Te=8,t))))))}function j1(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function z1(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(H(358,t))}}function zs(t,e){var n=t.pendingLanes;if(n===0)return Te=0;var r=0,i=0,s=t.expiredLanes,o=t.suspendedLanes,l=t.pingedLanes;if(s!==0)r=s,i=Te=15;else if(s=n&134217727,s!==0){var c=s&~o;c!==0?(r=Br(c),i=Te):(l&=s,l!==0&&(r=Br(l),i=Te))}else s=n&~o,s!==0?(r=Br(s),i=Te):l!==0&&(r=Br(l),i=Te);if(r===0)return 0;if(r=31-Hn(r),r=n&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&!(e&o)){if(Br(e),i<=Te)return e;Te=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Hn(e),i=1<<n,r|=t[n],e&=~i;return r}function p_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ka(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=Ur(24&~e),t===0?ka(10,e):t;case 10:return t=Ur(192&~e),t===0?ka(8,e):t;case 8:return t=Ur(3584&~e),t===0&&(t=Ur(4186112&~e),t===0&&(t=512)),t;case 2:return e=Ur(805306368&~e),e===0&&(e=268435456),e}throw Error(H(358,t))}function Ur(t){return t&-t}function wl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function au(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,t=t.eventTimes,e=31-Hn(e),t[e]=n}var Hn=Math.clz32?Math.clz32:$1,B1=Math.log,U1=Math.LN2;function $1(t){return t===0?32:31-(B1(t)/U1|0)|0}var H1=qe.unstable_UserBlockingPriority,q1=qe.unstable_runWithPriority,aa=!0;function W1(t,e,n,r){dr||bd();var i=Md,s=dr;dr=!0;try{e_(i,t,e,n,r)}finally{(dr=s)||Pd()}}function G1(t,e,n,r){q1(H1,Md.bind(null,t,e,n,r))}function Md(t,e,n,r){if(aa){var i;if((i=(e&4)===0)&&0<Kt.length&&-1<op.indexOf(t))t=yc(null,t,e,n,r),Kt.push(t);else{var s=Vd(t,e,n,r);if(s===null)i&&ap(t,r);else{if(i){if(-1<op.indexOf(t)){t=yc(s,t,e,n,r),Kt.push(t);return}if(V1(s,t,e,n,r))return;ap(t,r)}A_(t,e,r,null,n)}}}}function Vd(t,e,n,r){var i=Ad(r);if(i=fr(i),i!==null){var s=Dr(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=n_(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return A_(t,e,r,i,n),null}var Cn=null,Od=null,ua=null;function m_(){if(ua)return ua;var t,e=Od,n=e.length,r,i="value"in Cn?Cn.value:Cn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ua=i.slice(t,1<r?1-r:void 0)}function la(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ho(){return!0}function lp(){return!1}function At(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ho:lp,this.isPropagationStopped=lp,this}return Pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ho)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ho)},persist:function(){},isPersistent:Ho}),e}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ld=At(ki),oo=Pe({},ki,{view:0,detail:0}),K1=At(oo),El,Tl,Zi,uu=Pe({},oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zi&&(Zi&&t.type==="mousemove"?(El=t.screenX-Zi.screenX,Tl=t.screenY-Zi.screenY):Tl=El=0,Zi=t),El)},movementY:function(t){return"movementY"in t?t.movementY:Tl}}),cp=At(uu),Q1=Pe({},uu,{dataTransfer:0}),Y1=At(Q1),X1=Pe({},oo,{relatedTarget:0}),Sl=At(X1),J1=Pe({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),Z1=At(J1),ew=Pe({},ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tw=At(ew),nw=Pe({},ki,{data:0}),dp=At(nw),rw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ow(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sw[t])?!!e[t]:!1}function xd(){return ow}var aw=Pe({},oo,{key:function(t){if(t.key){var e=rw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=la(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xd,charCode:function(t){return t.type==="keypress"?la(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?la(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uw=At(aw),lw=Pe({},uu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fp=At(lw),cw=Pe({},oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xd}),dw=At(cw),fw=Pe({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),hw=At(fw),pw=Pe({},uu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mw=At(pw),gw=[9,13,27,32],Fd=gn&&"CompositionEvent"in window,Ts=null;gn&&"documentMode"in document&&(Ts=document.documentMode);var _w=gn&&"TextEvent"in window&&!Ts,g_=gn&&(!Fd||Ts&&8<Ts&&11>=Ts),hp=" ",pp=!1;function __(t,e){switch(t){case"keyup":return gw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function y_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gr=!1;function yw(t,e){switch(t){case"compositionend":return y_(e);case"keypress":return e.which!==32?null:(pp=!0,hp);case"textInput":return t=e.data,t===hp&&pp?null:t;default:return null}}function vw(t,e){if(Gr)return t==="compositionend"||!Fd&&__(t,e)?(t=m_(),ua=Od=Cn=null,Gr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return g_&&e.locale!=="ko"?null:e.data;default:return null}}var ww={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ww[t.type]:e==="textarea"}function v_(t,e,n,r){Jg(r),e=Aa(e,"onChange"),0<e.length&&(n=new Ld("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ss=null,Bs=null;function Ew(t){S_(t,0)}function lu(t){var e=Qr(t);if(qg(e))return t}function Tw(t,e){if(t==="change")return e}var w_=!1;if(gn){var Il;if(gn){var kl="oninput"in document;if(!kl){var gp=document.createElement("div");gp.setAttribute("oninput","return;"),kl=typeof gp.oninput=="function"}Il=kl}else Il=!1;w_=Il&&(!document.documentMode||9<document.documentMode)}function _p(){Ss&&(Ss.detachEvent("onpropertychange",E_),Bs=Ss=null)}function E_(t){if(t.propertyName==="value"&&lu(Bs)){var e=[];if(v_(e,Bs,t,Ad(t)),t=Ew,dr)t(e);else{dr=!0;try{Cd(t,e)}finally{dr=!1,Pd()}}}}function Sw(t,e,n){t==="focusin"?(_p(),Ss=e,Bs=n,Ss.attachEvent("onpropertychange",E_)):t==="focusout"&&_p()}function Iw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lu(Bs)}function kw(t,e){if(t==="click")return lu(e)}function Aw(t,e){if(t==="input"||t==="change")return lu(e)}function Cw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bt=typeof Object.is=="function"?Object.is:Cw,bw=Object.prototype.hasOwnProperty;function Us(t,e){if(bt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!bw.call(e,n[r])||!bt(t[n[r]],e[n[r]]))return!1;return!0}function yp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vp(t,e){var n=yp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yp(n)}}function T_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?T_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wp(){for(var t=window,e=Ta();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ta(t.document)}return e}function vc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Pw=gn&&"documentMode"in document&&11>=document.documentMode,Kr=null,wc=null,Is=null,Ec=!1;function Ep(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ec||Kr==null||Kr!==Ta(r)||(r=Kr,"selectionStart"in r&&vc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Is&&Us(Is,r)||(Is=r,r=Aa(wc,"onSelect"),0<r.length&&(e=new Ld("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Kr)))}Nd("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Nd("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Nd(x1,2);for(var Tp="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Al=0;Al<Tp.length;Al++)Dd.set(Tp[Al],0);di("onMouseEnter",["mouseout","mouseover"]);di("onMouseLeave",["mouseout","mouseover"]);di("onPointerEnter",["pointerout","pointerover"]);di("onPointerLeave",["pointerout","pointerover"]);Pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rw=new Set("cancel close invalid load scroll toggle".split(" ").concat(ds));function Sp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,N1(r,e,void 0,t),t.currentTarget=null}function S_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,f=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;Sp(i,l,f),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,f=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;Sp(i,l,f),s=c}}}if(Ia)throw t=gc,Ia=!1,gc=null,t}function Ae(t,e){var n=b_(e),r=t+"__bubble";n.has(r)||(k_(e,t,2,!1),n.add(r))}var Ip="_reactListening"+Math.random().toString(36).slice(2);function I_(t){t[Ip]||(t[Ip]=!0,Ug.forEach(function(e){Rw.has(e)||kp(e,!1,t,null),kp(e,!0,t,null)}))}function kp(t,e,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=n;t==="selectionchange"&&n.nodeType!==9&&(s=n.ownerDocument);var o=b_(s),l=t+"__"+(e?"capture":"bubble");o.has(l)||(e&&(i|=4),k_(s,t,i,e),o.add(l))}function k_(t,e,n,r){var i=Dd.get(e);switch(i===void 0?2:i){case 0:i=W1;break;case 1:i=G1;break;default:i=Md}n=i.bind(null,e,n,t),i=void 0,!mc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function A_(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=fr(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}b1(function(){var f=s,w=Ad(n),C=[];e:{var A=h_.get(t);if(A!==void 0){var M=Ld,V=t;switch(t){case"keypress":if(la(n)===0)break e;case"keydown":case"keyup":M=uw;break;case"focusin":V="focus",M=Sl;break;case"focusout":V="blur",M=Sl;break;case"beforeblur":case"afterblur":M=Sl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=cp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=Y1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=dw;break;case l_:case c_:case d_:M=Z1;break;case f_:M=hw;break;case"scroll":M=K1;break;case"wheel":M=mw;break;case"copy":case"cut":case"paste":M=tw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=fp}var N=(e&4)!==0,k=!N&&t==="scroll",S=N?A!==null?A+"Capture":null:A;N=[];for(var b=f,D;b!==null;){D=b;var u=D.stateNode;if(D.tag===5&&u!==null&&(D=u,S!==null&&(u=xs(b,S),u!=null&&N.push($s(b,u,D)))),k)break;b=b.return}0<N.length&&(A=new M(A,V,null,n,w),C.push({event:A,listeners:N}))}}if(!(e&7)){e:{if(A=t==="mouseover"||t==="pointerover",M=t==="mouseout"||t==="pointerout",A&&!(e&16)&&(V=n.relatedTarget||n.fromElement)&&(fr(V)||V[Ai]))break e;if((M||A)&&(A=w.window===w?w:(A=w.ownerDocument)?A.defaultView||A.parentWindow:window,M?(V=n.relatedTarget||n.toElement,M=f,V=V?fr(V):null,V!==null&&(k=Dr(V),V!==k||V.tag!==5&&V.tag!==6)&&(V=null)):(M=null,V=f),M!==V)){if(N=cp,u="onMouseLeave",S="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(N=fp,u="onPointerLeave",S="onPointerEnter",b="pointer"),k=M==null?A:Qr(M),D=V==null?A:Qr(V),A=new N(u,b+"leave",M,n,w),A.target=k,A.relatedTarget=D,u=null,fr(w)===f&&(N=new N(S,b+"enter",V,n,w),N.target=D,N.relatedTarget=k,u=N),k=u,M&&V)t:{for(N=M,S=V,b=0,D=N;D;D=zr(D))b++;for(D=0,u=S;u;u=zr(u))D++;for(;0<b-D;)N=zr(N),b--;for(;0<D-b;)S=zr(S),D--;for(;b--;){if(N===S||S!==null&&N===S.alternate)break t;N=zr(N),S=zr(S)}N=null}else N=null;M!==null&&Ap(C,A,M,N,!1),V!==null&&k!==null&&Ap(C,k,V,N,!0)}}e:{if(A=f?Qr(f):window,M=A.nodeName&&A.nodeName.toLowerCase(),M==="select"||M==="input"&&A.type==="file")var p=Tw;else if(mp(A))if(w_)p=Aw;else{p=Iw;var h=Sw}else(M=A.nodeName)&&M.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(p=kw);if(p&&(p=p(t,f))){v_(C,p,n,w);break e}h&&h(t,A,f),t==="focusout"&&(h=A._wrapperState)&&h.controlled&&A.type==="number"&&ac(A,"number",A.value)}switch(h=f?Qr(f):window,t){case"focusin":(mp(h)||h.contentEditable==="true")&&(Kr=h,wc=f,Is=null);break;case"focusout":Is=wc=Kr=null;break;case"mousedown":Ec=!0;break;case"contextmenu":case"mouseup":case"dragend":Ec=!1,Ep(C,n,w);break;case"selectionchange":if(Pw)break;case"keydown":case"keyup":Ep(C,n,w)}var m;if(Fd)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else Gr?__(t,n)&&(g="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(g_&&n.locale!=="ko"&&(Gr||g!=="onCompositionStart"?g==="onCompositionEnd"&&Gr&&(m=m_()):(Cn=w,Od="value"in Cn?Cn.value:Cn.textContent,Gr=!0)),h=Aa(f,g),0<h.length&&(g=new dp(g,t,null,n,w),C.push({event:g,listeners:h}),m?g.data=m:(m=y_(n),m!==null&&(g.data=m)))),(m=_w?yw(t,n):vw(t,n))&&(f=Aa(f,"onBeforeInput"),0<f.length&&(w=new dp("onBeforeInput","beforeinput",null,n,w),C.push({event:w,listeners:f}),w.data=m))}S_(C,e)})}function $s(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Aa(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=xs(t,n),s!=null&&r.unshift($s(t,s,i)),s=xs(t,e),s!=null&&r.push($s(t,s,i))),t=t.return}return r}function zr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ap(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,f=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&f!==null&&(l=f,i?(c=xs(n,s),c!=null&&o.unshift($s(n,c,l))):i||(c=xs(n,s),c!=null&&o.push($s(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}function Ca(){}var Cl=null,bl=null;function C_(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Tc(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Cp=typeof setTimeout=="function"?setTimeout:void 0,Dw=typeof clearTimeout=="function"?clearTimeout:void 0;function jd(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function ii(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function bp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Pl=0;function Nw(t){return{$$typeof:Id,toString:t,valueOf:t}}var cu=Math.random().toString(36).slice(2),bn="__reactFiber$"+cu,ba="__reactProps$"+cu,Ai="__reactContainer$"+cu,Pp="__reactEvents$"+cu;function fr(t){var e=t[bn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ai]||n[bn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=bp(t);t!==null;){if(n=t[bn])return n;t=bp(t)}return e}t=n,n=t.parentNode}return null}function ao(t){return t=t[bn]||t[Ai],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function du(t){return t[ba]||null}function b_(t){var e=t[Pp];return e===void 0&&(e=t[Pp]=new Set),e}var Sc=[],Yr=-1;function Zn(t){return{current:t}}function Ce(t){0>Yr||(t.current=Sc[Yr],Sc[Yr]=null,Yr--)}function Me(t,e){Yr++,Sc[Yr]=t.current,t.current=e}var qn={},ct=Zn(qn),yt=Zn(!1),wr=qn;function fi(t,e){var n=t.type.contextTypes;if(!n)return qn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function vt(t){return t=t.childContextTypes,t!=null}function Pa(){Ce(yt),Ce(ct)}function Rp(t,e,n){if(ct.current!==qn)throw Error(H(168));Me(ct,e),Me(yt,n)}function P_(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(H(108,ei(e)||"Unknown",i));return Pe({},n,r)}function ca(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qn,wr=ct.current,Me(ct,t),Me(yt,yt.current),!0}function Dp(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=P_(t,e,wr),r.__reactInternalMemoizedMergedChildContext=t,Ce(yt),Ce(ct),Me(ct,t)):Ce(yt),Me(yt,n)}var zd=null,_r=null,Mw=qe.unstable_runWithPriority,Bd=qe.unstable_scheduleCallback,Ic=qe.unstable_cancelCallback,Vw=qe.unstable_shouldYield,Np=qe.unstable_requestPaint,kc=qe.unstable_now,Ow=qe.unstable_getCurrentPriorityLevel,fu=qe.unstable_ImmediatePriority,R_=qe.unstable_UserBlockingPriority,D_=qe.unstable_NormalPriority,N_=qe.unstable_LowPriority,M_=qe.unstable_IdlePriority,Rl={},Lw=Np!==void 0?Np:function(){},dn=null,da=null,Dl=!1,Mp=kc(),ut=1e4>Mp?kc:function(){return kc()-Mp};function hi(){switch(Ow()){case fu:return 99;case R_:return 98;case D_:return 97;case N_:return 96;case M_:return 95;default:throw Error(H(332))}}function V_(t){switch(t){case 99:return fu;case 98:return R_;case 97:return D_;case 96:return N_;case 95:return M_;default:throw Error(H(332))}}function Er(t,e){return t=V_(t),Mw(t,e)}function Hs(t,e,n){return t=V_(t),Bd(t,e,n)}function on(){if(da!==null){var t=da;da=null,Ic(t)}O_()}function O_(){if(!Dl&&dn!==null){Dl=!0;var t=0;try{var e=dn;Er(99,function(){for(;t<e.length;t++){var n=e[t];do n=n(!0);while(n!==null)}}),dn=null}catch(n){throw dn!==null&&(dn=dn.slice(t+1)),Bd(fu,on),n}finally{Dl=!1}}}var xw=Rr.ReactCurrentBatchConfig;function $t(t,e){if(t&&t.defaultProps){e=Pe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ra=Zn(null),Da=null,Xr=null,Na=null;function Ud(){Na=Xr=Da=null}function $d(t){var e=Ra.current;Ce(Ra),t.type._context._currentValue=e}function L_(t,e){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)===e){if(n===null||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,n!==null&&(n.childLanes|=e);t=t.return}}function si(t,e){Da=t,Na=Xr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ht=!0),t.firstContext=null)}function Nt(t,e){if(Na!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Na=t,e=1073741823),e={context:t,observedBits:e,next:null},Xr===null){if(Da===null)throw Error(H(308));Xr=e,Da.dependencies={lanes:0,firstContext:e,responders:null}}else Xr=Xr.next=e;return t._currentValue}var kn=!1;function Hd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function x_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function On(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function Vp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function qs(t,e,n,r){var i=t.updateQueue;kn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,f=c.next;c.next=null,o===null?s=f:o.next=f,o=c;var w=t.alternate;if(w!==null){w=w.updateQueue;var C=w.lastBaseUpdate;C!==o&&(C===null?w.firstBaseUpdate=f:C.next=f,w.lastBaseUpdate=c)}}if(s!==null){C=i.baseState,o=0,w=f=c=null;do{l=s.lane;var A=s.eventTime;if((r&l)===l){w!==null&&(w=w.next={eventTime:A,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var M=t,V=s;switch(l=e,A=n,V.tag){case 1:if(M=V.payload,typeof M=="function"){C=M.call(A,C,l);break e}C=M;break e;case 3:M.flags=M.flags&-4097|64;case 0:if(M=V.payload,l=typeof M=="function"?M.call(A,C,l):M,l==null)break e;C=Pe({},C,l);break e;case 2:kn=!0}}s.callback!==null&&(t.flags|=32,l=i.effects,l===null?i.effects=[s]:l.push(s))}else A={eventTime:A,lane:l,tag:s.tag,payload:s.payload,callback:s.callback,next:null},w===null?(f=w=A,c=C):w=w.next=A,o|=l;if(s=s.next,s===null){if(l=i.shared.pending,l===null)break;s=l.next,l.next=null,i.lastBaseUpdate=l,i.shared.pending=null}}while(!0);w===null&&(c=C),i.baseState=c,i.firstBaseUpdate=f,i.lastBaseUpdate=w,lo|=o,t.lanes=o,t.memoizedState=C}}function Op(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var F_=new ru.Component().refs;function Ma(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hu={isMounted:function(t){return(t=t._reactInternals)?Dr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=St(),i=Ln(t),s=Vn(r,i);s.payload=e,n!=null&&(s.callback=n),On(t,s),xn(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=St(),i=Ln(t),s=Vn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),On(t,s),xn(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=St(),r=Ln(t),i=Vn(n,r);i.tag=2,e!=null&&(i.callback=e),On(t,i),xn(t,r,n)}};function Lp(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Us(n,r)||!Us(i,s):!0}function j_(t,e,n){var r=!1,i=qn,s=e.contextType;return typeof s=="object"&&s!==null?s=Nt(s):(i=vt(e)?wr:ct.current,r=e.contextTypes,s=(r=r!=null)?fi(t,i):qn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function xp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&hu.enqueueReplaceState(e,e.state,null)}function Ac(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=F_,Hd(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Nt(s):(s=vt(e)?wr:ct.current,i.context=fi(t,s)),qs(t,n,i,r),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ma(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&hu.enqueueReplaceState(i,i.state,null),qs(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var qo=Array.isArray;function es(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=r.refs;o===F_&&(o=r.refs={}),s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function Wo(t,e){if(t.type!=="textarea")throw Error(H(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function z_(t){function e(k,S){if(t){var b=k.lastEffect;b!==null?(b.nextEffect=S,k.lastEffect=S):k.firstEffect=k.lastEffect=S,S.nextEffect=null,S.flags=8}}function n(k,S){if(!t)return null;for(;S!==null;)e(k,S),S=S.sibling;return null}function r(k,S){for(k=new Map;S!==null;)S.key!==null?k.set(S.key,S):k.set(S.index,S),S=S.sibling;return k}function i(k,S){return k=Gn(k,S),k.index=0,k.sibling=null,k}function s(k,S,b){return k.index=b,t?(b=k.alternate,b!==null?(b=b.index,b<S?(k.flags=2,S):b):(k.flags=2,S)):S}function o(k){return t&&k.alternate===null&&(k.flags=2),k}function l(k,S,b,D){return S===null||S.tag!==6?(S=Ll(b,k.mode,D),S.return=k,S):(S=i(S,b),S.return=k,S)}function c(k,S,b,D){return S!==null&&S.elementType===b.type?(D=i(S,b.props),D.ref=es(k,S,b),D.return=k,D):(D=ma(b.type,b.key,b.props,null,k.mode,D),D.ref=es(k,S,b),D.return=k,D)}function f(k,S,b,D){return S===null||S.tag!==4||S.stateNode.containerInfo!==b.containerInfo||S.stateNode.implementation!==b.implementation?(S=xl(b,k.mode,D),S.return=k,S):(S=i(S,b.children||[]),S.return=k,S)}function w(k,S,b,D,u){return S===null||S.tag!==7?(S=li(b,k.mode,D,u),S.return=k,S):(S=i(S,b),S.return=k,S)}function C(k,S,b){if(typeof S=="string"||typeof S=="number")return S=Ll(""+S,k.mode,b),S.return=k,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ls:return b=ma(S.type,S.key,S.props,null,k.mode,b),b.ref=es(k,null,S),b.return=k,b;case cr:return S=xl(S,k.mode,b),S.return=k,S}if(qo(S)||Ki(S))return S=li(S,k.mode,b,null),S.return=k,S;Wo(k,S)}return null}function A(k,S,b,D){var u=S!==null?S.key:null;if(typeof b=="string"||typeof b=="number")return u!==null?null:l(k,S,""+b,D);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ls:return b.key===u?b.type===An?w(k,S,b.props.children,D,u):c(k,S,b,D):null;case cr:return b.key===u?f(k,S,b,D):null}if(qo(b)||Ki(b))return u!==null?null:w(k,S,b,D,null);Wo(k,b)}return null}function M(k,S,b,D,u){if(typeof D=="string"||typeof D=="number")return k=k.get(b)||null,l(S,k,""+D,u);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ls:return k=k.get(D.key===null?b:D.key)||null,D.type===An?w(S,k,D.props.children,u,D.key):c(S,k,D,u);case cr:return k=k.get(D.key===null?b:D.key)||null,f(S,k,D,u)}if(qo(D)||Ki(D))return k=k.get(b)||null,w(S,k,D,u,null);Wo(S,D)}return null}function V(k,S,b,D){for(var u=null,p=null,h=S,m=S=0,g=null;h!==null&&m<b.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=A(k,h,b[m],D);if(y===null){h===null&&(h=g);break}t&&h&&y.alternate===null&&e(k,h),S=s(y,S,m),p===null?u=y:p.sibling=y,p=y,h=g}if(m===b.length)return n(k,h),u;if(h===null){for(;m<b.length;m++)h=C(k,b[m],D),h!==null&&(S=s(h,S,m),p===null?u=h:p.sibling=h,p=h);return u}for(h=r(k,h);m<b.length;m++)g=M(h,k,m,b[m],D),g!==null&&(t&&g.alternate!==null&&h.delete(g.key===null?m:g.key),S=s(g,S,m),p===null?u=g:p.sibling=g,p=g);return t&&h.forEach(function(v){return e(k,v)}),u}function N(k,S,b,D){var u=Ki(b);if(typeof u!="function")throw Error(H(150));if(b=u.call(b),b==null)throw Error(H(151));for(var p=u=null,h=S,m=S=0,g=null,y=b.next();h!==null&&!y.done;m++,y=b.next()){h.index>m?(g=h,h=null):g=h.sibling;var v=A(k,h,y.value,D);if(v===null){h===null&&(h=g);break}t&&h&&v.alternate===null&&e(k,h),S=s(v,S,m),p===null?u=v:p.sibling=v,p=v,h=g}if(y.done)return n(k,h),u;if(h===null){for(;!y.done;m++,y=b.next())y=C(k,y.value,D),y!==null&&(S=s(y,S,m),p===null?u=y:p.sibling=y,p=y);return u}for(h=r(k,h);!y.done;m++,y=b.next())y=M(h,k,m,y.value,D),y!==null&&(t&&y.alternate!==null&&h.delete(y.key===null?m:y.key),S=s(y,S,m),p===null?u=y:p.sibling=y,p=y);return t&&h.forEach(function(E){return e(k,E)}),u}return function(k,S,b,D){var u=typeof b=="object"&&b!==null&&b.type===An&&b.key===null;u&&(b=b.props.children);var p=typeof b=="object"&&b!==null;if(p)switch(b.$$typeof){case ls:e:{for(p=b.key,u=S;u!==null;){if(u.key===p){switch(u.tag){case 7:if(b.type===An){n(k,u.sibling),S=i(u,b.props.children),S.return=k,k=S;break e}break;default:if(u.elementType===b.type){n(k,u.sibling),S=i(u,b.props),S.ref=es(k,u,b),S.return=k,k=S;break e}}n(k,u);break}else e(k,u);u=u.sibling}b.type===An?(S=li(b.props.children,k.mode,D,b.key),S.return=k,k=S):(D=ma(b.type,b.key,b.props,null,k.mode,D),D.ref=es(k,S,b),D.return=k,k=D)}return o(k);case cr:e:{for(u=b.key;S!==null;){if(S.key===u)if(S.tag===4&&S.stateNode.containerInfo===b.containerInfo&&S.stateNode.implementation===b.implementation){n(k,S.sibling),S=i(S,b.children||[]),S.return=k,k=S;break e}else{n(k,S);break}else e(k,S);S=S.sibling}S=xl(b,k.mode,D),S.return=k,k=S}return o(k)}if(typeof b=="string"||typeof b=="number")return b=""+b,S!==null&&S.tag===6?(n(k,S.sibling),S=i(S,b),S.return=k,k=S):(n(k,S),S=Ll(b,k.mode,D),S.return=k,k=S),o(k);if(qo(b))return V(k,S,b,D);if(Ki(b))return N(k,S,b,D);if(p&&Wo(k,b),typeof b>"u"&&!u)switch(k.tag){case 1:case 22:case 0:case 11:case 15:throw Error(H(152,ei(k.type)||"Component"))}return n(k,S)}}var Va=z_(!0),B_=z_(!1),uo={},Xt=Zn(uo),Ws=Zn(uo),Gs=Zn(uo);function hr(t){if(t===uo)throw Error(H(174));return t}function Cc(t,e){switch(Me(Gs,e),Me(Ws,t),Me(Xt,uo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=dc(e,t)}Ce(Xt),Me(Xt,e)}function pi(){Ce(Xt),Ce(Ws),Ce(Gs)}function Fp(t){hr(Gs.current);var e=hr(Xt.current),n=dc(e,t.type);e!==n&&(Me(Ws,t),Me(Xt,n))}function qd(t){Ws.current===t&&(Ce(Xt),Ce(Ws))}var Ne=Zn(0);function Oa(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&64)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hn=null,Pn=null,Jt=!1;function U_(t,e){var n=Pt(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function jp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function bc(t){if(Jt){var e=Pn;if(e){var n=e;if(!jp(t,e)){if(e=ii(n.nextSibling),!e||!jp(t,e)){t.flags=t.flags&-1025|2,Jt=!1,hn=t;return}U_(hn,n)}hn=t,Pn=ii(e.firstChild)}else t.flags=t.flags&-1025|2,Jt=!1,hn=t}}function zp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hn=t}function Go(t){if(t!==hn)return!1;if(!Jt)return zp(t),Jt=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!Tc(e,t.memoizedProps))for(e=Pn;e;)U_(t,e),e=ii(e.nextSibling);if(zp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Pn=ii(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Pn=null}}else Pn=hn?ii(t.stateNode.nextSibling):null;return!0}function Nl(){Pn=hn=null,Jt=!1}var oi=[];function Wd(){for(var t=0;t<oi.length;t++)oi[t]._workInProgressVersionPrimary=null;oi.length=0}var ks=Rr.ReactCurrentDispatcher,Dt=Rr.ReactCurrentBatchConfig,Ks=0,Oe=null,st=null,Ke=null,La=!1,As=!1;function gt(){throw Error(H(321))}function Gd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bt(t[n],e[n]))return!1;return!0}function Kd(t,e,n,r,i,s){if(Ks=s,Oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ks.current=t===null||t.memoizedState===null?jw:zw,t=n(r,i),As){s=0;do{if(As=!1,!(25>s))throw Error(H(301));s+=1,Ke=st=null,e.updateQueue=null,ks.current=Bw,t=n(r,i)}while(As)}if(ks.current=za,e=st!==null&&st.next!==null,Ks=0,Ke=st=Oe=null,La=!1,e)throw Error(H(300));return t}function pr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Oe.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function Nr(){if(st===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var e=Ke===null?Oe.memoizedState:Ke.next;if(e!==null)Ke=e,st=t;else{if(t===null)throw Error(H(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Ke===null?Oe.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function Qt(t,e){return typeof e=="function"?e(t):e}function ts(t){var e=Nr(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=st,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var l=o=s=null,c=i;do{var f=c.lane;if((Ks&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===t?c.eagerState:t(r,c.action);else{var w={lane:f,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};l===null?(o=l=w,s=r):l=l.next=w,Oe.lanes|=f,lo|=f}c=c.next}while(c!==null&&c!==i);l===null?s=r:l.next=o,bt(r,e.memoizedState)||(Ht=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function ns(t){var e=Nr(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);bt(s,e.memoizedState)||(Ht=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Bp(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===r:(t=t.mutableReadLanes,(t=(Ks&t)===t)&&(e._workInProgressVersionPrimary=r,oi.push(e))),t)return n(e._source);throw oi.push(e),Error(H(350))}function $_(t,e,n,r){var i=pt;if(i===null)throw Error(H(349));var s=e._getVersion,o=s(e._source),l=ks.current,c=l.useState(function(){return Bp(i,e,n)}),f=c[1],w=c[0];c=Ke;var C=t.memoizedState,A=C.refs,M=A.getSnapshot,V=C.source;C=C.subscribe;var N=Oe;return t.memoizedState={refs:A,source:e,subscribe:r},l.useEffect(function(){A.getSnapshot=n,A.setSnapshot=f;var k=s(e._source);if(!bt(o,k)){k=n(e._source),bt(w,k)||(f(k),k=Ln(N),i.mutableReadLanes|=k&i.pendingLanes),k=i.mutableReadLanes,i.entangledLanes|=k;for(var S=i.entanglements,b=k;0<b;){var D=31-Hn(b),u=1<<D;S[D]|=k,b&=~u}}},[n,e,r]),l.useEffect(function(){return r(e._source,function(){var k=A.getSnapshot,S=A.setSnapshot;try{S(k(e._source));var b=Ln(N);i.mutableReadLanes|=b&i.pendingLanes}catch(D){S(function(){throw D})}})},[e,r]),bt(M,n)&&bt(V,e)&&bt(C,r)||(t={pending:null,dispatch:null,lastRenderedReducer:Qt,lastRenderedState:w},t.dispatch=f=Xd.bind(null,Oe,t),c.queue=t,c.baseQueue=null,w=Bp(i,e,n),c.memoizedState=c.baseState=w),w}function H_(t,e,n){var r=Nr();return $_(r,t,e,n)}function rs(t){var e=pr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Qt,lastRenderedState:t},t=t.dispatch=Xd.bind(null,Oe,t),[e.memoizedState,t]}function xa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Oe.updateQueue,e===null?(e={lastEffect:null},Oe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Up(t){var e=pr();return t={current:t},e.memoizedState=t}function Fa(){return Nr().memoizedState}function Pc(t,e,n,r){var i=pr();Oe.flags|=t,i.memoizedState=xa(1|e,n,void 0,r===void 0?null:r)}function Qd(t,e,n,r){var i=Nr();r=r===void 0?null:r;var s=void 0;if(st!==null){var o=st.memoizedState;if(s=o.destroy,r!==null&&Gd(r,o.deps)){xa(e,n,s,r);return}}Oe.flags|=t,i.memoizedState=xa(1|e,n,s,r)}function $p(t,e){return Pc(516,4,t,e)}function ja(t,e){return Qd(516,4,t,e)}function q_(t,e){return Qd(4,2,t,e)}function W_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function G_(t,e,n){return n=n!=null?n.concat([t]):null,Qd(4,2,W_.bind(null,e,t),n)}function Yd(){}function K_(t,e){var n=Nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Q_(t,e){var n=Nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Fw(t,e){var n=hi();Er(98>n?98:n,function(){t(!0)}),Er(97<n?97:n,function(){var r=Dt.transition;Dt.transition=1;try{t(!1),e()}finally{Dt.transition=r}})}function Xd(t,e,n){var r=St(),i=Ln(t),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?s.next=s:(s.next=o.next,o.next=s),e.pending=s,o=t.alternate,t===Oe||o!==null&&o===Oe)As=La=!0;else{if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,c=o(l,n);if(s.eagerReducer=o,s.eagerState=c,bt(c,l))return}catch{}finally{}xn(t,i,r)}}var za={readContext:Nt,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useOpaqueIdentifier:gt,unstable_isNewReconciler:!1},jw={readContext:Nt,useCallback:function(t,e){return pr().memoizedState=[t,e===void 0?null:e],t},useContext:Nt,useEffect:$p,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Pc(4,2,W_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Pc(4,2,t,e)},useMemo:function(t,e){var n=pr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=pr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=Xd.bind(null,Oe,t),[r.memoizedState,t]},useRef:Up,useState:rs,useDebugValue:Yd,useDeferredValue:function(t){var e=rs(t),n=e[0],r=e[1];return $p(function(){var i=Dt.transition;Dt.transition=1;try{r(t)}finally{Dt.transition=i}},[t]),n},useTransition:function(){var t=rs(!1),e=t[0];return t=Fw.bind(null,t[1]),Up(t),[t,e]},useMutableSource:function(t,e,n){var r=pr();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},$_(r,t,e,n)},useOpaqueIdentifier:function(){if(Jt){var t=!1,e=Nw(function(){throw t||(t=!0,n("r:"+(Pl++).toString(36))),Error(H(355))}),n=rs(e)[1];return!(Oe.mode&2)&&(Oe.flags|=516,xa(5,function(){n("r:"+(Pl++).toString(36))},void 0,null)),e}return e="r:"+(Pl++).toString(36),rs(e),e},unstable_isNewReconciler:!1},zw={readContext:Nt,useCallback:K_,useContext:Nt,useEffect:ja,useImperativeHandle:G_,useLayoutEffect:q_,useMemo:Q_,useReducer:ts,useRef:Fa,useState:function(){return ts(Qt)},useDebugValue:Yd,useDeferredValue:function(t){var e=ts(Qt),n=e[0],r=e[1];return ja(function(){var i=Dt.transition;Dt.transition=1;try{r(t)}finally{Dt.transition=i}},[t]),n},useTransition:function(){var t=ts(Qt)[0];return[Fa().current,t]},useMutableSource:H_,useOpaqueIdentifier:function(){return ts(Qt)[0]},unstable_isNewReconciler:!1},Bw={readContext:Nt,useCallback:K_,useContext:Nt,useEffect:ja,useImperativeHandle:G_,useLayoutEffect:q_,useMemo:Q_,useReducer:ns,useRef:Fa,useState:function(){return ns(Qt)},useDebugValue:Yd,useDeferredValue:function(t){var e=ns(Qt),n=e[0],r=e[1];return ja(function(){var i=Dt.transition;Dt.transition=1;try{r(t)}finally{Dt.transition=i}},[t]),n},useTransition:function(){var t=ns(Qt)[0];return[Fa().current,t]},useMutableSource:H_,useOpaqueIdentifier:function(){return ns(Qt)[0]},unstable_isNewReconciler:!1},Uw=Rr.ReactCurrentOwner,Ht=!1;function _t(t,e,n,r){e.child=t===null?B_(e,null,n,r):Va(e,t.child,n,r)}function Hp(t,e,n,r,i){n=n.render;var s=e.ref;return si(e,i),r=Kd(t,e,n,r,s,i),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,pn(t,e,i)):(e.flags|=1,_t(t,e,r,i),e.child)}function qp(t,e,n,r,i,s){if(t===null){var o=n.type;return typeof o=="function"&&!rf(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Y_(t,e,o,r,i,s)):(t=ma(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,!(i&s)&&(i=o.memoizedProps,n=n.compare,n=n!==null?n:Us,n(i,r)&&t.ref===e.ref)?pn(t,e,s):(e.flags|=1,t=Gn(o,r),t.ref=e.ref,t.return=e,e.child=t)}function Y_(t,e,n,r,i,s){if(t!==null&&Us(t.memoizedProps,r)&&t.ref===e.ref)if(Ht=!1,(s&i)!==0)t.flags&16384&&(Ht=!0);else return e.lanes=t.lanes,pn(t,e,s);return Rc(t,e,n,r,s)}function Ml(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if(!(e.mode&4))e.memoizedState={baseLanes:0},Qo(e,n);else if(n&1073741824)e.memoizedState={baseLanes:0},Qo(e,s!==null?s.baseLanes:n);else return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},Qo(e,t),null;else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Qo(e,r);return _t(t,e,i,n),e.child}function X_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=128)}function Rc(t,e,n,r,i){var s=vt(n)?wr:ct.current;return s=fi(e,s),si(e,i),n=Kd(t,e,n,r,s,i),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,pn(t,e,i)):(e.flags|=1,_t(t,e,n,i),e.child)}function Wp(t,e,n,r,i){if(vt(n)){var s=!0;ca(e)}else s=!1;if(si(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),j_(e,n,r),Ac(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,f=n.contextType;typeof f=="object"&&f!==null?f=Nt(f):(f=vt(n)?wr:ct.current,f=fi(e,f));var w=n.getDerivedStateFromProps,C=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function";C||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==f)&&xp(e,o,r,f),kn=!1;var A=e.memoizedState;o.state=A,qs(e,r,o,i),c=e.memoizedState,l!==r||A!==c||yt.current||kn?(typeof w=="function"&&(Ma(e,n,w,r),c=e.memoizedState),(l=kn||Lp(e,n,l,r,A,c,f))?(C||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=f,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{o=e.stateNode,x_(t,e),l=e.memoizedProps,f=e.type===e.elementType?l:$t(e.type,l),o.props=f,C=e.pendingProps,A=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Nt(c):(c=vt(n)?wr:ct.current,c=fi(e,c));var M=n.getDerivedStateFromProps;(w=typeof M=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==C||A!==c)&&xp(e,o,r,c),kn=!1,A=e.memoizedState,o.state=A,qs(e,r,o,i);var V=e.memoizedState;l!==C||A!==V||yt.current||kn?(typeof M=="function"&&(Ma(e,n,M,r),V=e.memoizedState),(f=kn||Lp(e,n,f,r,A,V,c))?(w||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,V,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,V,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&A===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&A===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=V),o.props=r,o.state=V,o.context=c,r=f):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&A===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&A===t.memoizedState||(e.flags|=256),r=!1)}return Dc(t,e,n,r,s,i)}function Dc(t,e,n,r,i,s){X_(t,e);var o=(e.flags&64)!==0;if(!r&&!o)return i&&Dp(e,n,!1),pn(t,e,s);r=e.stateNode,Uw.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Va(e,t.child,null,s),e.child=Va(e,null,l,s)):_t(t,e,l,s),e.memoizedState=r.state,i&&Dp(e,n,!0),e.child}function Gp(t){var e=t.stateNode;e.pendingContext?Rp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Rp(t,e.context,!1),Cc(t,e.containerInfo)}var Ko={dehydrated:null,retryLane:0};function Kp(t,e,n){var r=e.pendingProps,i=Ne.current,s=!1,o;return(o=(e.flags&64)!==0)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-65):t!==null&&t.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),Me(Ne,i&1),t===null?(r.fallback!==void 0&&bc(e),t=r.children,i=r.fallback,s?(t=Qp(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Ko,t):typeof r.unstable_expectedLoadTime=="number"?(t=Qp(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Ko,e.lanes=33554432,t):(n=sf({mode:"visible",children:t},e.mode,n,null),n.return=e,e.child=n)):t.memoizedState!==null?s?(r=Xp(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=Ko,r):(n=Yp(t,e,r.children,n),e.memoizedState=null,n):s?(r=Xp(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=Ko,r):(n=Yp(t,e,r.children,n),e.memoizedState=null,n)}function Qp(t,e,n,r){var i=t.mode,s=t.child;return e={mode:"hidden",children:e},!(i&2)&&s!==null?(s.childLanes=0,s.pendingProps=e):s=sf(e,i,0,null),n=li(n,i,r,null),s.return=t,n.return=t,s.sibling=n,t.child=s,n}function Yp(t,e,n,r){var i=t.child;return t=i.sibling,n=Gn(i,{mode:"visible",children:n}),!(e.mode&2)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function Xp(t,e,n,r,i){var s=e.mode,o=t.child;t=o.sibling;var l={mode:"hidden",children:n};return!(s&2)&&e.child!==o?(n=e.child,n.childLanes=0,n.pendingProps=l,o=n.lastEffect,o!==null?(e.firstEffect=n.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Gn(o,l),t!==null?r=Gn(t,r):(r=li(r,s,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function Jp(t,e){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),L_(t.return,e)}function Vl(t,e,n,r,i,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function Zp(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(_t(t,e,r.children,n),r=Ne.current,r&2)r=r&1|2,e.flags|=64;else{if(t!==null&&t.flags&64)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jp(t,n);else if(t.tag===19)Jp(t,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Me(Ne,r),!(e.mode&2))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Oa(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Vl(e,!1,i,n,s,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Oa(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Vl(e,!0,n,null,s,e.lastEffect);break;case"together":Vl(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function pn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),lo|=e.lanes,n&e.childLanes){if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=Gn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Gn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}return null}var J_,Nc,Z_,ey;J_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Nc=function(){};Z_=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,hr(Xt.current);var s=null;switch(n){case"input":i=sc(t,i),r=sc(t,r),s=[];break;case"option":i=uc(t,i),r=uc(t,r),s=[];break;case"select":i=Pe({},i,{value:void 0}),r=Pe({},r,{value:void 0}),s=[];break;case"textarea":i=lc(t,i),r=lc(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ca)}fc(n,r);var o;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var l=i[f];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Os.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var c=r[f];if(l=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&c!==l&&(c!=null||l!=null))if(f==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(f,n)),n=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Os.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&Ae("scroll",t),s||l===c||(s=[])):typeof c=="object"&&c!==null&&c.$$typeof===Id?c.toString():(s=s||[]).push(f,c))}n&&(s=s||[]).push("style",n);var f=s;(e.updateQueue=f)&&(e.flags|=4)}};ey=function(t,e,n,r){n!==r&&(e.flags|=4)};function is(t,e){if(!Jt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $w(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return vt(e.type)&&Pa(),null;case 3:return pi(),Ce(yt),Ce(ct),Wd(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Go(e)?e.flags|=4:r.hydrate||(e.flags|=256)),Nc(e),null;case 5:qd(e);var i=hr(Gs.current);if(n=e.type,t!==null&&e.stateNode!=null)Z_(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(H(166));return null}if(t=hr(Xt.current),Go(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[bn]=e,r[ba]=s,n){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(t=0;t<ds.length;t++)Ae(ds[t],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":Zh(r,s),Ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ae("invalid",r);break;case"textarea":tp(r,s),Ae("invalid",r)}fc(n,s),t=null;for(var o in s)s.hasOwnProperty(o)&&(i=s[o],o==="children"?typeof i=="string"?r.textContent!==i&&(t=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(t=["children",""+i]):Os.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&Ae("scroll",r));switch(n){case"input":Bo(r),ep(r,s,!0);break;case"textarea":Bo(r),np(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ca)}r=t,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,t===cc.html&&(t=Kg(n)),t===cc.html?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[bn]=e,t[ba]=r,J_(t,e,!1,!1),e.stateNode=t,o=hc(n,r),n){case"dialog":Ae("cancel",t),Ae("close",t),i=r;break;case"iframe":case"object":case"embed":Ae("load",t),i=r;break;case"video":case"audio":for(i=0;i<ds.length;i++)Ae(ds[i],t);i=r;break;case"source":Ae("error",t),i=r;break;case"img":case"image":case"link":Ae("error",t),Ae("load",t),i=r;break;case"details":Ae("toggle",t),i=r;break;case"input":Zh(t,r),i=sc(t,r),Ae("invalid",t);break;case"option":i=uc(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Pe({},r,{value:void 0}),Ae("invalid",t);break;case"textarea":tp(t,r),i=lc(t,r),Ae("invalid",t);break;default:i=r}fc(n,i);var l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?Xg(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Qg(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ls(t,c):typeof c=="number"&&Ls(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Os.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ae("scroll",t):c!=null&&yd(t,s,c,o))}switch(n){case"input":Bo(t),ep(t,r,!1);break;case"textarea":Bo(t),np(t);break;case"option":r.value!=null&&t.setAttribute("value",""+$n(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ti(t,!!r.multiple,s,!1):r.defaultValue!=null&&ti(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ca)}C_(n,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)ey(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));n=hr(Gs.current),hr(Xt.current),Go(e)?(r=e.stateNode,n=e.memoizedProps,r[bn]=e,r.nodeValue!==n&&(e.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bn]=e,e.stateNode=r)}return null;case 13:return Ce(Ne),r=e.memoizedState,e.flags&64?(e.lanes=n,e):(r=r!==null,n=!1,t===null?e.memoizedProps.fallback!==void 0&&Go(e):n=t.memoizedState!==null,r&&!n&&e.mode&2&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||Ne.current&1?Ye===0&&(Ye=3):((Ye===0||Ye===3)&&(Ye=4),pt===null||!(lo&134217727)&&!(bi&134217727)||ai(pt,lt))),(r||n)&&(e.flags|=4),null);case 4:return pi(),Nc(e),t===null&&I_(e.stateNode.containerInfo),null;case 10:return $d(e),null;case 17:return vt(e.type)&&Pa(),null;case 19:if(Ce(Ne),r=e.memoizedState,r===null)return null;if(s=(e.flags&64)!==0,o=r.rendering,o===null)if(s)is(r,!1);else{if(Ye!==0||t!==null&&t.flags&64)for(t=e.child;t!==null;){if(o=Oa(t),o!==null){for(e.flags|=64,is(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Me(Ne,Ne.current&1|2),e.child}t=t.sibling}r.tail!==null&&ut()>Fc&&(e.flags|=64,s=!0,is(r,!1),e.lanes=33554432)}else{if(!s)if(t=Oa(o),t!==null){if(e.flags|=64,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),is(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!Jt)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*ut()-r.renderingStartTime>Fc&&n!==1073741824&&(e.flags|=64,s=!0,is(r,!1),e.lanes=33554432);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=ut(),n.sibling=null,e=Ne.current,Me(Ne,s?e&1|2:e&1),n):null;case 23:case 24:return nf(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(H(156,e.tag))}function Hw(t){switch(t.tag){case 1:vt(t.type)&&Pa();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(pi(),Ce(yt),Ce(ct),Wd(),e=t.flags,e&64)throw Error(H(285));return t.flags=e&-4097|64,t;case 5:return qd(t),null;case 13:return Ce(Ne),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return Ce(Ne),null;case 4:return pi(),null;case 10:return $d(t),null;case 23:case 24:return nf(),null;default:return null}}function Jd(t,e){try{var n="",r=e;do n+=S1(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i}}function Mc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var qw=typeof WeakMap=="function"?WeakMap:Map;function ty(t,e,n){n=Vn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ua||(Ua=!0,jc=r),Mc(t,e)},n}function ny(t,e,n){n=Vn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return Mc(t,e),r(i)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(Yt===null?Yt=new Set([this]):Yt.add(this),Mc(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}var Ww=typeof WeakSet=="function"?WeakSet:Set;function em(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){Fn(t,n)}else e.current=null}function Gw(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var n=t.memoizedProps,r=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:$t(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&jd(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(H(163))}function Kw(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;r=i.next,i=i.tag,i&4&&i&1&&(dy(n,t),n3(n,t)),t=r}while(t!==e)}return;case 1:t=n.stateNode,n.flags&4&&(e===null?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:$t(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=n.updateQueue,e!==null&&Op(n,e,t);return;case 3:if(e=n.updateQueue,e!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}Op(n,e,t)}return;case 5:t=n.stateNode,e===null&&n.flags&4&&C_(n.type,n.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&a_(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(H(163))}function tm(t,e){for(var n=t;;){if(n.tag===5){var r=n.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=Yg("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function nm(t,e){if(_r&&typeof _r.onCommitFiberUnmount=="function")try{_r.onCommitFiberUnmount(zd,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if(r&4)dy(e,n);else{r=e;try{i()}catch(s){Fn(r,s)}}n=n.next}while(n!==t)}break;case 1:if(em(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(s){Fn(e,s)}break;case 5:em(e);break;case 4:ry(t,e)}}function rm(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function im(t){return t.tag===5||t.tag===3||t.tag===4}function sm(t){e:{for(var e=t.return;e!==null;){if(im(e))break e;e=e.return}throw Error(H(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(H(161))}n.flags&16&&(Ls(e,""),n.flags&=-17);e:t:for(n=t;;){for(;n.sibling===null;){if(n.return===null||im(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?Vc(t,n,e):Oc(t,n,e)}function Vc(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ca));else if(r!==4&&(t=t.child,t!==null))for(Vc(t,e,n),t=t.sibling;t!==null;)Vc(t,e,n),t=t.sibling}function Oc(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Oc(t,e,n),t=t.sibling;t!==null;)Oc(t,e,n),t=t.sibling}function ry(t,e){for(var n=e,r=!1,i,s;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(H(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var o=t,l=n,c=l;;)if(nm(o,c),c.child!==null&&c.tag!==4)c.child.return=c,c=c.child;else{if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}s?(o=i,l=n.stateNode,o.nodeType===8?o.parentNode.removeChild(l):o.removeChild(l)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,s=!0,n.child.return=n,n=n.child;continue}}else if(nm(t,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function Ol(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(t=r.destroy,r.destroy=void 0,t!==void 0&&t()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=e.stateNode,n!=null){r=e.memoizedProps;var i=t!==null?t.memoizedProps:r;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(n[ba]=r,t==="input"&&r.type==="radio"&&r.name!=null&&Wg(n,r),hc(t,i),e=hc(t,r),i=0;i<s.length;i+=2){var o=s[i],l=s[i+1];o==="style"?Xg(n,l):o==="dangerouslySetInnerHTML"?Qg(n,l):o==="children"?Ls(n,l):yd(n,o,l,e)}switch(t){case"input":oc(n,r);break;case"textarea":Gg(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?ti(n,!!r.multiple,s,!1):t!==!!r.multiple&&(r.defaultValue!=null?ti(n,!!r.multiple,r.defaultValue,!0):ti(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(H(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:n=e.stateNode,n.hydrate&&(n.hydrate=!1,a_(n.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(tf=ut(),tm(e.child,!0)),om(e);return;case 19:om(e);return;case 17:return;case 23:case 24:tm(e,e.memoizedState!==null);return}throw Error(H(163))}function om(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ww),e.forEach(function(r){var i=s3.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Qw(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var Yw=Math.ceil,Ba=Rr.ReactCurrentDispatcher,Zd=Rr.ReactCurrentOwner,re=0,pt=null,Be=null,lt=0,Tr=0,Lc=Zn(0),Ye=0,pu=null,Ci=0,lo=0,bi=0,ef=0,xc=null,tf=0,Fc=1/0;function Pi(){Fc=ut()+500}var J=null,Ua=!1,jc=null,Yt=null,Wn=!1,Cs=null,fs=90,zc=[],Bc=[],mn=null,bs=0,Uc=null,fa=-1,fn=0,ha=0,Ps=null,pa=!1;function St(){return re&48?ut():fa!==-1?fa:fa=ut()}function Ln(t){if(t=t.mode,!(t&2))return 1;if(!(t&4))return hi()===99?1:2;if(fn===0&&(fn=Ci),xw.transition!==0){ha!==0&&(ha=xc!==null?xc.pendingLanes:0),t=fn;var e=4186112&~ha;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=hi(),re&4&&t===98?t=ka(12,fn):(t=j1(t),t=ka(t,fn)),t}function xn(t,e,n){if(50<bs)throw bs=0,Uc=null,Error(H(185));if(t=mu(t,e),t===null)return null;au(t,e,n),t===pt&&(bi|=e,Ye===4&&ai(t,lt));var r=hi();e===1?re&8&&!(re&48)?$c(t):(Mt(t,n),re===0&&(Pi(),on())):(!(re&4)||r!==98&&r!==99||(mn===null?mn=new Set([t]):mn.add(t)),Mt(t,n)),xc=t}function mu(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function Mt(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-Hn(o),c=1<<l,f=s[l];if(f===-1){if(!(c&r)||c&i){f=e,Br(c);var w=Te;s[l]=10<=w?f+250:6<=w?f+5e3:-1}}else f<=e&&(t.expiredLanes|=c);o&=~c}if(r=zs(t,t===pt?lt:0),e=Te,r===0)n!==null&&(n!==Rl&&Ic(n),t.callbackNode=null,t.callbackPriority=0);else{if(n!==null){if(t.callbackPriority===e)return;n!==Rl&&Ic(n)}e===15?(n=$c.bind(null,t),dn===null?(dn=[n],da=Bd(fu,O_)):dn.push(n),n=Rl):e===14?n=Hs(99,$c.bind(null,t)):(n=z1(e),n=Hs(n,iy.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function iy(t){if(fa=-1,ha=fn=0,re&48)throw Error(H(327));var e=t.callbackNode;if(er()&&t.callbackNode!==e)return null;var n=zs(t,t===pt?lt:0);if(n===0)return null;var r=n,i=re;re|=16;var s=uy();(pt!==t||lt!==r)&&(Pi(),ui(t,r));do try{Zw();break}catch(l){ay(t,l)}while(!0);if(Ud(),Ba.current=s,re=i,Be!==null?r=0:(pt=null,lt=0,r=Ye),Ci&bi)ui(t,0);else if(r!==0){if(r===2&&(re|=64,t.hydrate&&(t.hydrate=!1,jd(t.containerInfo)),n=p_(t),n!==0&&(r=hs(t,n))),r===1)throw e=pu,ui(t,0),ai(t,n),Mt(t,ut()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(H(345));case 2:ur(t);break;case 3:if(ai(t,n),(n&62914560)===n&&(r=tf+500-ut(),10<r)){if(zs(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){St(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Cp(ur.bind(null,t),r);break}ur(t);break;case 4:if(ai(t,n),(n&4186112)===n)break;for(r=t.eventTimes,i=-1;0<n;){var o=31-Hn(n);s=1<<o,o=r[o],o>i&&(i=o),n&=~s}if(n=i,n=ut()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Yw(n/1960))-n,10<n){t.timeoutHandle=Cp(ur.bind(null,t),n);break}ur(t);break;case 5:ur(t);break;default:throw Error(H(329))}}return Mt(t,ut()),t.callbackNode===e?iy.bind(null,t):null}function ai(t,e){for(e&=~ef,e&=~bi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Hn(e),r=1<<n;t[n]=-1,e&=~r}}function $c(t){if(re&48)throw Error(H(327));if(er(),t===pt&&t.expiredLanes&lt){var e=lt,n=hs(t,e);Ci&bi&&(e=zs(t,e),n=hs(t,e))}else e=zs(t,0),n=hs(t,e);if(t.tag!==0&&n===2&&(re|=64,t.hydrate&&(t.hydrate=!1,jd(t.containerInfo)),e=p_(t),e!==0&&(n=hs(t,e))),n===1)throw n=pu,ui(t,0),ai(t,e),Mt(t,ut()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,ur(t),Mt(t,ut()),null}function Xw(){if(mn!==null){var t=mn;mn=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Mt(e,ut())})}on()}function sy(t,e){var n=re;re|=1;try{return t(e)}finally{re=n,re===0&&(Pi(),on())}}function oy(t,e){var n=re;re&=-2,re|=8;try{return t(e)}finally{re=n,re===0&&(Pi(),on())}}function Qo(t,e){Me(Lc,Tr),Tr|=e,Ci|=e}function nf(){Tr=Lc.current,Ce(Lc)}function ui(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Dw(n)),Be!==null)for(n=Be.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pa();break;case 3:pi(),Ce(yt),Ce(ct),Wd();break;case 5:qd(r);break;case 4:pi();break;case 13:Ce(Ne);break;case 19:Ce(Ne);break;case 10:$d(r);break;case 23:case 24:nf()}n=n.return}pt=t,Be=Gn(t.current,null),lt=Tr=Ci=e,Ye=0,pu=null,ef=bi=lo=0}function ay(t,e){do{var n=Be;try{if(Ud(),ks.current=za,La){for(var r=Oe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}La=!1}if(Ks=0,Ke=st=Oe=null,As=!1,Zd.current=null,n===null||n.return===null){Ye=1,pu=e,Be=null;break}e:{var s=t,o=n.return,l=n,c=e;if(e=lt,l.flags|=2048,l.firstEffect=l.lastEffect=null,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c;if(!(l.mode&2)){var w=l.alternate;w?(l.updateQueue=w.updateQueue,l.memoizedState=w.memoizedState,l.lanes=w.lanes):(l.updateQueue=null,l.memoizedState=null)}var C=(Ne.current&1)!==0,A=o;do{var M;if(M=A.tag===13){var V=A.memoizedState;if(V!==null)M=V.dehydrated!==null;else{var N=A.memoizedProps;M=N.fallback===void 0?!1:N.unstable_avoidThisFallback!==!0?!0:!C}}if(M){var k=A.updateQueue;if(k===null){var S=new Set;S.add(f),A.updateQueue=S}else k.add(f);if(!(A.mode&2)){if(A.flags|=64,l.flags|=16384,l.flags&=-2981,l.tag===1)if(l.alternate===null)l.tag=17;else{var b=Vn(-1,1);b.tag=2,On(l,b)}l.lanes|=1;break e}c=void 0,l=e;var D=s.pingCache;if(D===null?(D=s.pingCache=new qw,c=new Set,D.set(f,c)):(c=D.get(f),c===void 0&&(c=new Set,D.set(f,c))),!c.has(l)){c.add(l);var u=i3.bind(null,s,f,l);f.then(u,u)}A.flags|=4096,A.lanes=e;break e}A=A.return}while(A!==null);c=Error((ei(l.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Ye!==5&&(Ye=2),c=Jd(c,l),A=o;do{switch(A.tag){case 3:s=c,A.flags|=4096,e&=-e,A.lanes|=e;var p=ty(A,s,e);Vp(A,p);break e;case 1:s=c;var h=A.type,m=A.stateNode;if(!(A.flags&64)&&(typeof h.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Yt===null||!Yt.has(m)))){A.flags|=4096,e&=-e,A.lanes|=e;var g=ny(A,s,e);Vp(A,g);break e}}A=A.return}while(A!==null)}cy(n)}catch(y){e=y,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(!0)}function uy(){var t=Ba.current;return Ba.current=za,t===null?za:t}function hs(t,e){var n=re;re|=16;var r=uy();pt===t&&lt===e||ui(t,e);do try{Jw();break}catch(i){ay(t,i)}while(!0);if(Ud(),re=n,Ba.current=r,Be!==null)throw Error(H(261));return pt=null,lt=0,Ye}function Jw(){for(;Be!==null;)ly(Be)}function Zw(){for(;Be!==null&&!Vw();)ly(Be)}function ly(t){var e=fy(t.alternate,t,Tr);t.memoizedProps=t.pendingProps,e===null?cy(t):Be=e,Zd.current=null}function cy(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&2048){if(n=Hw(e),n!==null){n.flags&=2047,Be=n;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}else{if(n=$w(n,e,Tr),n!==null){Be=n;return}if(n=e,n.tag!==24&&n.tag!==23||n.memoizedState===null||Tr&1073741824||!(n.mode&4)){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}t!==null&&!(t.flags&2048)&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}if(e=e.sibling,e!==null){Be=e;return}Be=e=t}while(e!==null);Ye===0&&(Ye=5)}function ur(t){var e=hi();return Er(99,e3.bind(null,t,e)),null}function e3(t,e){do er();while(Cs!==null);if(re&48)throw Error(H(327));var n=t.finishedWork;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,l=t.expirationTimes;0<s;){var c=31-Hn(s),f=1<<c;i[c]=0,o[c]=-1,l[c]=-1,s&=~f}if(mn!==null&&!(r&24)&&mn.has(t)&&mn.delete(t),t===pt&&(Be=pt=null,lt=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=re,re|=32,Zd.current=null,Cl=aa,o=wp(),vc(o)){if("selectionStart"in o)l={start:o.selectionStart,end:o.selectionEnd};else e:if(l=(l=o.ownerDocument)&&l.defaultView||window,(f=l.getSelection&&l.getSelection())&&f.rangeCount!==0){l=f.anchorNode,s=f.anchorOffset,c=f.focusNode,f=f.focusOffset;try{l.nodeType,c.nodeType}catch{l=null;break e}var w=0,C=-1,A=-1,M=0,V=0,N=o,k=null;t:for(;;){for(var S;N!==l||s!==0&&N.nodeType!==3||(C=w+s),N!==c||f!==0&&N.nodeType!==3||(A=w+f),N.nodeType===3&&(w+=N.nodeValue.length),(S=N.firstChild)!==null;)k=N,N=S;for(;;){if(N===o)break t;if(k===l&&++M===s&&(C=w),k===c&&++V===f&&(A=w),(S=N.nextSibling)!==null)break;N=k,k=N.parentNode}N=S}l=C===-1||A===-1?null:{start:C,end:A}}else l=null;l=l||{start:0,end:0}}else l=null;bl={focusedElem:o,selectionRange:l},aa=!1,Ps=null,pa=!1,J=r;do try{t3()}catch(y){if(J===null)throw Error(H(330));Fn(J,y),J=J.nextEffect}while(J!==null);Ps=null,J=r;do try{for(o=t;J!==null;){var b=J.flags;if(b&16&&Ls(J.stateNode,""),b&128){var D=J.alternate;if(D!==null){var u=D.ref;u!==null&&(typeof u=="function"?u(null):u.current=null)}}switch(b&1038){case 2:sm(J),J.flags&=-3;break;case 6:sm(J),J.flags&=-3,Ol(J.alternate,J);break;case 1024:J.flags&=-1025;break;case 1028:J.flags&=-1025,Ol(J.alternate,J);break;case 4:Ol(J.alternate,J);break;case 8:l=J,ry(o,l);var p=l.alternate;rm(l),p!==null&&rm(p)}J=J.nextEffect}}catch(y){if(J===null)throw Error(H(330));Fn(J,y),J=J.nextEffect}while(J!==null);if(u=bl,D=wp(),b=u.focusedElem,o=u.selectionRange,D!==b&&b&&b.ownerDocument&&T_(b.ownerDocument.documentElement,b)){for(o!==null&&vc(b)&&(D=o.start,u=o.end,u===void 0&&(u=D),"selectionStart"in b?(b.selectionStart=D,b.selectionEnd=Math.min(u,b.value.length)):(u=(D=b.ownerDocument||document)&&D.defaultView||window,u.getSelection&&(u=u.getSelection(),l=b.textContent.length,p=Math.min(o.start,l),o=o.end===void 0?p:Math.min(o.end,l),!u.extend&&p>o&&(l=o,o=p,p=l),l=vp(b,p),s=vp(b,o),l&&s&&(u.rangeCount!==1||u.anchorNode!==l.node||u.anchorOffset!==l.offset||u.focusNode!==s.node||u.focusOffset!==s.offset)&&(D=D.createRange(),D.setStart(l.node,l.offset),u.removeAllRanges(),p>o?(u.addRange(D),u.extend(s.node,s.offset)):(D.setEnd(s.node,s.offset),u.addRange(D)))))),D=[],u=b;u=u.parentNode;)u.nodeType===1&&D.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<D.length;b++)u=D[b],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}aa=!!Cl,bl=Cl=null,t.current=n,J=r;do try{for(b=t;J!==null;){var h=J.flags;if(h&36&&Kw(b,J.alternate,J),h&128){D=void 0;var m=J.ref;if(m!==null){var g=J.stateNode;switch(J.tag){case 5:D=g;break;default:D=g}typeof m=="function"?m(D):m.current=D}}J=J.nextEffect}}catch(y){if(J===null)throw Error(H(330));Fn(J,y),J=J.nextEffect}while(J!==null);J=null,Lw(),re=i}else t.current=n;if(Wn)Wn=!1,Cs=t,fs=e;else for(J=r;J!==null;)e=J.nextEffect,J.nextEffect=null,J.flags&8&&(h=J,h.sibling=null,h.stateNode=null),J=e;if(r=t.pendingLanes,r===0&&(Yt=null),r===1?t===Uc?bs++:(bs=0,Uc=t):bs=0,n=n.stateNode,_r&&typeof _r.onCommitFiberRoot=="function")try{_r.onCommitFiberRoot(zd,n,void 0,(n.current.flags&64)===64)}catch{}if(Mt(t,ut()),Ua)throw Ua=!1,t=jc,jc=null,t;return re&8||on(),null}function t3(){for(;J!==null;){var t=J.alternate;pa||Ps===null||(J.flags&8?sp(J,Ps)&&(pa=!0):J.tag===13&&Qw(t,J)&&sp(J,Ps)&&(pa=!0));var e=J.flags;e&256&&Gw(t,J),!(e&512)||Wn||(Wn=!0,Hs(97,function(){return er(),null})),J=J.nextEffect}}function er(){if(fs!==90){var t=97<fs?97:fs;return fs=90,Er(t,r3)}return!1}function n3(t,e){zc.push(e,t),Wn||(Wn=!0,Hs(97,function(){return er(),null}))}function dy(t,e){Bc.push(e,t),Wn||(Wn=!0,Hs(97,function(){return er(),null}))}function r3(){if(Cs===null)return!1;var t=Cs;if(Cs=null,re&48)throw Error(H(331));var e=re;re|=32;var n=Bc;Bc=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(c){if(s===null)throw Error(H(330));Fn(s,c)}}for(n=zc,zc=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var l=i.create;i.destroy=l()}catch(c){if(s===null)throw Error(H(330));Fn(s,c)}}for(l=t.current.firstEffect;l!==null;)t=l.nextEffect,l.nextEffect=null,l.flags&8&&(l.sibling=null,l.stateNode=null),l=t;return re=e,on(),!0}function am(t,e,n){e=Jd(n,e),e=ty(t,e,1),On(t,e),e=St(),t=mu(t,1),t!==null&&(au(t,1,e),Mt(t,e))}function Fn(t,e){if(t.tag===3)am(t,t,e);else for(var n=t.return;n!==null;){if(n.tag===3){am(n,t,e);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yt===null||!Yt.has(r))){t=Jd(e,t);var i=ny(n,t,1);if(On(n,i),i=St(),n=mu(n,1),n!==null)au(n,1,i),Mt(n,i);else if(typeof r.componentDidCatch=="function"&&(Yt===null||!Yt.has(r)))try{r.componentDidCatch(e,t)}catch{}break}}n=n.return}}function i3(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=St(),t.pingedLanes|=t.suspendedLanes&n,pt===t&&(lt&n)===n&&(Ye===4||Ye===3&&(lt&62914560)===lt&&500>ut()-tf?ui(t,0):ef|=n),Mt(t,e)}function s3(t,e){var n=t.stateNode;n!==null&&n.delete(e),e=0,e===0&&(e=t.mode,e&2?e&4?(fn===0&&(fn=Ci),e=Ur(62914560&~fn),e===0&&(e=4194304)):e=hi()===99?1:2:e=1),n=St(),t=mu(t,e),t!==null&&(au(t,e,n),Mt(t,n))}var fy;fy=function(t,e,n){var r=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||yt.current)Ht=!0;else if(n&r)Ht=!!(t.flags&16384);else{switch(Ht=!1,e.tag){case 3:Gp(e),Nl();break;case 5:Fp(e);break;case 1:vt(e.type)&&ca(e);break;case 4:Cc(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;Me(Ra,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return n&e.child.childLanes?Kp(t,e,n):(Me(Ne,Ne.current&1),e=pn(t,e,n),e!==null?e.sibling:null);Me(Ne,Ne.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&64){if(r)return Zp(t,e,n);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Me(Ne,Ne.current),r)break;return null;case 23:case 24:return e.lanes=0,Ml(t,e,n)}return pn(t,e,n)}else Ht=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=fi(e,ct.current),si(e,n),i=Kd(null,e,r,t,i,n),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,vt(r)){var s=!0;ca(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Hd(e);var o=r.getDerivedStateFromProps;typeof o=="function"&&Ma(e,r,o,t),i.updater=hu,e.stateNode=i,i._reactInternals=e,Ac(e,r,t,n),e=Dc(null,e,r,!0,s,n)}else e.tag=0,_t(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=a3(i),t=$t(i,t),s){case 0:e=Rc(null,e,i,t,n);break e;case 1:e=Wp(null,e,i,t,n);break e;case 11:e=Hp(null,e,i,t,n);break e;case 14:e=qp(null,e,i,$t(i.type,t),r,n);break e}throw Error(H(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$t(r,i),Rc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$t(r,i),Wp(t,e,r,i,n);case 3:if(Gp(e),r=e.updateQueue,t===null||r===null)throw Error(H(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,x_(t,e),qs(e,r,null,n),r=e.memoizedState.element,r===i)Nl(),e=pn(t,e,n);else{if(i=e.stateNode,(s=i.hydrate)&&(Pn=ii(e.stateNode.containerInfo.firstChild),hn=e,s=Jt=!0),s){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)s=t[i],s._workInProgressVersionPrimary=t[i+1],oi.push(s);for(n=B_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else _t(t,e,r,n),Nl();e=e.child}return e;case 5:return Fp(e),t===null&&bc(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Tc(r,i)?o=null:s!==null&&Tc(r,s)&&(e.flags|=16),X_(t,e),_t(t,e,o,n),e.child;case 6:return t===null&&bc(e),null;case 13:return Kp(t,e,n);case 4:return Cc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Va(e,null,r,n):_t(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$t(r,i),Hp(t,e,r,i,n);case 7:return _t(t,e,e.pendingProps,n),e.child;case 8:return _t(t,e,e.pendingProps.children,n),e.child;case 12:return _t(t,e,e.pendingProps.children,n),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value;var l=e.type._context;if(Me(Ra,l._currentValue),l._currentValue=s,o!==null)if(l=o.value,s=bt(l,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(l,s):1073741823)|0,s===0){if(o.children===i.children&&!yt.current){e=pn(t,e,n);break e}}else for(l=e.child,l!==null&&(l.return=e);l!==null;){var c=l.dependencies;if(c!==null){o=l.child;for(var f=c.firstContext;f!==null;){if(f.context===r&&f.observedBits&s){l.tag===1&&(f=Vn(-1,n&-n),f.tag=2,On(l,f)),l.lanes|=n,f=l.alternate,f!==null&&(f.lanes|=n),L_(l.return,n),c.lanes|=n;break}f=f.next}}else o=l.tag===10&&l.type===e.type?null:l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===e){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}_t(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,r=s.children,si(e,n),i=Nt(i,s.unstable_observedBits),r=r(i),e.flags|=1,_t(t,e,r,n),e.child;case 14:return i=e.type,s=$t(i,e.pendingProps),s=$t(i.type,s),qp(t,e,i,s,r,n);case 15:return Y_(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$t(r,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,vt(r)?(t=!0,ca(e)):t=!1,si(e,n),j_(e,r,i),Ac(e,r,i,n),Dc(null,e,r,!0,t,n);case 19:return Zp(t,e,n);case 23:return Ml(t,e,n);case 24:return Ml(t,e,n)}throw Error(H(156,e.tag))};function o3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(t,e,n,r){return new o3(t,e,n,r)}function rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function a3(t){if(typeof t=="function")return rf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===iu)return 11;if(t===su)return 14}return 2}function Gn(t,e){var n=t.alternate;return n===null?(n=Pt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ma(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")rf(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case An:return li(n.children,i,s,e);case $g:o=8,i|=16;break;case vd:o=8,i|=1;break;case ys:return t=Pt(12,n,e,i|8),t.elementType=ys,t.type=ys,t.lanes=s,t;case vs:return t=Pt(13,n,e,i),t.type=vs,t.elementType=vs,t.lanes=s,t;case Ea:return t=Pt(19,n,e,i),t.elementType=Ea,t.lanes=s,t;case kd:return sf(n,i,s,e);case ic:return t=Pt(24,n,e,i),t.elementType=ic,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wd:o=10;break e;case Ed:o=9;break e;case iu:o=11;break e;case su:o=14;break e;case Td:o=16,r=null;break e;case Sd:o=22;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Pt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function li(t,e,n,r){return t=Pt(7,t,r,e),t.lanes=n,t}function sf(t,e,n,r){return t=Pt(23,t,r,e),t.elementType=kd,t.lanes=n,t}function Ll(t,e,n){return t=Pt(6,t,null,e),t.lanes=n,t}function xl(t,e,n){return e=Pt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function u3(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=wl(0),this.expirationTimes=wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wl(0),this.mutableSourceEagerHydrationData=null}function l3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function $a(t,e,n,r){var i=e.current,s=St(),o=Ln(i);e:if(n){n=n._reactInternals;t:{if(Dr(n)!==n||n.tag!==1)throw Error(H(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(vt(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(l!==null);throw Error(H(171))}if(n.tag===1){var c=n.type;if(vt(c)){n=P_(n,c,l);break e}}n=l}else n=qn;return e.context===null?e.context=n:e.pendingContext=n,e=Vn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),On(i,e),xn(i,o,s),o}function Fl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function um(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function of(t,e){um(t,e),(t=t.alternate)&&um(t,e)}function c3(){return null}function af(t,e,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new u3(t,e,n!=null&&n.hydrate===!0),e=Pt(3,null,null,e===2?7:e===1?3:0),n.current=e,e.stateNode=n,Hd(e),t[Ai]=n.current,I_(t.nodeType===8?t.parentNode:t),r)for(t=0;t<r.length;t++){e=r[t];var i=e._getVersion;i=i(e._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}af.prototype.render=function(t){$a(t,this._internalRoot,null,null)};af.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;$a(null,t,null,function(){e[Ai]=null})};function co(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function d3(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new af(t,0,e?{hydrate:!0}:void 0)}function gu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if(typeof i=="function"){var l=i;i=function(){var f=Fl(o);l.call(f)}}$a(e,o,t,i)}else{if(s=n._reactRootContainer=d3(n,r),o=s._internalRoot,typeof i=="function"){var c=i;i=function(){var f=Fl(o);c.call(f)}}oy(function(){$a(e,o,t,i)})}return Fl(o)}i_=function(t){if(t.tag===13){var e=St();xn(t,4,e),of(t,4)}};Rd=function(t){if(t.tag===13){var e=St();xn(t,67108864,e),of(t,67108864)}};s_=function(t){if(t.tag===13){var e=St(),n=Ln(t);xn(t,n,e),of(t,n)}};o_=function(t,e){return e()};pc=function(t,e,n){switch(e){case"input":if(oc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=du(r);if(!i)throw Error(H(90));qg(r),oc(r,i)}}}break;case"textarea":Gg(t,n);break;case"select":e=n.value,e!=null&&ti(t,!!n.multiple,e,!1)}};Cd=sy;e_=function(t,e,n,r,i){var s=re;re|=4;try{return Er(98,t.bind(null,e,n,r,i))}finally{re=s,re===0&&(Pi(),on())}};bd=function(){!(re&49)&&(Xw(),er())};t_=function(t,e){var n=re;re|=2;try{return t(e)}finally{re=n,re===0&&(Pi(),on())}};function hy(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!co(e))throw Error(H(200));return l3(t,e,null,n)}var f3={Events:[ao,Qr,du,Jg,Zg,er,{current:!1}]},ss={findFiberByHostInstance:fr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},h3={bundleType:ss.bundleType,version:ss.version,rendererPackageName:ss.rendererPackageName,rendererConfig:ss.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=r_(t),t===null?null:t.stateNode},findFiberByHostInstance:ss.findFiberByHostInstance||c3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yo.isDisabled&&Yo.supportsFiber)try{zd=Yo.inject(h3),_r=Yo}catch{}}Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f3;Ot.createPortal=hy;Ot.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):Error(H(268,Object.keys(t)));return t=r_(e),t=t===null?null:t.stateNode,t};Ot.flushSync=function(t,e){var n=re;if(n&48)return t(e);re|=1;try{if(t)return Er(99,t.bind(null,e))}finally{re=n,on()}};Ot.hydrate=function(t,e,n){if(!co(e))throw Error(H(200));return gu(null,t,e,!0,n)};Ot.render=function(t,e,n){if(!co(e))throw Error(H(200));return gu(null,t,e,!1,n)};Ot.unmountComponentAtNode=function(t){if(!co(t))throw Error(H(40));return t._reactRootContainer?(oy(function(){gu(null,null,t,!1,function(){t._reactRootContainer=null,t[Ai]=null})}),!0):!1};Ot.unstable_batchedUpdates=sy;Ot.unstable_createPortal=function(t,e){return hy(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Ot.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!co(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return gu(t,e,n,!1,r)};Ot.version="17.0.2";function py(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(py)}catch(t){console.error(t)}}py(),jg.exports=Ot;var p3=jg.exports;const m3=ro(p3);function g3(t){const e=t.notes.map((n,r)=>xe.jsx("div",{children:xe.jsxs("div",{className:`title ${n.id===t.currentNote.id?"selected-note":""}`,onClick:()=>t.setCurrentNoteId(n.id),children:[xe.jsx("h4",{className:"text-snippet",children:n.body.split(`
`)[0]}),xe.jsx("button",{className:"delete-btn",onClick:()=>t.deleteNote(n.id),children:xe.jsx("i",{className:"gg-trash trash-icon"})})]})},n.id));return xe.jsxs("section",{className:"pane sidebar",children:[xe.jsxs("div",{className:"sidebar--header",children:[xe.jsx("img",{src:"https://cdn-icons-png.flaticon.com/128/5082/5082720.png",className:"sidebar--folder-icon",alt:"folder-icon"}),xe.jsx("h3",{children:"My Notes"}),xe.jsx("button",{className:"new-note",onClick:t.newNote,children:"+"})]}),e]})}var jl={},je={};Object.defineProperty(je,"__esModule",{value:!0});je.getBreaksNeededForEmptyLineAfter=je.getBreaksNeededForEmptyLineBefore=je.selectWord=je.getSurroundingWord=void 0;function my(t,e){if(!t)throw Error("Argument 'text' should be truthy");for(var n=function(o){return o===" "||o.charCodeAt(0)===10},r=0,i=t.length,s=e;s-1>-1;s--)if(n(t[s-1])){r=s;break}for(var s=e;s<t.length;s++)if(n(t[s])){i=s;break}return{start:r,end:i}}je.getSurroundingWord=my;function _3(t){var e=t.text,n=t.selection;return e&&e.length&&n.start===n.end?my(e,n.start):n}je.selectWord=_3;function y3(t,e){if(t===void 0&&(t=""),e===0)return 0;for(var n=2,r=!0,i=e-1;i>=0&&n>=0;i--)switch(t.charCodeAt(i)){case 32:continue;case 10:n--,r=!1;break;default:return n}return r?0:n}je.getBreaksNeededForEmptyLineBefore=y3;function v3(t,e){if(t===void 0&&(t=""),e===t.length-1)return 0;for(var n=2,r=!0,i=e;i<t.length&&n>=0;i++)switch(t.charCodeAt(i)){case 32:continue;case 10:{n--,r=!1;break}default:return n}return r?0:n}je.getBreaksNeededForEmptyLineAfter=v3;var zl={},fo={},En={};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/Object.defineProperty(En,"__esModule",{value:!0});En.classNames=void 0;function w3(t){return typeof t=="string"}function E3(t){return Array.isArray(t)&&t.length>0}function T3(t){return typeof t=="object"}function gy(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0;r<t.length;r++){var i=t[r];if(i){if(w3(i))n.push(i);else if(E3(i)){var s=gy.apply(null,i);s&&n.push(s)}else if(T3(i))for(var o in i)i.hasOwnProperty(o)&&i[o]&&n.push(o)}}return n.join(" ")}En.classNames=gy;Object.defineProperty(fo,"__esModule",{value:!0});fo.ToolbarButtonGroup=void 0;var S3=Vt,I3=En,k3=function(t){return S3.createElement("ul",{className:I3.classNames("mde-header-group",{hidden:t.hidden})},t.children)};fo.ToolbarButtonGroup=k3;var ho={},Jr=ue&&ue.__assign||function(){return Jr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Jr.apply(this,arguments)};Object.defineProperty(ho,"__esModule",{value:!0});ho.ToolbarButton=void 0;var lm=Vt,A3={tabIndex:-1},C3=function(t){var e=t.buttonComponentClass,n=t.buttonContent,r=t.buttonProps,i=t.onClick,s=t.readOnly,o=t.name,l=Jr(Jr({},A3),r||{}),c=e||"button";return lm.createElement("li",{className:"mde-header-item"},lm.createElement(c,Jr(Jr({"data-name":o},l),{onClick:i,disabled:s,type:"button"}),n))};ho.ToolbarButton=C3;var po={};Object.defineProperty(po,"__esModule",{value:!0});po.MdeFontAwesomeIcon=void 0;var b3=Vt,P3=function(t){var e=t.icon,n=e;switch(e){case"header":n="heading";break;case"quote":n="quote-right";break;case"unordered-list":n="tasks";break;case"ordered-list":n="list-ol";break;case"checked-list":n="tasks";break;default:n=e}return b3.createElement("i",{className:"fas fa-"+n,"aria-hidden":"true"})};po.MdeFontAwesomeIcon=P3;var _u={},R3=ue&&ue.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(_u,"__esModule",{value:!0});_u.Preview=void 0;var Xo=Vt,D3=En,N3=function(t){R3(e,t);function e(n){var r=t.call(this,n)||this;return r.state={loading:!0},r}return e.prototype.componentDidMount=function(){this.generatePreview()},e.prototype.componentDidUpdate=function(n,r){this.props.markdown!==n.markdown&&this.generatePreview()},e.prototype.generatePreview=function(){var n=this,r=this.props,i=r.markdown,s=r.generateMarkdownPreview;s(i).then(function(o){n.setState({preview:o,loading:!1})})},e.prototype.render=function(){var n=this.props,r=n.classes,i=n.minHeight,s=n.loadingPreview,o=n.refObject,l=n.heightUnits,c=this.state,f=c.preview,w=c.loading,C=w?s:f,A;typeof C=="string"?A=Xo.createElement("div",{className:"mde-preview-content",dangerouslySetInnerHTML:{__html:C||"<p>&nbsp;</p>"},ref:o}):A=Xo.createElement("div",{className:"mde-preview-content"},C);var M=i&&l?i+10+l:i+10;return Xo.createElement("div",{className:D3.classNames("mde-preview",r,{loading:w}),style:{minHeight:M},"data-testid":"mde-preview"},A)},e}(Xo.Component);_u.Preview=N3;var yu={},vu={};Object.defineProperty(vu,"__esModule",{value:!0});vu.getCaretCoordinates=void 0;var M3=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],_y=typeof window<"u",V3=_y&&window.mozInnerScreenX!=null;function O3(t,e){if(!_y)throw new Error("getCaretCoordinates should only be called in a browser");var n=document.createElement("div");n.id="input-textarea-caret-position-mirror-div",document.body.appendChild(n);var r=n.style,i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle;r.whiteSpace="pre-wrap",r.wordWrap="break-word",r.position="absolute",r.visibility="hidden",M3.forEach(function(l){r[l]=i[l]}),V3?t.scrollHeight>parseInt(i.height)&&(r.overflowY="scroll"):r.overflow="hidden",n.textContent=t.value.substring(0,t.selectionStart),e&&(n.textContent+=e);var s=document.createElement("span");s.textContent=t.value.substring(t.selectionEnd)||".",n.appendChild(s);var o={top:s.offsetTop+parseInt(i.borderTopWidth),left:s.offsetLeft+parseInt(i.borderLeftWidth),lineHeight:parseInt(i.lineHeight)};return document.body.removeChild(n),o}vu.getCaretCoordinates=O3;var mo={};/*!
 * The MIT License
   Copyright (c) 2018 Dmitriy Kubyshkin
   Copied from https://github.com/grassator/insert-text-at-cursor
 */Object.defineProperty(mo,"__esModule",{value:!0});mo.insertText=void 0;function L3(t,e){if(t.focus(),document.selection){var n=document.selection.createRange();n.text=e,n.collapse(!1),n.select();return}var r=document.execCommand("insertText",!1,e);if(!r){var i=t.selectionStart,s=t.selectionEnd;if(typeof t.setRangeText=="function")t.setRangeText(e);else if(x3(t)){var o=document.createTextNode(e),l=t.firstChild;if(!l)t.appendChild(o);else{for(var c=0,f=null,w=null,C=document.createRange();l&&(f===null||w===null);){var A=l.nodeValue.length;i>=c&&i<=c+A&&C.setStart(f=l,i-c),s>=c&&s<=c+A&&C.setEnd(w=l,s-c),c+=A,l=l.nextSibling}i!==s&&C.deleteContents(),C.insertNode(o)}}else{var M=t.value;t.value=M.slice(0,i)+e+M.slice(s)}t.setSelectionRange(i+e.length,i+e.length);var V=document.createEvent("UIEvent");V.initEvent("input",!0,!1),t.dispatchEvent(V)}}mo.insertText=L3;function x3(t){if(t.nodeName!=="TEXTAREA")return!1;var e;if(typeof e>"u"){var n=document.createElement("textarea");n.value="1",e=!!n.firstChild}return e}var wu={};Object.defineProperty(wu,"__esModule",{value:!0});wu.mod=void 0;function F3(t,e){return(t%e+e)%e}wu.mod=F3;var go={};Object.defineProperty(go,"__esModule",{value:!0});go.SuggestionsDropdown=void 0;var cm=Vt,j3=En,z3=function(t){var e=t.classes,n=t.suggestions,r=t.caret,i=t.onSuggestionSelected,s=t.suggestionsAutoplace,o=t.focusIndex,l=t.textAreaRef,c=function(N){N.preventDefault();var k=parseInt(N.currentTarget.attributes["data-index"].value);i(k)},f=function(N){return N.preventDefault()},w=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),C=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),A=r.left-l.current.scrollLeft,M=r.top-l.current.scrollTop,V={};return s&&M+l.current.getBoundingClientRect().top>C/2?V.bottom=l.current.offsetHeight-M:V.top=M,s&&A+l.current.getBoundingClientRect().left>w/2?V.right=l.current.offsetWidth-A:V.left=A,cm.createElement("ul",{className:j3.classNames("mde-suggestions",e),style:V},n.map(function(N,k){return cm.createElement("li",{onClick:c,onMouseDown:f,key:k,"aria-selected":o===k?"true":"false","data-index":""+k},N.preview)}))};go.SuggestionsDropdown=z3;var B3=ue&&ue.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tt=ue&&ue.__assign||function(){return Tt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Tt.apply(this,arguments)};Object.defineProperty(yu,"__esModule",{value:!0});yu.TextArea=void 0;var Jo=Vt,U3=En,$3=vu,H3=mo,q3=wu,W3=go,G3=function(t){B3(e,t);function e(n){var r=t.call(this,n)||this;return r.currentLoadSuggestionsPromise=Promise.resolve(void 0),r.suggestionsPromiseIndex=0,r.getTextArea=function(){return r.props.refObject.current},r.handleOnChange=function(i){var s=r.props.onChange;s(i.target.value)},r.handleBlur=function(){var i=r.state.mention;i&&r.setState({mention:{status:"inactive",suggestions:[]}})},r.startLoadingSuggestions=function(i){var s=++r.suggestionsPromiseIndex,o=r.props.loadSuggestions;r.currentLoadSuggestionsPromise=r.currentLoadSuggestionsPromise.then(function(){return o(i,r.state.mention.triggeredBy)}).then(function(l){if(r.state.mention.status!=="inactive")return r.suggestionsPromiseIndex===s&&(!l||!l.length?r.setState({mention:{status:"inactive",suggestions:[]}}):r.setState({mention:Tt(Tt({},r.state.mention),{status:"active",suggestions:l,focusIndex:0})}),r.suggestionsPromiseIndex=0),Promise.resolve()})},r.loadEmptySuggestion=function(i,s){var o=$3.getCaretCoordinates(i,s);r.startLoadingSuggestions(""),r.setState({mention:{status:"loading",startPosition:i.selectionStart+1,caret:o,suggestions:[],triggeredBy:s}})},r.handleSuggestionSelected=function(i){var s=r.state.mention;r.getTextArea().selectionStart=s.startPosition-1,r.props.value.substr(r.getTextArea().selectionStart,r.getTextArea().selectionEnd-r.getTextArea().selectionStart),H3.insertText(r.getTextArea(),s.suggestions[i].value+" "),r.setState({mention:{status:"inactive",suggestions:[]}})},r.handleKeyDown=function(i){if(r.props.onPossibleKeyCommand){var s=r.props.onPossibleKeyCommand(i);if(s){i.preventDefault(),r.suggestionsPromiseIndex=0,r.setState({mention:{status:"inactive",suggestions:[]}});return}}if(r.suggestionsEnabled()){var o=i.key,l=i.shiftKey,c=i.currentTarget,f=c.selectionStart,w=r.state.mention;switch(w.status){case"loading":case"active":if(o==="Escape"||o==="Backspace"&&f<=r.state.mention.startPosition)r.suggestionsPromiseIndex=0,r.setState({mention:{status:"inactive",suggestions:[]}});else if(w.status==="active"&&(o==="ArrowUp"||o==="ArrowDown")&&!l){i.preventDefault();var C=o==="ArrowUp"?-1:1;r.setState({mention:Tt(Tt({},w),{focusIndex:q3.mod(w.focusIndex+C,w.suggestions.length)})})}else o==="Enter"&&w.status==="active"&&w.suggestions.length&&(i.preventDefault(),r.handleSuggestionSelected(w.focusIndex));break}}},r.handleKeyUp=function(i){var s=i.key,o=r.state.mention,l=r.props,c=l.suggestionTriggerCharacters,f=l.value;switch(o.status){case"loading":case"active":if(s==="Backspace"){var w=f.substr(o.startPosition,r.getTextArea().selectionStart-o.startPosition);r.startLoadingSuggestions(w),o.status!=="loading"&&r.setState({mention:Tt(Tt({},r.state.mention),{status:"loading"})})}break;case"inactive":if(s==="Backspace"){var C=f.charAt(r.getTextArea().selectionStart-1),A=c.includes(f.charAt(r.getTextArea().selectionStart-1));A&&r.loadEmptySuggestion(i.currentTarget,C)}break}},r.handleKeyPress=function(i){var s=r.props,o=s.suggestionTriggerCharacters,l=s.value,c=r.state.mention,f=i.key;switch(c.status){case"loading":case"active":if(f===" "){r.setState({mention:Tt(Tt({},r.state.mention),{status:"inactive"})});return}var w=l.substr(c.startPosition,r.getTextArea().selectionStart-c.startPosition)+f;r.startLoadingSuggestions(w),c.status!=="loading"&&r.setState({mention:Tt(Tt({},r.state.mention),{status:"loading"})});break;case"inactive":if(o.indexOf(i.key)===-1||!/\s|\(|\[|^.{0}$/.test(l.charAt(r.getTextArea().selectionStart-1)))return;r.loadEmptySuggestion(i.currentTarget,i.key);break}},r.state={mention:{status:"inactive",suggestions:[]}},r}return e.prototype.suggestionsEnabled=function(){return this.props.suggestionTriggerCharacters&&this.props.suggestionTriggerCharacters.length&&this.props.loadSuggestions},e.prototype.render=function(){var n=this,r=this.props,i=r.classes,s=r.readOnly,o=r.textAreaProps,l=r.height,c=r.heightUnits,f=r.value,w=r.suggestionTriggerCharacters,C=r.loadSuggestions,A=r.suggestionsDropdownClasses,M=r.textAreaComponent,V=r.onPaste,N=r.onDrop,k=w&&w.length&&C,S=this.state.mention,b=M||"textarea",D=l&&c?l+c:l;return Jo.createElement("div",{className:"mde-textarea-wrapper"},Jo.createElement(b,Tt({className:U3.classNames("mde-text",i),style:{height:D},ref:this.props.refObject,readOnly:s,value:f,"data-testid":"text-area"},o,{onChange:function(u){var p;(p=o==null?void 0:o.onChange)===null||p===void 0||p.call(o,u),n.handleOnChange(u)},onBlur:function(u){var p;(p=o==null?void 0:o.onBlur)===null||p===void 0||p.call(o,u),k&&n.handleBlur()},onKeyDown:function(u){var p;(p=o==null?void 0:o.onKeyDown)===null||p===void 0||p.call(o,u),n.handleKeyDown(u)},onKeyUp:function(u){var p;(p=o==null?void 0:o.onKeyUp)===null||p===void 0||p.call(o,u),k&&n.handleKeyUp(u)},onKeyPress:function(u){var p;(p=o==null?void 0:o.onKeyPress)===null||p===void 0||p.call(o,u),k&&n.handleKeyPress(u)},onPaste:function(u){var p;(p=o==null?void 0:o.onPaste)===null||p===void 0||p.call(o,u),V(u)},onDragOver:function(u){u.preventDefault(),u.stopPropagation()},onDrop:function(u){var p;(p=o==null?void 0:o.onDrop)===null||p===void 0||p.call(o,u),N(u),u.preventDefault()}})),S.status==="active"&&S.suggestions.length&&Jo.createElement(W3.SuggestionsDropdown,{classes:A,caret:S.caret,suggestions:S.suggestions,onSuggestionSelected:this.handleSuggestionSelected,suggestionsAutoplace:this.props.suggestionsAutoplace,focusIndex:S.focusIndex,textAreaRef:this.props.refObject}))},e}(Jo.Component);yu.TextArea=G3;var Eu={},K3=ue&&ue.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zr=ue&&ue.__assign||function(){return Zr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Zr.apply(this,arguments)};Object.defineProperty(Eu,"__esModule",{value:!0});Eu.Toolbar=void 0;var ar=Vt,Bl=En,Q3=fo,Y3=ho,X3=function(t){K3(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handleTabChange=function(r){var i=n.props.onTabChange;i(r)},n}return e.prototype.render=function(){var n=this,r=this.props.l18n,i=this.props,s=i.classes,o=i.children,l=i.buttons,c=i.onCommand,f=i.readOnly,w=i.disablePreview,C=i.writeButtonProps,A=i.previewButtonProps,M=i.buttonProps;if((!l||l.length===0)&&!o)return null;var V=ar.createElement("div",{className:"mde-tabs"},ar.createElement("button",Zr({type:"button",className:Bl.classNames({selected:this.props.tab==="write"}),onClick:function(){return n.handleTabChange("write")}},C),r.write),ar.createElement("button",Zr({type:"button",className:Bl.classNames({selected:this.props.tab==="preview"}),onClick:function(){return n.handleTabChange("preview")}},A),r.preview));return ar.createElement("div",{className:Bl.classNames("mde-header",s)},!w&&V,l.map(function(N,k){return ar.createElement(Q3.ToolbarButtonGroup,{key:k,hidden:n.props.tab==="preview"},N.map(function(S,b){return ar.createElement(Y3.ToolbarButton,{key:b,name:S.commandName,buttonContent:S.buttonContent,buttonProps:Zr(Zr({},M||{}),S.buttonProps),onClick:function(){return c(S.commandName)},readOnly:f,buttonComponentClass:S.buttonComponentClass})}))}))},e}(ar.Component);Eu.Toolbar=X3;var os={},Zt={},Tu={};Object.defineProperty(Tu,"__esModule",{value:!0});Tu.headerCommand=void 0;var J3=je;function Z3(t,e,n){var r=J3.selectWord({text:t.text,selection:t.selection}),i=e.setSelectionRange(r),s=e.replaceSelection(""+n+i.selectedText);e.setSelectionRange({start:s.selection.end-i.selectedText.length,end:s.selection.end})}Tu.headerCommand={buttonProps:{"aria-label":"Add header"},execute:function(t){var e=t.initialState,n=t.textApi;Z3(e,n,"### ")}};var Su={};Object.defineProperty(Su,"__esModule",{value:!0});Su.boldCommand=void 0;var eE=je;Su.boldCommand={buttonProps:{"aria-label":"Add bold text"},execute:function(t){var e=t.initialState,n=t.textApi,r=eE.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("**"+i.selectedText+"**");n.setSelectionRange({start:s.selection.end-2-i.selectedText.length,end:s.selection.end-2})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="b"}};var Iu={};Object.defineProperty(Iu,"__esModule",{value:!0});Iu.italicCommand=void 0;var tE=je;Iu.italicCommand={buttonProps:{"aria-label":"Add italic text"},execute:function(t){var e=t.initialState,n=t.textApi,r=tE.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("*"+i.selectedText+"*");n.setSelectionRange({start:s.selection.end-1-i.selectedText.length,end:s.selection.end-1})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="i"}};var ku={};Object.defineProperty(ku,"__esModule",{value:!0});ku.strikeThroughCommand=void 0;var nE=je;ku.strikeThroughCommand={buttonProps:{"aria-label":"Add strikethrough text"},execute:function(t){var e=t.initialState,n=t.textApi,r=nE.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("~~"+i.selectedText+"~~");n.setSelectionRange({start:s.selection.end-2-i.selectedText.length,end:s.selection.end-2})}};var Au={};Object.defineProperty(Au,"__esModule",{value:!0});Au.linkCommand=void 0;var rE=je;Au.linkCommand={buttonProps:{"aria-label":"Add a link"},execute:function(t){var e=t.initialState,n=t.textApi,r=rE.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("["+i.selectedText+"](url)");n.setSelectionRange({start:s.selection.end-6-i.selectedText.length,end:s.selection.end-6})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="k"}};var Cu={};Object.defineProperty(Cu,"__esModule",{value:!0});Cu.quoteCommand=void 0;var Ul=je;Cu.quoteCommand={buttonProps:{"aria-label":"Insert a quote"},execute:function(t){var e=t.initialState,n=t.textApi,r=Ul.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=Ul.getBreaksNeededForEmptyLineBefore(i.text,i.selection.start),o=Array(s+1).join(`
`),l=Ul.getBreaksNeededForEmptyLineAfter(i.text,i.selection.end),c=Array(l+1).join(`
`);n.replaceSelection(o+"> "+i.selectedText+c);var f=i.selection.start+s+2,w=f+i.selectedText.length;n.setSelectionRange({start:f,end:w})}};var bu={};Object.defineProperty(bu,"__esModule",{value:!0});bu.codeCommand=void 0;var $l=je;bu.codeCommand={buttonProps:{"aria-label":"Insert code"},execute:function(t){var e=t.initialState,n=t.textApi,r=$l.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r);if(i.selectedText.indexOf(`
`)===-1){n.replaceSelection("`"+i.selectedText+"`");var s=i.selection.start+1,o=s+i.selectedText.length;n.setSelectionRange({start:s,end:o});return}var l=$l.getBreaksNeededForEmptyLineBefore(i.text,i.selection.start),c=Array(l+1).join(`
`),f=$l.getBreaksNeededForEmptyLineAfter(i.text,i.selection.end),w=Array(f+1).join(`
`);n.replaceSelection(c+"```\n"+i.selectedText+"\n```"+w);var C=i.selection.start+l+4,A=C+i.selectedText.length;n.setSelectionRange({start:C,end:A})}};var yy={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkedListCommand=t.orderedListCommand=t.unorderedListCommand=t.makeList=t.insertBeforeEachLine=void 0;var e=je;function n(i,s){var o=i.split(/\n/),l=0,c=o.map(function(f,w){if(typeof s=="string")return l+=s.length,s+f;if(typeof s=="function"){var C=s(f,w);return l+=C.length,s(f,w)+f}throw Error("insertion is expected to be either a string or a function")}).join(`
`);return{modifiedText:c,insertionLength:l}}t.insertBeforeEachLine=n;var r=function(i,s,o){var l=e.selectWord({text:i.text,selection:i.selection}),c=s.setSelectionRange(l),f=e.getBreaksNeededForEmptyLineBefore(c.text,c.selection.start),w=Array(f+1).join(`
`),C=e.getBreaksNeededForEmptyLineAfter(c.text,c.selection.end),A=Array(C+1).join(`
`),M=n(c.selectedText,o);s.replaceSelection(""+w+M.modifiedText+A);var V=c.selectedText.indexOf(`
`)===-1?M.insertionLength:0,N=c.selection.start+f+V,k=N+M.modifiedText.length-V;s.setSelectionRange({start:N,end:k})};t.makeList=r,t.unorderedListCommand={buttonProps:{"aria-label":"Add unordered list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,"- ")}},t.orderedListCommand={buttonProps:{"aria-label":"Add ordered list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,function(l,c){return c+1+". "})}},t.checkedListCommand={buttonProps:{"aria-label":"Add checked list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,function(l,c){return"- [ ] "})}}})(yy);var Pu={};Object.defineProperty(Pu,"__esModule",{value:!0});Pu.imageCommand=void 0;var iE=je;Pu.imageCommand={buttonProps:{"aria-label":"Add image"},execute:function(t){var e=t.initialState,n=t.textApi,r=n.setSelectionRange(iE.selectWord({text:e.text,selection:e.selection})),i=r.selectedText||"https://example.com/your-image.png";n.replaceSelection("![]("+i+")"),n.setSelectionRange({start:r.selection.start+4,end:r.selection.start+4+i.length})}};var Ru={},Du={},sE=ue&&ue.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(w){try{f(r.next(w))}catch(C){o(C)}}function c(w){try{f(r.throw(w))}catch(C){o(C)}}function f(w){w.done?s(w.value):i(w.value).then(l,c)}f((r=r.apply(t,e||[])).next())})},oE=ue&&ue.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(f){return function(w){return c([f,w])}}function c(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(w){f=[6,w],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}};Object.defineProperty(Du,"__esModule",{value:!0});Du.readFileAsync=void 0;function aE(t){return sE(this,void 0,void 0,function(){return oE(this,function(e){return[2,new Promise(function(n,r){var i=new FileReader;i.onload=function(){if(typeof i.result=="string")throw new Error("reader.result is expected to be an ArrayBuffer");n(i.result)},i.onerror=r,i.readAsArrayBuffer(t)})]})})}Du.readFileAsync=aE;var uE=ue&&ue.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(w){try{f(r.next(w))}catch(C){o(C)}}function c(w){try{f(r.throw(w))}catch(C){o(C)}}function f(w){w.done?s(w.value):i(w.value).then(l,c)}f((r=r.apply(t,e||[])).next())})},lE=ue&&ue.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(f){return function(w){return c([f,w])}}function c(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(w){f=[6,w],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}};Object.defineProperty(Ru,"__esModule",{value:!0});Ru.saveImageCommand=void 0;var cE=Du,dE=je;function dm(t){var e=[];for(var n in t){var r=t[n];r.kind==="file"&&e.push(r.getAsFile())}return e}function fE(t){for(var e=[],n=0;n<t.length;n++)e.push(t[0]);return e}function hE(t,e){var n=e.multiple,r=e.accept,i=t;if(n||(i=i.slice(0,1)),r){var s=r.split(","),o=new Set(s.filter(function(f){return/^\.\w+/.test(f)}).map(function(f){return f.split(".")[1]})),l=new Set(s.filter(function(f){return/^[-\w.]+\/[-\w.]+$/.test(f)})),c=new Set(s.filter(function(f){return/(audio|video|image)\/\*/.test(f)}).map(function(f){return f.split("/")[0]}));i=i.filter(function(f){return o.has(f.name.split(".")[1])||l.has(f.type)||c.has(f.type.split("/")[0])})}return i}Ru.saveImageCommand={execute:function(t){t.initialState;var e=t.textApi,n=t.context,r=t.l18n;return uE(this,void 0,void 0,function(){var i,s,o,l,c,f,w,C,A,M,V,N,k,S,b,D,u,p,h,m,g,y,v,E;return lE(this,function(P){switch(P.label){case 0:if(!n)throw new Error("wrong context");i=n,s=i.event,o=i.pasteOptions,l=o.saveImage,c=o.multiple,f=o.accept,w=pE(n)?dm(s.clipboardData.items):mE(n)?dm(s.dataTransfer.items):fE(s.target.files),C=hE(w,{multiple:c,accept:f}),A=[];for(M in C)A.push(M);V=0,P.label=1;case 1:return V<A.length?(N=A[V],k=e.getState(),S=dE.getBreaksNeededForEmptyLineBefore(k.text,k.selection.start),b=Array(S+1).join(`
`),D=b+"!["+r.uploadingImage+"]()",e.replaceSelection(D),u=w[N],[4,cE.readFileAsync(u)]):[3,5];case 2:return p=P.sent(),h=l(p,u),[4,h.next()];case 3:m=P.sent().value,g=e.getState(),y=g.text.substr(k.selection.start,D.length),y===D&&(e.setSelectionRange({start:k.selection.start,end:k.selection.start+D.length}),v=m?b+"![image]("+m+")":"",E=v.length-D.length,e.replaceSelection(v),e.setSelectionRange({start:g.selection.start+E,end:g.selection.end+E})),P.label=4;case 4:return V++,[3,1];case 5:return[2]}})})}};function pE(t){return t.event.clipboardData!==void 0}function mE(t){return t.event.dataTransfer!==void 0}Object.defineProperty(Zt,"__esModule",{value:!0});Zt.getDefaultSaveImageCommandName=Zt.getDefaultCommandMap=Zt.getDefaultToolbarCommands=void 0;var gE=Tu,_E=Su,yE=Iu,vE=ku,wE=Au,EE=Cu,TE=bu,Hl=yy,SE=Pu,IE=Ru;function kE(){return[["header","bold","italic","strikethrough"],["link","quote","code","image"],["unordered-list","ordered-list","checked-list"]]}Zt.getDefaultToolbarCommands=kE;function AE(){return{header:gE.headerCommand,bold:_E.boldCommand,italic:yE.italicCommand,strikethrough:vE.strikeThroughCommand,link:wE.linkCommand,quote:EE.quoteCommand,code:TE.codeCommand,image:SE.imageCommand,"unordered-list":Hl.unorderedListCommand,"ordered-list":Hl.orderedListCommand,"checked-list":Hl.checkedListCommand,"save-image":IE.saveImageCommand}}Zt.getDefaultCommandMap=AE;function CE(){return"save-image"}Zt.getDefaultSaveImageCommandName=CE;var Nu={};Object.defineProperty(Nu,"__esModule",{value:!0});Nu.enL18n=void 0;Nu.enL18n={write:"Write",preview:"Preview",uploadingImage:"Uploading image...",pasteDropSelect:"Attach files by dragging & dropping, selecting or pasting them."};var uf={},Mu={};Object.defineProperty(Mu,"__esModule",{value:!0});Mu.SvgIcon=void 0;var Ve=Vt,bE=Ve.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"tasks",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ve.createElement("path",{fill:"currentColor",d:"M208 132h288c8.8 0 16-7.2 16-16V76c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zM64 368c-26.5 0-48.6 21.5-48.6 48s22.1 48 48.6 48 48-21.5 48-48-21.5-48-48-48zm92.5-299l-72.2 72.2-15.6 15.6c-4.7 4.7-12.9 4.7-17.6 0L3.5 109.4c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.3c4.7-4.7 12.3-4.7 17 0l17 16.5c4.6 4.7 4.6 12.3-.1 17zm0 159.6l-72.2 72.2-15.7 15.7c-4.7 4.7-12.9 4.7-17.6 0L3.5 269c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.7c4.7-4.7 12.3-4.7 17 0l17 17c4.6 4.6 4.6 12.2-.1 16.9z"})),PE=Ve.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ol",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ve.createElement("path",{fill:"currentColor",d:"M3.263 139.527c0-7.477 3.917-11.572 11.573-11.572h15.131V88.078c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.938C32.815 33.602 36.732 32 42.785 32H54.89c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572H14.836c-7.656 0-11.573-4.095-11.573-11.572v-8.902zM2.211 304.591c0-47.278 50.955-56.383 50.955-69.165 0-7.18-5.954-8.755-9.28-8.755-3.153 0-6.479 1.051-9.455 3.852-5.079 4.903-10.507 7.004-16.111 2.451l-8.579-6.829c-5.779-4.553-7.18-9.805-2.803-15.409C13.592 201.981 26.025 192 47.387 192c19.437 0 44.476 10.506 44.476 39.573 0 38.347-46.753 46.402-48.679 56.909h39.049c7.529 0 11.557 4.027 11.557 11.382v8.755c0 7.354-4.028 11.382-11.557 11.382h-67.94c-7.005 0-12.083-4.028-12.083-11.382v-4.028zM5.654 454.61l5.603-9.28c3.853-6.654 9.105-7.004 15.584-3.152 4.903 2.101 9.63 3.152 14.359 3.152 10.155 0 14.358-3.502 14.358-8.23 0-6.654-5.604-9.106-15.934-9.106h-4.728c-5.954 0-9.28-2.101-12.258-7.88l-1.05-1.926c-2.451-4.728-1.226-9.806 2.801-14.884l5.604-7.004c6.829-8.405 12.257-13.483 12.257-13.483v-.35s-4.203 1.051-12.608 1.051H16.685c-7.53 0-11.383-4.028-11.383-11.382v-8.755c0-7.53 3.853-11.382 11.383-11.382h58.484c7.529 0 11.382 4.027 11.382 11.382v3.327c0 5.778-1.401 9.806-5.079 14.183l-17.509 20.137c19.611 5.078 28.716 20.487 28.716 34.845 0 21.363-14.358 44.126-48.503 44.126-16.636 0-28.192-4.728-35.896-9.455-5.779-4.202-6.304-9.805-2.626-15.934zM144 132h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),RE=Ve.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ul",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ve.createElement("path",{fill:"currentColor",d:"M96 96c0 26.51-21.49 48-48 48S0 122.51 0 96s21.49-48 48-48 48 21.49 48 48zM48 208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm0 160c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm96-236h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),DE=Ve.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"image",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ve.createElement("path",{fill:"currentColor",d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"})),NE=Ve.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"code",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512","data-fa-i2svg":""},Ve.createElement("path",{fill:"currentColor",d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})),ME=Ve.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"quote-right",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ve.createElement("path",{fill:"currentColor",d:"M512 80v128c0 137.018-63.772 236.324-193.827 271.172-15.225 4.08-30.173-7.437-30.173-23.199v-33.895c0-10.057 6.228-19.133 15.687-22.55C369.684 375.688 408 330.054 408 256h-72c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h128c26.51 0 48 21.49 48 48zM176 32H48C21.49 32 0 53.49 0 80v128c0 26.51 21.49 48 48 48h72c0 74.054-38.316 119.688-104.313 143.528C6.228 402.945 0 412.021 0 422.078v33.895c0 15.762 14.948 27.279 30.173 23.199C160.228 444.324 224 345.018 224 208V80c0-26.51-21.49-48-48-48z"})),VE=Ve.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"link",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ve.createElement("path",{fill:"currentColor",d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"})),OE=Ve.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"strikethrough",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ve.createElement("path",{fill:"currentColor",d:"M496 288H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h480c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16zm-214.666 16c27.258 12.937 46.524 28.683 46.524 56.243 0 33.108-28.977 53.676-75.621 53.676-32.325 0-76.874-12.08-76.874-44.271V368c0-8.837-7.164-16-16-16H113.75c-8.836 0-16 7.163-16 16v19.204c0 66.845 77.717 101.82 154.487 101.82 88.578 0 162.013-45.438 162.013-134.424 0-19.815-3.618-36.417-10.143-50.6H281.334zm-30.952-96c-32.422-13.505-56.836-28.946-56.836-59.683 0-33.92 30.901-47.406 64.962-47.406 42.647 0 64.962 16.593 64.962 32.985V136c0 8.837 7.164 16 16 16h45.613c8.836 0 16-7.163 16-16v-30.318c0-52.438-71.725-79.875-142.575-79.875-85.203 0-150.726 40.972-150.726 125.646 0 22.71 4.665 41.176 12.777 56.547h129.823z"})),LE=Ve.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"italic",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512","data-fa-i2svg":""},Ve.createElement("path",{fill:"currentColor",d:"M204.758 416h-33.849l62.092-320h40.725a16 16 0 0 0 15.704-12.937l6.242-32C297.599 41.184 290.034 32 279.968 32H120.235a16 16 0 0 0-15.704 12.937l-6.242 32C96.362 86.816 103.927 96 113.993 96h33.846l-62.09 320H46.278a16 16 0 0 0-15.704 12.935l-6.245 32C22.402 470.815 29.967 480 40.034 480h158.479a16 16 0 0 0 15.704-12.935l6.245-32c1.927-9.88-5.638-19.065-15.704-19.065z"})),xE=Ve.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"heading",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ve.createElement("path",{fill:"currentColor",d:"M496 80V48c0-8.837-7.163-16-16-16H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.621v128H154.379V96H192c8.837 0 16-7.163 16-16V48c0-8.837-7.163-16-16-16H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.275v320H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.621V288H357.62v128H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.275V96H480c8.837 0 16-7.163 16-16z"})),FE=Ve.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"bold",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512","data-fa-i2svg":""},Ve.createElement("path",{fill:"currentColor",d:"M304.793 243.891c33.639-18.537 53.657-54.16 53.657-95.693 0-48.236-26.25-87.626-68.626-104.179C265.138 34.01 240.849 32 209.661 32H24c-8.837 0-16 7.163-16 16v33.049c0 8.837 7.163 16 16 16h33.113v318.53H24c-8.837 0-16 7.163-16 16V464c0 8.837 7.163 16 16 16h195.69c24.203 0 44.834-1.289 66.866-7.584C337.52 457.193 376 410.647 376 350.014c0-52.168-26.573-91.684-71.207-106.123zM142.217 100.809h67.444c16.294 0 27.536 2.019 37.525 6.717 15.828 8.479 24.906 26.502 24.906 49.446 0 35.029-20.32 56.79-53.029 56.79h-76.846V100.809zm112.642 305.475c-10.14 4.056-22.677 4.907-31.409 4.907h-81.233V281.943h84.367c39.645 0 63.057 25.38 63.057 63.057.001 28.425-13.66 52.483-34.782 61.284z"})),jE=function(t){var e=t.icon;switch(e){case"header":return xE;case"bold":return FE;case"italic":return LE;case"strikethrough":return OE;case"link":return VE;case"quote":return ME;case"code":return NE;case"image":return DE;case"unordered-list":return RE;case"ordered-list":return PE;case"checked-list":return bE;default:return null}};Mu.SvgIcon=jE;(function(t){var e=ue&&ue.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=ue&&ue.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(po,t),n(Mu,t)})(uf);var ln={},Vu={};Object.defineProperty(Vu,"__esModule",{value:!0});Vu.extractKeyActivatedCommands=void 0;function zE(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&t[n].handleKeyCommand&&e.push(n);return e}Vu.extractKeyActivatedCommands=zE;var fm;function BE(){if(fm)return ln;fm=1;var t=ue&&ue.__assign||function(){return t=Object.assign||function(w){for(var C,A=1,M=arguments.length;A<M;A++){C=arguments[A];for(var V in C)Object.prototype.hasOwnProperty.call(C,V)&&(w[V]=C[V])}return w},t.apply(this,arguments)},e=ue&&ue.__awaiter||function(w,C,A,M){function V(N){return N instanceof A?N:new A(function(k){k(N)})}return new(A||(A=Promise))(function(N,k){function S(u){try{D(M.next(u))}catch(p){k(p)}}function b(u){try{D(M.throw(u))}catch(p){k(p)}}function D(u){u.done?N(u.value):V(u.value).then(S,b)}D((M=M.apply(w,C||[])).next())})},n=ue&&ue.__generator||function(w,C){var A={label:0,sent:function(){if(N[0]&1)throw N[1];return N[1]},trys:[],ops:[]},M,V,N,k;return k={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(k[Symbol.iterator]=function(){return this}),k;function S(D){return function(u){return b([D,u])}}function b(D){if(M)throw new TypeError("Generator is already executing.");for(;A;)try{if(M=1,V&&(N=D[0]&2?V.return:D[0]?V.throw||((N=V.return)&&N.call(V),0):V.next)&&!(N=N.call(V,D[1])).done)return N;switch(V=0,N&&(D=[D[0]&2,N.value]),D[0]){case 0:case 1:N=D;break;case 4:return A.label++,{value:D[1],done:!1};case 5:A.label++,V=D[1],D=[0];continue;case 7:D=A.ops.pop(),A.trys.pop();continue;default:if(N=A.trys,!(N=N.length>0&&N[N.length-1])&&(D[0]===6||D[0]===2)){A=0;continue}if(D[0]===3&&(!N||D[1]>N[0]&&D[1]<N[3])){A.label=D[1];break}if(D[0]===6&&A.label<N[1]){A.label=N[1],N=D;break}if(N&&A.label<N[2]){A.label=N[2],A.ops.push(D);break}N[2]&&A.ops.pop(),A.trys.pop();continue}D=C.call(w,A)}catch(u){D=[6,u],V=0}finally{M=N=0}if(D[0]&5)throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}};Object.defineProperty(ln,"__esModule",{value:!0}),ln.CommandOrchestrator=ln.getStateFromTextArea=ln.TextAreaTextApi=void 0;var r=wy(),i=mo,s=Vu,o=Zt,l=function(){function w(C){this.textAreaRef=C}return w.prototype.replaceSelection=function(C){var A=this.textAreaRef.current;return i.insertText(A,C),c(A)},w.prototype.setSelectionRange=function(C){var A=this.textAreaRef.current;return A.focus(),A.selectionStart=C.start,A.selectionEnd=C.end,c(A)},w.prototype.getState=function(){var C=this.textAreaRef.current;return c(C)},w}();ln.TextAreaTextApi=l;function c(w){return{selection:{start:w.selectionStart,end:w.selectionEnd},text:w.value,selectedText:w.value.slice(w.selectionStart,w.selectionEnd)}}ln.getStateFromTextArea=c;var f=function(){function w(C,A,M,V){var N=this;if(this.getCommand=function(k){var S=N.commandMap[k];if(!S)throw new Error("Cannot execute command. Command not found: "+k);return S},this.handlePossibleKeyCommand=function(k){for(var S=0,b=N.keyActivatedCommands;S<b.length;S++){var D=b[S];if(N.getCommand(D).handleKeyCommand(k))return N.executeCommand(D).then(function(u){}),!0}return!1},V&&!V.saveImage)throw new Error("paste options are incomplete. saveImage are required ");this.commandMap=t(t({},r.getDefaultCommandMap()),C||{}),this.pasteOptions=V,this.keyActivatedCommands=s.extractKeyActivatedCommands(C),this.textAreaRef=A,this.textApi=new l(A),this.l18n=M}return w.prototype.executeCommand=function(C,A){return e(this,void 0,void 0,function(){var M,V;return n(this,function(N){switch(N.label){case 0:return this.isExecuting?[2]:(this.isExecuting=!0,M=this.commandMap[C],V=M.execute({initialState:c(this.textAreaRef.current),textApi:this.textApi,l18n:this.l18n,context:A}),[4,V]);case 1:return N.sent(),this.isExecuting=!1,[2]}})})},w.prototype.executePasteCommand=function(C){return e(this,void 0,void 0,function(){return n(this,function(A){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:C})]:[2]})})},w.prototype.executeDropCommand=function(C){return e(this,void 0,void 0,function(){return n(this,function(A){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:C})]:[2]})})},w.prototype.executeSelectImageCommand=function(C){return e(this,void 0,void 0,function(){return n(this,function(A){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:C})]:[2]})})},w.prototype.getCommandByName=function(C){return this.commandMap[C]},w}();return ln.CommandOrchestrator=f,ln}var hm;function UE(){if(hm)return os;hm=1;var t=ue&&ue.__extends||function(){var M=function(V,N){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,S){k.__proto__=S}||function(k,S){for(var b in S)Object.prototype.hasOwnProperty.call(S,b)&&(k[b]=S[b])},M(V,N)};return function(V,N){if(typeof N!="function"&&N!==null)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");M(V,N);function k(){this.constructor=V}V.prototype=N===null?Object.create(N):(k.prototype=N.prototype,new k)}}(),e=ue&&ue.__assign||function(){return e=Object.assign||function(M){for(var V,N=1,k=arguments.length;N<k;N++){V=arguments[N];for(var S in V)Object.prototype.hasOwnProperty.call(V,S)&&(M[S]=V[S])}return M},e.apply(this,arguments)},n=ue&&ue.__awaiter||function(M,V,N,k){function S(b){return b instanceof N?b:new N(function(D){D(b)})}return new(N||(N=Promise))(function(b,D){function u(m){try{h(k.next(m))}catch(g){D(g)}}function p(m){try{h(k.throw(m))}catch(g){D(g)}}function h(m){m.done?b(m.value):S(m.value).then(u,p)}h((k=k.apply(M,V||[])).next())})},r=ue&&ue.__generator||function(M,V){var N={label:0,sent:function(){if(b[0]&1)throw b[1];return b[1]},trys:[],ops:[]},k,S,b,D;return D={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(D[Symbol.iterator]=function(){return this}),D;function u(h){return function(m){return p([h,m])}}function p(h){if(k)throw new TypeError("Generator is already executing.");for(;N;)try{if(k=1,S&&(b=h[0]&2?S.return:h[0]?S.throw||((b=S.return)&&b.call(S),0):S.next)&&!(b=b.call(S,h[1])).done)return b;switch(S=0,b&&(h=[h[0]&2,b.value]),h[0]){case 0:case 1:b=h;break;case 4:return N.label++,{value:h[1],done:!1};case 5:N.label++,S=h[1],h=[0];continue;case 7:h=N.ops.pop(),N.trys.pop();continue;default:if(b=N.trys,!(b=b.length>0&&b[b.length-1])&&(h[0]===6||h[0]===2)){N=0;continue}if(h[0]===3&&(!b||h[1]>b[0]&&h[1]<b[3])){N.label=h[1];break}if(h[0]===6&&N.label<b[1]){N.label=b[1],b=h;break}if(b&&N.label<b[2]){N.label=b[2],N.ops.push(h);break}b[2]&&N.ops.pop(),N.trys.pop();continue}h=V.call(M,N)}catch(m){h=[6,m],S=0}finally{k=b=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}};Object.defineProperty(os,"__esModule",{value:!0}),os.ReactMde=void 0;var i=Vt,s=vy(),o=Zt,l=Nu,c=uf,f=En,w=BE(),C={accept:"image/*",multiple:!1},A=function(M){t(V,M);function V(N){var k,S=M.call(this,N)||this;S.handleTextChange=function(D){var u=S.props.onChange;u(D)},S.handlePaste=function(D){return n(S,void 0,void 0,function(){var u;return r(this,function(p){switch(p.label){case 0:return u=this.props.paste,!u||!u.saveImage?[2]:[4,this.commandOrchestrator.executePasteCommand(D)];case 1:return p.sent(),[2]}})})},S.handleDrop=function(D){return n(S,void 0,void 0,function(){var u;return r(this,function(p){switch(p.label){case 0:return u=this.props.paste,!u||!u.saveImage?[2]:[4,this.commandOrchestrator.executeDropCommand(D)];case 1:return p.sent(),[2]}})})},S.handleImageSelection=function(D){return n(S,void 0,void 0,function(){var u;return r(this,function(p){switch(p.label){case 0:return u=this.props.paste,!u||!u.saveImage?[2]:[4,this.commandOrchestrator.executeSelectImageCommand(D)];case 1:return p.sent(),[2]}})})},S.handleTabChange=function(D){var u=S.props.onTabChange;u(D)},S.handleCommand=function(D){return n(S,void 0,void 0,function(){return r(this,function(u){switch(u.label){case 0:return[4,this.commandOrchestrator.executeCommand(D)];case 1:return u.sent(),[2]}})})},S.finalRefs=e({},N.refs||{}),S.finalRefs.textarea||(S.finalRefs.textarea=i.createRef()),S.finalRefs.preview||(S.finalRefs.preview=i.createRef()),S.commandOrchestrator=new w.CommandOrchestrator(S.props.commands,S.finalRefs.textarea,S.props.l18n,S.props.paste?e(e({},C),S.props.paste):void 0);var b=Math.min(N.maxEditorHeight,N.minEditorHeight);return S.state={editorHeight:(k=N.initialEditorHeight)!==null&&k!==void 0?k:b},S}return V.prototype.render=function(){var N=this,k,S,b=this.props,D=b.getIcon,u=b.toolbarCommands,p=b.classes,h=b.loadingPreview,m=b.readOnly,g=b.disablePreview,y=b.value,v=b.l18n,E=b.minPreviewHeight,P=b.heightUnits,T=b.childProps,F=b.selectedTab,z=b.generateMarkdownPreview,R=b.loadSuggestions,j=b.suggestionTriggerCharacters,K=b.textAreaComponent,X=T||{},ce=u.map(function(x){return x.map(function(Q){var Y=N.commandOrchestrator.getCommand(Q);return{commandName:Q,buttonContent:Y.icon?Y.icon(D):D(Q),buttonProps:Y.buttonProps,buttonComponentClass:Y.buttonComponentClass}})});return i.createElement("div",{className:f.classNames("react-mde","react-mde-tabbed-layout",p==null?void 0:p.reactMde)},i.createElement(s.Toolbar,{classes:p==null?void 0:p.toolbar,buttons:ce,onCommand:this.handleCommand,onTabChange:this.handleTabChange,tab:F,readOnly:m,disablePreview:g,l18n:v,buttonProps:X.commandButtons,writeButtonProps:X.writeButton,previewButtonProps:X.previewButton}),i.createElement("div",{className:f.classNames({invisible:F!=="write"})},i.createElement(s.TextArea,{classes:p==null?void 0:p.textArea,suggestionsDropdownClasses:p==null?void 0:p.suggestionsDropdown,suggestionsAutoplace:this.props.suggestionsAutoplace,refObject:this.finalRefs.textarea,onChange:this.handleTextChange,onPaste:this.handlePaste,onDrop:this.handleDrop,readOnly:m,textAreaComponent:K,textAreaProps:T&&T.textArea,height:this.state.editorHeight,heightUnits:this.props.heightUnits,value:y,suggestionTriggerCharacters:j,loadSuggestions:R,onPossibleKeyCommand:this.commandOrchestrator.handlePossibleKeyCommand}),this.props.paste&&i.createElement("label",{className:f.classNames("image-tip")},i.createElement("input",{className:f.classNames("image-input"),type:"file",accept:(k=this.props.paste.accept)!==null&&k!==void 0?k:C.accept,multiple:(S=this.props.paste.multiple)!==null&&S!==void 0?S:C.multiple,onChange:this.handleImageSelection}),i.createElement("span",null,v.pasteDropSelect))),F!=="write"&&i.createElement(s.Preview,{classes:p==null?void 0:p.preview,refObject:this.finalRefs.preview,loadingPreview:h,minHeight:E,heightUnits:P,generateMarkdownPreview:z,markdown:y}))},V.defaultProps={commands:o.getDefaultCommandMap(),toolbarCommands:o.getDefaultToolbarCommands(),getIcon:function(N){return i.createElement(c.SvgIcon,{icon:N})},readOnly:!1,l18n:l.enL18n,minEditorHeight:200,maxEditorHeight:500,minPreviewHeight:200,heightUnits:"px",selectedTab:"write",disablePreview:!1,suggestionTriggerCharacters:["@"],suggestionsAutoplace:!1},V}(i.Component);return os.ReactMde=A,os}var pm;function vy(){return pm||(pm=1,function(t){var e=ue&&ue.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=ue&&ue.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(fo,t),n(ho,t),n(po,t),n(_u,t),n(yu,t),n(Eu,t),n(UE(),t),n(go,t)}(zl)),zl}var mm;function wy(){return mm||(mm=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultToolbarCommands=t.getDefaultCommandMap=t.MdeFontAwesomeIcon=t.SvgIcon=t.MarkdownUtil=t.ToolbarButtonGroup=t.Toolbar=t.Preview=t.SuggestionsDropdown=t.TextArea=void 0;var e=je;t.MarkdownUtil=e;var n=vy();Object.defineProperty(t,"TextArea",{enumerable:!0,get:function(){return n.TextArea}}),Object.defineProperty(t,"SuggestionsDropdown",{enumerable:!0,get:function(){return n.SuggestionsDropdown}}),Object.defineProperty(t,"Preview",{enumerable:!0,get:function(){return n.Preview}}),Object.defineProperty(t,"Toolbar",{enumerable:!0,get:function(){return n.Toolbar}}),Object.defineProperty(t,"ToolbarButtonGroup",{enumerable:!0,get:function(){return n.ToolbarButtonGroup}});var r=uf;Object.defineProperty(t,"SvgIcon",{enumerable:!0,get:function(){return r.SvgIcon}}),Object.defineProperty(t,"MdeFontAwesomeIcon",{enumerable:!0,get:function(){return r.MdeFontAwesomeIcon}});var i=Zt;Object.defineProperty(t,"getDefaultCommandMap",{enumerable:!0,get:function(){return i.getDefaultCommandMap}}),Object.defineProperty(t,"getDefaultToolbarCommands",{enumerable:!0,get:function(){return i.getDefaultToolbarCommands}}),t.default=n.ReactMde}(jl)),jl}var $E=wy();const HE=ro($E);var Ey={exports:{}};(function(t){(function(){function e(u){var p={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,describe:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,describe:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,describe:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,describe:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,describe:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",describe:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,describe:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,describe:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,describe:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,describe:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,describe:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},ellipsis:{defaultValue:!0,describe:"Replaces three dots with the ellipsis unicode character",type:"boolean"},completeHTMLDocument:{defaultValue:!1,describe:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,describe:"Enable support for document metadata (defined at the top of the document between `` and `` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,describe:"Split adjacent blockquote blocks",type:"boolean"}};if(u===!1)return JSON.parse(JSON.stringify(p));var h={};for(var m in p)p.hasOwnProperty(m)&&(h[m]=p[m].defaultValue);return h}function n(){var u=e(!0),p={};for(var h in u)u.hasOwnProperty(h)&&(p[h]=!0);return p}var r={},i={},s={},o=e(!0),l="vanilla",c={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:e(!0),allOn:n()};r.helper={},r.extensions={},r.setOption=function(u,p){return o[u]=p,this},r.getOption=function(u){return o[u]},r.getOptions=function(){return o},r.resetOptions=function(){o=e(!0)},r.setFlavor=function(u){if(!c.hasOwnProperty(u))throw Error(u+" flavor was not found");r.resetOptions();var p=c[u];l=u;for(var h in p)p.hasOwnProperty(h)&&(o[h]=p[h])},r.getFlavor=function(){return l},r.getFlavorOptions=function(u){if(c.hasOwnProperty(u))return c[u]},r.getDefaultOptions=function(u){return e(u)},r.subParser=function(u,p){if(r.helper.isString(u))if(typeof p<"u")i[u]=p;else{if(i.hasOwnProperty(u))return i[u];throw Error("SubParser named "+u+" not registered!")}},r.extension=function(u,p){if(!r.helper.isString(u))throw Error("Extension 'name' must be a string");if(u=r.helper.stdExtName(u),r.helper.isUndefined(p)){if(!s.hasOwnProperty(u))throw Error("Extension named "+u+" is not registered!");return s[u]}else{typeof p=="function"&&(p=p()),r.helper.isArray(p)||(p=[p]);var h=f(p,u);if(h.valid)s[u]=p;else throw Error(h.error)}},r.getAllExtensions=function(){return s},r.removeExtension=function(u){delete s[u]},r.resetExtensions=function(){s={}};function f(u,p){var h=p?"Error in "+p+" extension->":"Error in unnamed extension",m={valid:!0,error:""};r.helper.isArray(u)||(u=[u]);for(var g=0;g<u.length;++g){var y=h+" sub-extension "+g+": ",v=u[g];if(typeof v!="object")return m.valid=!1,m.error=y+"must be an object, but "+typeof v+" given",m;if(!r.helper.isString(v.type))return m.valid=!1,m.error=y+'property "type" must be a string, but '+typeof v.type+" given",m;var E=v.type=v.type.toLowerCase();if(E==="language"&&(E=v.type="lang"),E==="html"&&(E=v.type="output"),E!=="lang"&&E!=="output"&&E!=="listener")return m.valid=!1,m.error=y+"type "+E+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',m;if(E==="listener"){if(r.helper.isUndefined(v.listeners))return m.valid=!1,m.error=y+'. Extensions of type "listener" must have a property called "listeners"',m}else if(r.helper.isUndefined(v.filter)&&r.helper.isUndefined(v.regex))return m.valid=!1,m.error=y+E+' extensions must define either a "regex" property or a "filter" method',m;if(v.listeners){if(typeof v.listeners!="object")return m.valid=!1,m.error=y+'"listeners" property must be an object but '+typeof v.listeners+" given",m;for(var P in v.listeners)if(v.listeners.hasOwnProperty(P)&&typeof v.listeners[P]!="function")return m.valid=!1,m.error=y+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+P+" must be a function but "+typeof v.listeners[P]+" given",m}if(v.filter){if(typeof v.filter!="function")return m.valid=!1,m.error=y+'"filter" must be a function, but '+typeof v.filter+" given",m}else if(v.regex){if(r.helper.isString(v.regex)&&(v.regex=new RegExp(v.regex,"g")),!(v.regex instanceof RegExp))return m.valid=!1,m.error=y+'"regex" property must either be a string or a RegExp object, but '+typeof v.regex+" given",m;if(r.helper.isUndefined(v.replace))return m.valid=!1,m.error=y+'"regex" extensions must implement a replace string or function',m}}return m}r.validateExtension=function(u){var p=f(u,null);return p.valid?!0:(console.warn(p.error),!1)},r.hasOwnProperty("helper")||(r.helper={}),r.helper.isString=function(u){return typeof u=="string"||u instanceof String},r.helper.isFunction=function(u){var p={};return u&&p.toString.call(u)==="[object Function]"},r.helper.isArray=function(u){return Array.isArray(u)},r.helper.isUndefined=function(u){return typeof u>"u"},r.helper.forEach=function(u,p){if(r.helper.isUndefined(u))throw new Error("obj param is required");if(r.helper.isUndefined(p))throw new Error("callback param is required");if(!r.helper.isFunction(p))throw new Error("callback param must be a function/closure");if(typeof u.forEach=="function")u.forEach(p);else if(r.helper.isArray(u))for(var h=0;h<u.length;h++)p(u[h],h,u);else if(typeof u=="object")for(var m in u)u.hasOwnProperty(m)&&p(u[m],m,u);else throw new Error("obj does not seem to be an array or an iterable object")},r.helper.stdExtName=function(u){return u.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function w(u,p){var h=p.charCodeAt(0);return"E"+h+"E"}r.helper.escapeCharactersCallback=w,r.helper.escapeCharacters=function(u,p,h){var m="(["+p.replace(/([\[\]\\])/g,"\\$1")+"])";h&&(m="\\\\"+m);var g=new RegExp(m,"g");return u=u.replace(g,w),u},r.helper.unescapeHTMLEntities=function(u){return u.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var C=function(u,p,h,m){var g=m||"",y=g.indexOf("g")>-1,v=new RegExp(p+"|"+h,"g"+g.replace(/g/g,"")),E=new RegExp(p,g.replace(/g/g,"")),P=[],T,F,z,R,j;do for(T=0;z=v.exec(u);)if(E.test(z[0]))T++||(F=v.lastIndex,R=F-z[0].length);else if(T&&!--T){j=z.index+z[0].length;var K={left:{start:R,end:F},match:{start:F,end:z.index},right:{start:z.index,end:j},wholeMatch:{start:R,end:j}};if(P.push(K),!y)return P}while(T&&(v.lastIndex=F));return P};r.helper.matchRecursiveRegExp=function(u,p,h,m){for(var g=C(u,p,h,m),y=[],v=0;v<g.length;++v)y.push([u.slice(g[v].wholeMatch.start,g[v].wholeMatch.end),u.slice(g[v].match.start,g[v].match.end),u.slice(g[v].left.start,g[v].left.end),u.slice(g[v].right.start,g[v].right.end)]);return y},r.helper.replaceRecursiveRegExp=function(u,p,h,m,g){if(!r.helper.isFunction(p)){var y=p;p=function(){return y}}var v=C(u,h,m,g),E=u,P=v.length;if(P>0){var T=[];v[0].wholeMatch.start!==0&&T.push(u.slice(0,v[0].wholeMatch.start));for(var F=0;F<P;++F)T.push(p(u.slice(v[F].wholeMatch.start,v[F].wholeMatch.end),u.slice(v[F].match.start,v[F].match.end),u.slice(v[F].left.start,v[F].left.end),u.slice(v[F].right.start,v[F].right.end))),F<P-1&&T.push(u.slice(v[F].wholeMatch.end,v[F+1].wholeMatch.start));v[P-1].wholeMatch.end<u.length&&T.push(u.slice(v[P-1].wholeMatch.end)),E=T.join("")}return E},r.helper.regexIndexOf=function(u,p,h){if(!r.helper.isString(u))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(p instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var m=u.substring(h||0).search(p);return m>=0?m+(h||0):m},r.helper.splitAtIndex=function(u,p){if(!r.helper.isString(u))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[u.substring(0,p),u.substring(p)]},r.helper.encodeEmailAddress=function(u){var p=[function(h){return"&#"+h.charCodeAt(0)+";"},function(h){return"&#x"+h.charCodeAt(0).toString(16)+";"},function(h){return h}];return u=u.replace(/./g,function(h){if(h==="@")h=p[Math.floor(Math.random()*2)](h);else{var m=Math.random();h=m>.9?p[2](h):m>.45?p[1](h):p[0](h)}return h}),u},r.helper.padEnd=function(p,h,m){return h=h>>0,m=String(m||" "),p.length>h?String(p):(h=h-p.length,h>m.length&&(m+=m.repeat(h/m.length)),String(p)+m.slice(0,h))},typeof console>"u"&&(console={warn:function(u){alert(u)},log:function(u){alert(u)},error:function(u){throw u}}),r.helper.regexes={asteriskDashAndColon:/([*_:~])/g},r.helper.emojis={"+1":"","-1":"",100:"",1234:"","1st_place_medal":"","2nd_place_medal":"","3rd_place_medal":"","8ball":"",a:"",ab:"",abc:"",abcd:"",accept:"",aerial_tramway:"",airplane:"",alarm_clock:"",alembic:"",alien:"",ambulance:"",amphora:"",anchor:"",angel:"",anger:"",angry:"",anguished:"",ant:"",apple:"",aquarius:"",aries:"",arrow_backward:"",arrow_double_down:"",arrow_double_up:"",arrow_down:"",arrow_down_small:"",arrow_forward:"",arrow_heading_down:"",arrow_heading_up:"",arrow_left:"",arrow_lower_left:"",arrow_lower_right:"",arrow_right:"",arrow_right_hook:"",arrow_up:"",arrow_up_down:"",arrow_up_small:"",arrow_upper_left:"",arrow_upper_right:"",arrows_clockwise:"",arrows_counterclockwise:"",art:"",articulated_lorry:"",artificial_satellite:"",astonished:"",athletic_shoe:"",atm:"",atom_symbol:"",avocado:"",b:"",baby:"",baby_bottle:"",baby_chick:"",baby_symbol:"",back:"",bacon:"",badminton:"",baggage_claim:"",baguette_bread:"",balance_scale:"",balloon:"",ballot_box:"",ballot_box_with_check:"",bamboo:"",banana:"",bangbang:"",bank:"",bar_chart:"",barber:"",baseball:"",basketball:"",basketball_man:"",basketball_woman:"&zwj;",bat:"",bath:"",bathtub:"",battery:"",beach_umbrella:"",bear:"",bed:"",bee:"",beer:"",beers:"",beetle:"",beginner:"",bell:"",bellhop_bell:"",bento:"",biking_man:"",bike:"",biking_woman:"&zwj;",bikini:"",biohazard:"",bird:"",birthday:"",black_circle:"",black_flag:"",black_heart:"",black_joker:"",black_large_square:"",black_medium_small_square:"",black_medium_square:"",black_nib:"",black_small_square:"",black_square_button:"",blonde_man:"",blonde_woman:"&zwj;",blossom:"",blowfish:"",blue_book:"",blue_car:"",blue_heart:"",blush:"",boar:"",boat:"",bomb:"",book:"",bookmark:"",bookmark_tabs:"",books:"",boom:"",boot:"",bouquet:"",bowing_man:"",bow_and_arrow:"",bowing_woman:"&zwj;",bowling:"",boxing_glove:"",boy:"",bread:"",bride_with_veil:"",bridge_at_night:"",briefcase:"",broken_heart:"",bug:"",building_construction:"",bulb:"",bullettrain_front:"",bullettrain_side:"",burrito:"",bus:"",business_suit_levitating:"",busstop:"",bust_in_silhouette:"",busts_in_silhouette:"",butterfly:"",cactus:"",cake:"",calendar:"",call_me_hand:"",calling:"",camel:"",camera:"",camera_flash:"",camping:"",cancer:"",candle:"",candy:"",canoe:"",capital_abcd:"",capricorn:"",car:"",card_file_box:"",card_index:"",card_index_dividers:"",carousel_horse:"",carrot:"",cat:"",cat2:"",cd:"",chains:"",champagne:"",chart:"",chart_with_downwards_trend:"",chart_with_upwards_trend:"",checkered_flag:"",cheese:"",cherries:"",cherry_blossom:"",chestnut:"",chicken:"",children_crossing:"",chipmunk:"",chocolate_bar:"",christmas_tree:"",church:"",cinema:"",circus_tent:"",city_sunrise:"",city_sunset:"",cityscape:"",cl:"",clamp:"",clap:"",clapper:"",classical_building:"",clinking_glasses:"",clipboard:"",clock1:"",clock10:"",clock1030:"",clock11:"",clock1130:"",clock12:"",clock1230:"",clock130:"",clock2:"",clock230:"",clock3:"",clock330:"",clock4:"",clock430:"",clock5:"",clock530:"",clock6:"",clock630:"",clock7:"",clock730:"",clock8:"",clock830:"",clock9:"",clock930:"",closed_book:"",closed_lock_with_key:"",closed_umbrella:"",cloud:"",cloud_with_lightning:"",cloud_with_lightning_and_rain:"",cloud_with_rain:"",cloud_with_snow:"",clown_face:"",clubs:"",cocktail:"",coffee:"",coffin:"",cold_sweat:"",comet:"",computer:"",computer_mouse:"",confetti_ball:"",confounded:"",confused:"",congratulations:"",construction:"",construction_worker_man:"",construction_worker_woman:"&zwj;",control_knobs:"",convenience_store:"",cookie:"",cool:"",policeman:"",copyright:"",corn:"",couch_and_lamp:"",couple:"",couple_with_heart_woman_man:"",couple_with_heart_man_man:"&zwj;&zwj;",couple_with_heart_woman_woman:"&zwj;&zwj;",couplekiss_man_man:"&zwj;&zwj;&zwj;",couplekiss_man_woman:"",couplekiss_woman_woman:"&zwj;&zwj;&zwj;",cow:"",cow2:"",cowboy_hat_face:"",crab:"",crayon:"",credit_card:"",crescent_moon:"",cricket:"",crocodile:"",croissant:"",crossed_fingers:"",crossed_flags:"",crossed_swords:"",crown:"",cry:"",crying_cat_face:"",crystal_ball:"",cucumber:"",cupid:"",curly_loop:"",currency_exchange:"",curry:"",custard:"",customs:"",cyclone:"",dagger:"",dancer:"",dancing_women:"",dancing_men:"&zwj;",dango:"",dark_sunglasses:"",dart:"",dash:"",date:"",deciduous_tree:"",deer:"",department_store:"",derelict_house:"",desert:"",desert_island:"",desktop_computer:"",male_detective:"",diamond_shape_with_a_dot_inside:"",diamonds:"",disappointed:"",disappointed_relieved:"",dizzy:"",dizzy_face:"",do_not_litter:"",dog:"",dog2:"",dollar:"",dolls:"",dolphin:"",door:"",doughnut:"",dove:"",dragon:"",dragon_face:"",dress:"",dromedary_camel:"",drooling_face:"",droplet:"",drum:"",duck:"",dvd:"","e-mail":"",eagle:"",ear:"",ear_of_rice:"",earth_africa:"",earth_americas:"",earth_asia:"",egg:"",eggplant:"",eight_pointed_black_star:"",eight_spoked_asterisk:"",electric_plug:"",elephant:"",email:"",end:"",envelope_with_arrow:"",euro:"",european_castle:"",european_post_office:"",evergreen_tree:"",exclamation:"",expressionless:"",eye:"",eye_speech_bubble:"&zwj;",eyeglasses:"",eyes:"",face_with_head_bandage:"",face_with_thermometer:"",fist_oncoming:"",factory:"",fallen_leaf:"",family_man_woman_boy:"",family_man_boy:"&zwj;",family_man_boy_boy:"&zwj;&zwj;",family_man_girl:"&zwj;",family_man_girl_boy:"&zwj;&zwj;",family_man_girl_girl:"&zwj;&zwj;",family_man_man_boy:"&zwj;&zwj;",family_man_man_boy_boy:"&zwj;&zwj;&zwj;",family_man_man_girl:"&zwj;&zwj;",family_man_man_girl_boy:"&zwj;&zwj;&zwj;",family_man_man_girl_girl:"&zwj;&zwj;&zwj;",family_man_woman_boy_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl:"&zwj;&zwj;",family_man_woman_girl_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl_girl:"&zwj;&zwj;&zwj;",family_woman_boy:"&zwj;",family_woman_boy_boy:"&zwj;&zwj;",family_woman_girl:"&zwj;",family_woman_girl_boy:"&zwj;&zwj;",family_woman_girl_girl:"&zwj;&zwj;",family_woman_woman_boy:"&zwj;&zwj;",family_woman_woman_boy_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl:"&zwj;&zwj;",family_woman_woman_girl_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl_girl:"&zwj;&zwj;&zwj;",fast_forward:"",fax:"",fearful:"",feet:"",female_detective:"&zwj;",ferris_wheel:"",ferry:"",field_hockey:"",file_cabinet:"",file_folder:"",film_projector:"",film_strip:"",fire:"",fire_engine:"",fireworks:"",first_quarter_moon:"",first_quarter_moon_with_face:"",fish:"",fish_cake:"",fishing_pole_and_fish:"",fist_raised:"",fist_left:"",fist_right:"",flags:"",flashlight:"",fleur_de_lis:"",flight_arrival:"",flight_departure:"",floppy_disk:"",flower_playing_cards:"",flushed:"",fog:"",foggy:"",football:"",footprints:"",fork_and_knife:"",fountain:"",fountain_pen:"",four_leaf_clover:"",fox_face:"",framed_picture:"",free:"",fried_egg:"",fried_shrimp:"",fries:"",frog:"",frowning:"",frowning_face:"",frowning_man:"&zwj;",frowning_woman:"",middle_finger:"",fuelpump:"",full_moon:"",full_moon_with_face:"",funeral_urn:"",game_die:"",gear:"",gem:"",gemini:"",ghost:"",gift:"",gift_heart:"",girl:"",globe_with_meridians:"",goal_net:"",goat:"",golf:"",golfing_man:"",golfing_woman:"&zwj;",gorilla:"",grapes:"",green_apple:"",green_book:"",green_heart:"",green_salad:"",grey_exclamation:"",grey_question:"",grimacing:"",grin:"",grinning:"",guardsman:"",guardswoman:"&zwj;",guitar:"",gun:"",haircut_woman:"",haircut_man:"&zwj;",hamburger:"",hammer:"",hammer_and_pick:"",hammer_and_wrench:"",hamster:"",hand:"",handbag:"",handshake:"",hankey:"",hatched_chick:"",hatching_chick:"",headphones:"",hear_no_evil:"",heart:"",heart_decoration:"",heart_eyes:"",heart_eyes_cat:"",heartbeat:"",heartpulse:"",hearts:"",heavy_check_mark:"",heavy_division_sign:"",heavy_dollar_sign:"",heavy_heart_exclamation:"",heavy_minus_sign:"",heavy_multiplication_x:"",heavy_plus_sign:"",helicopter:"",herb:"",hibiscus:"",high_brightness:"",high_heel:"",hocho:"",hole:"",honey_pot:"",horse:"",horse_racing:"",hospital:"",hot_pepper:"",hotdog:"",hotel:"",hotsprings:"",hourglass:"",hourglass_flowing_sand:"",house:"",house_with_garden:"",houses:"",hugs:"",hushed:"",ice_cream:"",ice_hockey:"",ice_skate:"",icecream:"",id:"",ideograph_advantage:"",imp:"",inbox_tray:"",incoming_envelope:"",tipping_hand_woman:"",information_source:"",innocent:"",interrobang:"",iphone:"",izakaya_lantern:"",jack_o_lantern:"",japan:"",japanese_castle:"",japanese_goblin:"",japanese_ogre:"",jeans:"",joy:"",joy_cat:"",joystick:"",kaaba:"",key:"",keyboard:"",keycap_ten:"",kick_scooter:"",kimono:"",kiss:"",kissing:"",kissing_cat:"",kissing_closed_eyes:"",kissing_heart:"",kissing_smiling_eyes:"",kiwi_fruit:"",koala:"",koko:"",label:"",large_blue_circle:"",large_blue_diamond:"",large_orange_diamond:"",last_quarter_moon:"",last_quarter_moon_with_face:"",latin_cross:"",laughing:"",leaves:"",ledger:"",left_luggage:"",left_right_arrow:"",leftwards_arrow_with_hook:"",lemon:"",leo:"",leopard:"",level_slider:"",libra:"",light_rail:"",link:"",lion:"",lips:"",lipstick:"",lizard:"",lock:"",lock_with_ink_pen:"",lollipop:"",loop:"",loud_sound:"",loudspeaker:"",love_hotel:"",love_letter:"",low_brightness:"",lying_face:"",m:"",mag:"",mag_right:"",mahjong:"",mailbox:"",mailbox_closed:"",mailbox_with_mail:"",mailbox_with_no_mail:"",man:"",man_artist:"&zwj;",man_astronaut:"&zwj;",man_cartwheeling:"&zwj;",man_cook:"&zwj;",man_dancing:"",man_facepalming:"&zwj;",man_factory_worker:"&zwj;",man_farmer:"&zwj;",man_firefighter:"&zwj;",man_health_worker:"&zwj;",man_in_tuxedo:"",man_judge:"&zwj;",man_juggling:"&zwj;",man_mechanic:"&zwj;",man_office_worker:"&zwj;",man_pilot:"&zwj;",man_playing_handball:"&zwj;",man_playing_water_polo:"&zwj;",man_scientist:"&zwj;",man_shrugging:"&zwj;",man_singer:"&zwj;",man_student:"&zwj;",man_teacher:"&zwj;",man_technologist:"&zwj;",man_with_gua_pi_mao:"",man_with_turban:"",tangerine:"",mans_shoe:"",mantelpiece_clock:"",maple_leaf:"",martial_arts_uniform:"",mask:"",massage_woman:"",massage_man:"&zwj;",meat_on_bone:"",medal_military:"",medal_sports:"",mega:"",melon:"",memo:"",men_wrestling:"&zwj;",menorah:"",mens:"",metal:"",metro:"",microphone:"",microscope:"",milk_glass:"",milky_way:"",minibus:"",minidisc:"",mobile_phone_off:"",money_mouth_face:"",money_with_wings:"",moneybag:"",monkey:"",monkey_face:"",monorail:"",moon:"",mortar_board:"",mosque:"",motor_boat:"",motor_scooter:"",motorcycle:"",motorway:"",mount_fuji:"",mountain:"",mountain_biking_man:"",mountain_biking_woman:"&zwj;",mountain_cableway:"",mountain_railway:"",mountain_snow:"",mouse:"",mouse2:"",movie_camera:"",moyai:"",mrs_claus:"",muscle:"",mushroom:"",musical_keyboard:"",musical_note:"",musical_score:"",mute:"",nail_care:"",name_badge:"",national_park:"",nauseated_face:"",necktie:"",negative_squared_cross_mark:"",nerd_face:"",neutral_face:"",new:"",new_moon:"",new_moon_with_face:"",newspaper:"",newspaper_roll:"",next_track_button:"",ng:"",no_good_man:"&zwj;",no_good_woman:"",night_with_stars:"",no_bell:"",no_bicycles:"",no_entry:"",no_entry_sign:"",no_mobile_phones:"",no_mouth:"",no_pedestrians:"",no_smoking:"","non-potable_water":"",nose:"",notebook:"",notebook_with_decorative_cover:"",notes:"",nut_and_bolt:"",o:"",o2:"",ocean:"",octopus:"",oden:"",office:"",oil_drum:"",ok:"",ok_hand:"",ok_man:"&zwj;",ok_woman:"",old_key:"",older_man:"",older_woman:"",om:"",on:"",oncoming_automobile:"",oncoming_bus:"",oncoming_police_car:"",oncoming_taxi:"",open_file_folder:"",open_hands:"",open_mouth:"",open_umbrella:"",ophiuchus:"",orange_book:"",orthodox_cross:"",outbox_tray:"",owl:"",ox:"",package:"",page_facing_up:"",page_with_curl:"",pager:"",paintbrush:"",palm_tree:"",pancakes:"",panda_face:"",paperclip:"",paperclips:"",parasol_on_ground:"",parking:"",part_alternation_mark:"",partly_sunny:"",passenger_ship:"",passport_control:"",pause_button:"",peace_symbol:"",peach:"",peanuts:"",pear:"",pen:"",pencil2:"",penguin:"",pensive:"",performing_arts:"",persevere:"",person_fencing:"",pouting_woman:"",phone:"",pick:"",pig:"",pig2:"",pig_nose:"",pill:"",pineapple:"",ping_pong:"",pisces:"",pizza:"",place_of_worship:"",plate_with_cutlery:"",play_or_pause_button:"",point_down:"",point_left:"",point_right:"",point_up:"",point_up_2:"",police_car:"",policewoman:"&zwj;",poodle:"",popcorn:"",post_office:"",postal_horn:"",postbox:"",potable_water:"",potato:"",pouch:"",poultry_leg:"",pound:"",rage:"",pouting_cat:"",pouting_man:"&zwj;",pray:"",prayer_beads:"",pregnant_woman:"",previous_track_button:"",prince:"",princess:"",printer:"",purple_heart:"",purse:"",pushpin:"",put_litter_in_its_place:"",question:"",rabbit:"",rabbit2:"",racehorse:"",racing_car:"",radio:"",radio_button:"",radioactive:"",railway_car:"",railway_track:"",rainbow:"",rainbow_flag:"&zwj;",raised_back_of_hand:"",raised_hand_with_fingers_splayed:"",raised_hands:"",raising_hand_woman:"",raising_hand_man:"&zwj;",ram:"",ramen:"",rat:"",record_button:"",recycle:"",red_circle:"",registered:"",relaxed:"",relieved:"",reminder_ribbon:"",repeat:"",repeat_one:"",rescue_worker_helmet:"",restroom:"",revolving_hearts:"",rewind:"",rhinoceros:"",ribbon:"",rice:"",rice_ball:"",rice_cracker:"",rice_scene:"",right_anger_bubble:"",ring:"",robot:"",rocket:"",rofl:"",roll_eyes:"",roller_coaster:"",rooster:"",rose:"",rosette:"",rotating_light:"",round_pushpin:"",rowing_man:"",rowing_woman:"&zwj;",rugby_football:"",running_man:"",running_shirt_with_sash:"",running_woman:"&zwj;",sa:"",sagittarius:"",sake:"",sandal:"",santa:"",satellite:"",saxophone:"",school:"",school_satchel:"",scissors:"",scorpion:"",scorpius:"",scream:"",scream_cat:"",scroll:"",seat:"",secret:"",see_no_evil:"",seedling:"",selfie:"",shallow_pan_of_food:"",shamrock:"",shark:"",shaved_ice:"",sheep:"",shell:"",shield:"",shinto_shrine:"",ship:"",shirt:"",shopping:"",shopping_cart:"",shower:"",shrimp:"",signal_strength:"",six_pointed_star:"",ski:"",skier:"",skull:"",skull_and_crossbones:"",sleeping:"",sleeping_bed:"",sleepy:"",slightly_frowning_face:"",slightly_smiling_face:"",slot_machine:"",small_airplane:"",small_blue_diamond:"",small_orange_diamond:"",small_red_triangle:"",small_red_triangle_down:"",smile:"",smile_cat:"",smiley:"",smiley_cat:"",smiling_imp:"",smirk:"",smirk_cat:"",smoking:"",snail:"",snake:"",sneezing_face:"",snowboarder:"",snowflake:"",snowman:"",snowman_with_snow:"",sob:"",soccer:"",soon:"",sos:"",sound:"",space_invader:"",spades:"",spaghetti:"",sparkle:"",sparkler:"",sparkles:"",sparkling_heart:"",speak_no_evil:"",speaker:"",speaking_head:"",speech_balloon:"",speedboat:"",spider:"",spider_web:"",spiral_calendar:"",spiral_notepad:"",spoon:"",squid:"",stadium:"",star:"",star2:"",star_and_crescent:"",star_of_david:"",stars:"",station:"",statue_of_liberty:"",steam_locomotive:"",stew:"",stop_button:"",stop_sign:"",stopwatch:"",straight_ruler:"",strawberry:"",stuck_out_tongue:"",stuck_out_tongue_closed_eyes:"",stuck_out_tongue_winking_eye:"",studio_microphone:"",stuffed_flatbread:"",sun_behind_large_cloud:"",sun_behind_rain_cloud:"",sun_behind_small_cloud:"",sun_with_face:"",sunflower:"",sunglasses:"",sunny:"",sunrise:"",sunrise_over_mountains:"",surfing_man:"",surfing_woman:"&zwj;",sushi:"",suspension_railway:"",sweat:"",sweat_drops:"",sweat_smile:"",sweet_potato:"",swimming_man:"",swimming_woman:"&zwj;",symbols:"",synagogue:"",syringe:"",taco:"",tada:"",tanabata_tree:"",taurus:"",taxi:"",tea:"",telephone_receiver:"",telescope:"",tennis:"",tent:"",thermometer:"",thinking:"",thought_balloon:"",ticket:"",tickets:"",tiger:"",tiger2:"",timer_clock:"",tipping_hand_man:"&zwj;",tired_face:"",tm:"",toilet:"",tokyo_tower:"",tomato:"",tongue:"",top:"",tophat:"",tornado:"",trackball:"",tractor:"",traffic_light:"",train:"",train2:"",tram:"",triangular_flag_on_post:"",triangular_ruler:"",trident:"",triumph:"",trolleybus:"",trophy:"",tropical_drink:"",tropical_fish:"",truck:"",trumpet:"",tulip:"",tumbler_glass:"",turkey:"",turtle:"",tv:"",twisted_rightwards_arrows:"",two_hearts:"",two_men_holding_hands:"",two_women_holding_hands:"",u5272:"",u5408:"",u55b6:"",u6307:"",u6708:"",u6709:"",u6e80:"",u7121:"",u7533:"",u7981:"",u7a7a:"",umbrella:"",unamused:"",underage:"",unicorn:"",unlock:"",up:"",upside_down_face:"",v:"",vertical_traffic_light:"",vhs:"",vibration_mode:"",video_camera:"",video_game:"",violin:"",virgo:"",volcano:"",volleyball:"",vs:"",vulcan_salute:"",walking_man:"",walking_woman:"&zwj;",waning_crescent_moon:"",waning_gibbous_moon:"",warning:"",wastebasket:"",watch:"",water_buffalo:"",watermelon:"",wave:"",wavy_dash:"",waxing_crescent_moon:"",wc:"",weary:"",wedding:"",weight_lifting_man:"",weight_lifting_woman:"&zwj;",whale:"",whale2:"",wheel_of_dharma:"",wheelchair:"",white_check_mark:"",white_circle:"",white_flag:"",white_flower:"",white_large_square:"",white_medium_small_square:"",white_medium_square:"",white_small_square:"",white_square_button:"",wilted_flower:"",wind_chime:"",wind_face:"",wine_glass:"",wink:"",wolf:"",woman:"",woman_artist:"&zwj;",woman_astronaut:"&zwj;",woman_cartwheeling:"&zwj;",woman_cook:"&zwj;",woman_facepalming:"&zwj;",woman_factory_worker:"&zwj;",woman_farmer:"&zwj;",woman_firefighter:"&zwj;",woman_health_worker:"&zwj;",woman_judge:"&zwj;",woman_juggling:"&zwj;",woman_mechanic:"&zwj;",woman_office_worker:"&zwj;",woman_pilot:"&zwj;",woman_playing_handball:"&zwj;",woman_playing_water_polo:"&zwj;",woman_scientist:"&zwj;",woman_shrugging:"&zwj;",woman_singer:"&zwj;",woman_student:"&zwj;",woman_teacher:"&zwj;",woman_technologist:"&zwj;",woman_with_turban:"&zwj;",womans_clothes:"",womans_hat:"",women_wrestling:"&zwj;",womens:"",world_map:"",worried:"",wrench:"",writing_hand:"",x:"",yellow_heart:"",yen:"",yin_yang:"",yum:"",zap:"",zipper_mouth_face:"",zzz:"",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},r.Converter=function(u){var p={},h=[],m=[],g={},y=l,v={parsed:{},raw:"",format:""};E();function E(){u=u||{};for(var R in o)o.hasOwnProperty(R)&&(p[R]=o[R]);if(typeof u=="object")for(var j in u)u.hasOwnProperty(j)&&(p[j]=u[j]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof u+" was passed instead.");p.extensions&&r.helper.forEach(p.extensions,P)}function P(R,j){if(j=j||null,r.helper.isString(R))if(R=r.helper.stdExtName(R),j=R,r.extensions[R]){console.warn("DEPRECATION WARNING: "+R+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),T(r.extensions[R],R);return}else if(!r.helper.isUndefined(s[R]))R=s[R];else throw Error('Extension "'+R+'" could not be loaded. It was either not found or is not a valid extension.');typeof R=="function"&&(R=R()),r.helper.isArray(R)||(R=[R]);var K=f(R,j);if(!K.valid)throw Error(K.error);for(var X=0;X<R.length;++X){switch(R[X].type){case"lang":h.push(R[X]);break;case"output":m.push(R[X]);break}if(R[X].hasOwnProperty("listeners"))for(var ce in R[X].listeners)R[X].listeners.hasOwnProperty(ce)&&F(ce,R[X].listeners[ce])}}function T(R,j){typeof R=="function"&&(R=R(new r.Converter)),r.helper.isArray(R)||(R=[R]);var K=f(R,j);if(!K.valid)throw Error(K.error);for(var X=0;X<R.length;++X)switch(R[X].type){case"lang":h.push(R[X]);break;case"output":m.push(R[X]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function F(R,j){if(!r.helper.isString(R))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof R+" given");if(typeof j!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof j+" given");g.hasOwnProperty(R)||(g[R]=[]),g[R].push(j)}function z(R){var j=R.match(/^\s*/)[0].length,K=new RegExp("^\\s{0,"+j+"}","gm");return R.replace(K,"")}this._dispatch=function(j,K,X,ce){if(g.hasOwnProperty(j))for(var x=0;x<g[j].length;++x){var Q=g[j][x](j,K,this,X,ce);Q&&typeof Q<"u"&&(K=Q)}return K},this.listen=function(R,j){return F(R,j),this},this.makeHtml=function(R){if(!R)return R;var j={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:h,outputModifiers:m,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return R=R.replace(//g,"T"),R=R.replace(/\$/g,"D"),R=R.replace(/\r\n/g,`
`),R=R.replace(/\r/g,`
`),R=R.replace(/\u00A0/g,"&nbsp;"),p.smartIndentationFix&&(R=z(R)),R=`

`+R+`

`,R=r.subParser("detab")(R,p,j),R=R.replace(/^[ \t]+$/mg,""),r.helper.forEach(h,function(K){R=r.subParser("runExtension")(K,R,p,j)}),R=r.subParser("metadata")(R,p,j),R=r.subParser("hashPreCodeTags")(R,p,j),R=r.subParser("githubCodeBlocks")(R,p,j),R=r.subParser("hashHTMLBlocks")(R,p,j),R=r.subParser("hashCodeTags")(R,p,j),R=r.subParser("stripLinkDefinitions")(R,p,j),R=r.subParser("blockGamut")(R,p,j),R=r.subParser("unhashHTMLSpans")(R,p,j),R=r.subParser("unescapeSpecialChars")(R,p,j),R=R.replace(/D/g,"$$"),R=R.replace(/T/g,""),R=r.subParser("completeHTMLDocument")(R,p,j),r.helper.forEach(m,function(K){R=r.subParser("runExtension")(K,R,p,j)}),v=j.metadata,R},this.makeMarkdown=this.makeMd=function(R,j){if(R=R.replace(/\r\n/g,`
`),R=R.replace(/\r/g,`
`),R=R.replace(/>[ \t]+</,">NBSP;<"),!j)if(window&&window.document)j=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var K=j.createElement("div");K.innerHTML=R;var X={preList:ae(K)};Y(K);for(var ce=K.childNodes,x="",Q=0;Q<ce.length;Q++)x+=r.subParser("makeMarkdown.node")(ce[Q],X);function Y(se){for(var ve=0;ve<se.childNodes.length;++ve){var _e=se.childNodes[ve];_e.nodeType===3?!/\S/.test(_e.nodeValue)&&!/^[ ]+$/.test(_e.nodeValue)?(se.removeChild(_e),--ve):(_e.nodeValue=_e.nodeValue.split(`
`).join(" "),_e.nodeValue=_e.nodeValue.replace(/(\s)+/g,"$1")):_e.nodeType===1&&Y(_e)}}function ae(se){for(var ve=se.querySelectorAll("pre"),_e=[],q=0;q<ve.length;++q)if(ve[q].childElementCount===1&&ve[q].firstChild.tagName.toLowerCase()==="code"){var B=ve[q].firstChild.innerHTML.trim(),W=ve[q].firstChild.getAttribute("data-language")||"";if(W==="")for(var ee=ve[q].firstChild.className.split(" "),Ie=0;Ie<ee.length;++Ie){var we=ee[Ie].match(/^language-(.+)$/);if(we!==null){W=we[1];break}}B=r.helper.unescapeHTMLEntities(B),_e.push(B),ve[q].outerHTML='<precode language="'+W+'" precodenum="'+q.toString()+'"></precode>'}else _e.push(ve[q].innerHTML),ve[q].innerHTML="",ve[q].setAttribute("prenum",q.toString());return _e}return x},this.setOption=function(R,j){p[R]=j},this.getOption=function(R){return p[R]},this.getOptions=function(){return p},this.addExtension=function(R,j){j=j||null,P(R,j)},this.useExtension=function(R){P(R)},this.setFlavor=function(R){if(!c.hasOwnProperty(R))throw Error(R+" flavor was not found");var j=c[R];y=R;for(var K in j)j.hasOwnProperty(K)&&(p[K]=j[K])},this.getFlavor=function(){return y},this.removeExtension=function(R){r.helper.isArray(R)||(R=[R]);for(var j=0;j<R.length;++j){for(var K=R[j],X=0;X<h.length;++X)h[X]===K&&h.splice(X,1);for(var ce=0;ce<m.length;++ce)m[ce]===K&&m.splice(ce,1)}},this.getAllExtensions=function(){return{language:h,output:m}},this.getMetadata=function(R){return R?v.raw:v.parsed},this.getMetadataFormat=function(){return v.format},this._setMetadataPair=function(R,j){v.parsed[R]=j},this._setMetadataFormat=function(R){v.format=R},this._setMetadataRaw=function(R){v.raw=R}},r.subParser("anchors",function(u,p,h){u=h.converter._dispatch("anchors.before",u,p,h);var m=function(g,y,v,E,P,T,F){if(r.helper.isUndefined(F)&&(F=""),v=v.toLowerCase(),g.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)E="";else if(!E)if(v||(v=y.toLowerCase().replace(/ ?\n/g," ")),E="#"+v,!r.helper.isUndefined(h.gUrls[v]))E=h.gUrls[v],r.helper.isUndefined(h.gTitles[v])||(F=h.gTitles[v]);else return g;E=E.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var z='<a href="'+E+'"';return F!==""&&F!==null&&(F=F.replace(/"/g,"&quot;"),F=F.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),z+=' title="'+F+'"'),p.openLinksInNewWindow&&!/^#/.test(E)&&(z+=' rel="noopener noreferrer" target="E95Eblank"'),z+=">"+y+"</a>",z};return u=u.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,m),u=u.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,m),u=u.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,m),u=u.replace(/\[([^\[\]]+)]()()()()()/g,m),p.ghMentions&&(u=u.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function(g,y,v,E,P){if(v==="\\")return y+E;if(!r.helper.isString(p.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var T=p.ghMentionsLink.replace(/\{u}/g,P),F="";return p.openLinksInNewWindow&&(F=' rel="noopener noreferrer" target="E95Eblank"'),y+'<a href="'+T+'"'+F+">"+E+"</a>"})),u=h.converter._dispatch("anchors.after",u,p,h),u});var A=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,M=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,V=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,N=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,k=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,S=function(u){return function(p,h,m,g,y,v,E){m=m.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var P=m,T="",F="",z=h||"",R=E||"";return/^www\./i.test(m)&&(m=m.replace(/^www\./i,"http://www.")),u.excludeTrailingPunctuationFromURLs&&v&&(T=v),u.openLinksInNewWindow&&(F=' rel="noopener noreferrer" target="E95Eblank"'),z+'<a href="'+m+'"'+F+">"+P+"</a>"+T+R}},b=function(u,p){return function(h,m,g){var y="mailto:";return m=m||"",g=r.subParser("unescapeSpecialChars")(g,u,p),u.encodeEmails?(y=r.helper.encodeEmailAddress(y+g),g=r.helper.encodeEmailAddress(g)):y=y+g,m+'<a href="'+y+'">'+g+"</a>"}};r.subParser("autoLinks",function(u,p,h){return u=h.converter._dispatch("autoLinks.before",u,p,h),u=u.replace(V,S(p)),u=u.replace(k,b(p,h)),u=h.converter._dispatch("autoLinks.after",u,p,h),u}),r.subParser("simplifiedAutoLinks",function(u,p,h){return p.simplifiedAutoLink&&(u=h.converter._dispatch("simplifiedAutoLinks.before",u,p,h),p.excludeTrailingPunctuationFromURLs?u=u.replace(M,S(p)):u=u.replace(A,S(p)),u=u.replace(N,b(p,h)),u=h.converter._dispatch("simplifiedAutoLinks.after",u,p,h)),u}),r.subParser("blockGamut",function(u,p,h){return u=h.converter._dispatch("blockGamut.before",u,p,h),u=r.subParser("blockQuotes")(u,p,h),u=r.subParser("headers")(u,p,h),u=r.subParser("horizontalRule")(u,p,h),u=r.subParser("lists")(u,p,h),u=r.subParser("codeBlocks")(u,p,h),u=r.subParser("tables")(u,p,h),u=r.subParser("hashHTMLBlocks")(u,p,h),u=r.subParser("paragraphs")(u,p,h),u=h.converter._dispatch("blockGamut.after",u,p,h),u}),r.subParser("blockQuotes",function(u,p,h){u=h.converter._dispatch("blockQuotes.before",u,p,h),u=u+`

`;var m=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return p.splitAdjacentBlockquotes&&(m=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),u=u.replace(m,function(g){return g=g.replace(/^[ \t]*>[ \t]?/gm,""),g=g.replace(/0/g,""),g=g.replace(/^[ \t]+$/gm,""),g=r.subParser("githubCodeBlocks")(g,p,h),g=r.subParser("blockGamut")(g,p,h),g=g.replace(/(^|\n)/g,"$1  "),g=g.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(y,v){var E=v;return E=E.replace(/^  /mg,"0"),E=E.replace(/0/g,""),E}),r.subParser("hashBlock")(`<blockquote>
`+g+`
</blockquote>`,p,h)}),u=h.converter._dispatch("blockQuotes.after",u,p,h),u}),r.subParser("codeBlocks",function(u,p,h){u=h.converter._dispatch("codeBlocks.before",u,p,h),u+="0";var m=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=0))/g;return u=u.replace(m,function(g,y,v){var E=y,P=v,T=`
`;return E=r.subParser("outdent")(E,p,h),E=r.subParser("encodeCode")(E,p,h),E=r.subParser("detab")(E,p,h),E=E.replace(/^\n+/g,""),E=E.replace(/\n+$/g,""),p.omitExtraWLInCodeBlocks&&(T=""),E="<pre><code>"+E+T+"</code></pre>",r.subParser("hashBlock")(E,p,h)+P}),u=u.replace(/0/,""),u=h.converter._dispatch("codeBlocks.after",u,p,h),u}),r.subParser("codeSpans",function(u,p,h){return u=h.converter._dispatch("codeSpans.before",u,p,h),typeof u>"u"&&(u=""),u=u.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(m,g,y,v){var E=v;return E=E.replace(/^([ \t]*)/g,""),E=E.replace(/[ \t]*$/g,""),E=r.subParser("encodeCode")(E,p,h),E=g+"<code>"+E+"</code>",E=r.subParser("hashHTMLSpans")(E,p,h),E}),u=h.converter._dispatch("codeSpans.after",u,p,h),u}),r.subParser("completeHTMLDocument",function(u,p,h){if(!p.completeHTMLDocument)return u;u=h.converter._dispatch("completeHTMLDocument.before",u,p,h);var m="html",g=`<!DOCTYPE HTML>
`,y="",v=`<meta charset="utf-8">
`,E="",P="";typeof h.metadata.parsed.doctype<"u"&&(g="<!DOCTYPE "+h.metadata.parsed.doctype+`>
`,m=h.metadata.parsed.doctype.toString().toLowerCase(),(m==="html"||m==="html5")&&(v='<meta charset="utf-8">'));for(var T in h.metadata.parsed)if(h.metadata.parsed.hasOwnProperty(T))switch(T.toLowerCase()){case"doctype":break;case"title":y="<title>"+h.metadata.parsed.title+`</title>
`;break;case"charset":m==="html"||m==="html5"?v='<meta charset="'+h.metadata.parsed.charset+`">
`:v='<meta name="charset" content="'+h.metadata.parsed.charset+`">
`;break;case"language":case"lang":E=' lang="'+h.metadata.parsed[T]+'"',P+='<meta name="'+T+'" content="'+h.metadata.parsed[T]+`">
`;break;default:P+='<meta name="'+T+'" content="'+h.metadata.parsed[T]+`">
`}return u=g+"<html"+E+`>
<head>
`+y+v+P+`</head>
<body>
`+u.trim()+`
</body>
</html>`,u=h.converter._dispatch("completeHTMLDocument.after",u,p,h),u}),r.subParser("detab",function(u,p,h){return u=h.converter._dispatch("detab.before",u,p,h),u=u.replace(/\t(?=\t)/g,"    "),u=u.replace(/\t/g,"AB"),u=u.replace(/B(.+?)A/g,function(m,g){for(var y=g,v=4-y.length%4,E=0;E<v;E++)y+=" ";return y}),u=u.replace(/A/g,"    "),u=u.replace(/B/g,""),u=h.converter._dispatch("detab.after",u,p,h),u}),r.subParser("ellipsis",function(u,p,h){return p.ellipsis&&(u=h.converter._dispatch("ellipsis.before",u,p,h),u=u.replace(/\.\.\./g,""),u=h.converter._dispatch("ellipsis.after",u,p,h)),u}),r.subParser("emoji",function(u,p,h){if(!p.emoji)return u;u=h.converter._dispatch("emoji.before",u,p,h);var m=/:([\S]+?):/g;return u=u.replace(m,function(g,y){return r.helper.emojis.hasOwnProperty(y)?r.helper.emojis[y]:g}),u=h.converter._dispatch("emoji.after",u,p,h),u}),r.subParser("encodeAmpsAndAngles",function(u,p,h){return u=h.converter._dispatch("encodeAmpsAndAngles.before",u,p,h),u=u.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),u=u.replace(/<(?![a-z\/?$!])/gi,"&lt;"),u=u.replace(/</g,"&lt;"),u=u.replace(/>/g,"&gt;"),u=h.converter._dispatch("encodeAmpsAndAngles.after",u,p,h),u}),r.subParser("encodeBackslashEscapes",function(u,p,h){return u=h.converter._dispatch("encodeBackslashEscapes.before",u,p,h),u=u.replace(/\\(\\)/g,r.helper.escapeCharactersCallback),u=u.replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g,r.helper.escapeCharactersCallback),u=h.converter._dispatch("encodeBackslashEscapes.after",u,p,h),u}),r.subParser("encodeCode",function(u,p,h){return u=h.converter._dispatch("encodeCode.before",u,p,h),u=u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,r.helper.escapeCharactersCallback),u=h.converter._dispatch("encodeCode.after",u,p,h),u}),r.subParser("escapeSpecialCharsWithinTagAttributes",function(u,p,h){u=h.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",u,p,h);var m=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,g=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return u=u.replace(m,function(y){return y.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),u=u.replace(g,function(y){return y.replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),u=h.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",u,p,h),u}),r.subParser("githubCodeBlocks",function(u,p,h){return p.ghCodeBlocks?(u=h.converter._dispatch("githubCodeBlocks.before",u,p,h),u+="0",u=u.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(m,g,y,v){var E=p.omitExtraWLInCodeBlocks?"":`
`;return v=r.subParser("encodeCode")(v,p,h),v=r.subParser("detab")(v,p,h),v=v.replace(/^\n+/g,""),v=v.replace(/\n+$/g,""),v="<pre><code"+(y?' class="'+y+" language-"+y+'"':"")+">"+v+E+"</code></pre>",v=r.subParser("hashBlock")(v,p,h),`

G`+(h.ghCodeBlocks.push({text:m,codeblock:v})-1)+`G

`}),u=u.replace(/0/,""),h.converter._dispatch("githubCodeBlocks.after",u,p,h)):u}),r.subParser("hashBlock",function(u,p,h){return u=h.converter._dispatch("hashBlock.before",u,p,h),u=u.replace(/(^\n+|\n+$)/g,""),u=`

K`+(h.gHtmlBlocks.push(u)-1)+`K

`,u=h.converter._dispatch("hashBlock.after",u,p,h),u}),r.subParser("hashCodeTags",function(u,p,h){u=h.converter._dispatch("hashCodeTags.before",u,p,h);var m=function(g,y,v,E){var P=v+r.subParser("encodeCode")(y,p,h)+E;return"C"+(h.gHtmlSpans.push(P)-1)+"C"};return u=r.helper.replaceRecursiveRegExp(u,m,"<code\\b[^>]*>","</code>","gim"),u=h.converter._dispatch("hashCodeTags.after",u,p,h),u}),r.subParser("hashElement",function(u,p,h){return function(m,g){var y=g;return y=y.replace(/\n\n/g,`
`),y=y.replace(/^\n/,""),y=y.replace(/\n+$/g,""),y=`

K`+(h.gHtmlBlocks.push(y)-1)+`K

`,y}}),r.subParser("hashHTMLBlocks",function(u,p,h){u=h.converter._dispatch("hashHTMLBlocks.before",u,p,h);var m=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],g=function(R,j,K,X){var ce=R;return K.search(/\bmarkdown\b/)!==-1&&(ce=K+h.converter.makeHtml(j)+X),`

K`+(h.gHtmlBlocks.push(ce)-1)+`K

`};p.backslashEscapesHTMLTags&&(u=u.replace(/\\<(\/?[^>]+?)>/g,function(R,j){return"&lt;"+j+"&gt;"}));for(var y=0;y<m.length;++y)for(var v,E=new RegExp("^ {0,3}(<"+m[y]+"\\b[^>]*>)","im"),P="<"+m[y]+"\\b[^>]*>",T="</"+m[y]+">";(v=r.helper.regexIndexOf(u,E))!==-1;){var F=r.helper.splitAtIndex(u,v),z=r.helper.replaceRecursiveRegExp(F[1],g,P,T,"im");if(z===F[1])break;u=F[0].concat(z)}return u=u.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(u,p,h)),u=r.helper.replaceRecursiveRegExp(u,function(R){return`

K`+(h.gHtmlBlocks.push(R)-1)+`K

`},"^ {0,3}<!--","-->","gm"),u=u.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(u,p,h)),u=h.converter._dispatch("hashHTMLBlocks.after",u,p,h),u}),r.subParser("hashHTMLSpans",function(u,p,h){u=h.converter._dispatch("hashHTMLSpans.before",u,p,h);function m(g){return"C"+(h.gHtmlSpans.push(g)-1)+"C"}return u=u.replace(/<[^>]+?\/>/gi,function(g){return m(g)}),u=u.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(g){return m(g)}),u=u.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(g){return m(g)}),u=u.replace(/<[^>]+?>/gi,function(g){return m(g)}),u=h.converter._dispatch("hashHTMLSpans.after",u,p,h),u}),r.subParser("unhashHTMLSpans",function(u,p,h){u=h.converter._dispatch("unhashHTMLSpans.before",u,p,h);for(var m=0;m<h.gHtmlSpans.length;++m){for(var g=h.gHtmlSpans[m],y=0;/C(\d+)C/.test(g);){var v=RegExp.$1;if(g=g.replace("C"+v+"C",h.gHtmlSpans[v]),y===10){console.error("maximum nesting of 10 spans reached!!!");break}++y}u=u.replace("C"+m+"C",g)}return u=h.converter._dispatch("unhashHTMLSpans.after",u,p,h),u}),r.subParser("hashPreCodeTags",function(u,p,h){u=h.converter._dispatch("hashPreCodeTags.before",u,p,h);var m=function(g,y,v,E){var P=v+r.subParser("encodeCode")(y,p,h)+E;return`

G`+(h.ghCodeBlocks.push({text:g,codeblock:P})-1)+`G

`};return u=r.helper.replaceRecursiveRegExp(u,m,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),u=h.converter._dispatch("hashPreCodeTags.after",u,p,h),u}),r.subParser("headers",function(u,p,h){u=h.converter._dispatch("headers.before",u,p,h);var m=isNaN(parseInt(p.headerLevelStart))?1:parseInt(p.headerLevelStart),g=p.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,y=p.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;u=u.replace(g,function(P,T){var F=r.subParser("spanGamut")(T,p,h),z=p.noHeaderId?"":' id="'+E(T)+'"',R=m,j="<h"+R+z+">"+F+"</h"+R+">";return r.subParser("hashBlock")(j,p,h)}),u=u.replace(y,function(P,T){var F=r.subParser("spanGamut")(T,p,h),z=p.noHeaderId?"":' id="'+E(T)+'"',R=m+1,j="<h"+R+z+">"+F+"</h"+R+">";return r.subParser("hashBlock")(j,p,h)});var v=p.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;u=u.replace(v,function(P,T,F){var z=F;p.customizedHeaderId&&(z=F.replace(/\s?\{([^{]+?)}\s*$/,""));var R=r.subParser("spanGamut")(z,p,h),j=p.noHeaderId?"":' id="'+E(F)+'"',K=m-1+T.length,X="<h"+K+j+">"+R+"</h"+K+">";return r.subParser("hashBlock")(X,p,h)});function E(P){var T,F;if(p.customizedHeaderId){var z=P.match(/\{([^{]+?)}\s*$/);z&&z[1]&&(P=z[1])}return T=P,r.helper.isString(p.prefixHeaderId)?F=p.prefixHeaderId:p.prefixHeaderId===!0?F="section-":F="",p.rawPrefixHeaderId||(T=F+T),p.ghCompatibleHeaderId?T=T.replace(/ /g,"-").replace(/&amp;/g,"").replace(/T/g,"").replace(/D/g,"").replace(/[&+$,\/:;=?@"#{}|^~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():p.rawHeaderId?T=T.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/T/g,"").replace(/D/g,"$").replace(/["']/g,"-").toLowerCase():T=T.replace(/[^\w]/g,"").toLowerCase(),p.rawPrefixHeaderId&&(T=F+T),h.hashLinkCounts[T]?T=T+"-"+h.hashLinkCounts[T]++:h.hashLinkCounts[T]=1,T}return u=h.converter._dispatch("headers.after",u,p,h),u}),r.subParser("horizontalRule",function(u,p,h){u=h.converter._dispatch("horizontalRule.before",u,p,h);var m=r.subParser("hashBlock")("<hr />",p,h);return u=u.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,m),u=u.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,m),u=u.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,m),u=h.converter._dispatch("horizontalRule.after",u,p,h),u}),r.subParser("images",function(u,p,h){u=h.converter._dispatch("images.before",u,p,h);var m=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,g=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,y=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,v=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,E=/!\[([^\[\]]+)]()()()()()/g;function P(F,z,R,j,K,X,ce,x){return j=j.replace(/\s/g,""),T(F,z,R,j,K,X,ce,x)}function T(F,z,R,j,K,X,ce,x){var Q=h.gUrls,Y=h.gTitles,ae=h.gDimensions;if(R=R.toLowerCase(),x||(x=""),F.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)j="";else if(j===""||j===null)if((R===""||R===null)&&(R=z.toLowerCase().replace(/ ?\n/g," ")),j="#"+R,!r.helper.isUndefined(Q[R]))j=Q[R],r.helper.isUndefined(Y[R])||(x=Y[R]),r.helper.isUndefined(ae[R])||(K=ae[R].width,X=ae[R].height);else return F;z=z.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),j=j.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var se='<img src="'+j+'" alt="'+z+'"';return x&&r.helper.isString(x)&&(x=x.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),se+=' title="'+x+'"'),K&&X&&(K=K==="*"?"auto":K,X=X==="*"?"auto":X,se+=' width="'+K+'"',se+=' height="'+X+'"'),se+=" />",se}return u=u.replace(v,T),u=u.replace(y,P),u=u.replace(g,T),u=u.replace(m,T),u=u.replace(E,T),u=h.converter._dispatch("images.after",u,p,h),u}),r.subParser("italicsAndBold",function(u,p,h){u=h.converter._dispatch("italicsAndBold.before",u,p,h);function m(g,y,v){return y+g+v}return p.literalMidWordUnderscores?(u=u.replace(/\b___(\S[\s\S]*?)___\b/g,function(g,y){return m(y,"<strong><em>","</em></strong>")}),u=u.replace(/\b__(\S[\s\S]*?)__\b/g,function(g,y){return m(y,"<strong>","</strong>")}),u=u.replace(/\b_(\S[\s\S]*?)_\b/g,function(g,y){return m(y,"<em>","</em>")})):(u=u.replace(/___(\S[\s\S]*?)___/g,function(g,y){return/\S$/.test(y)?m(y,"<strong><em>","</em></strong>"):g}),u=u.replace(/__(\S[\s\S]*?)__/g,function(g,y){return/\S$/.test(y)?m(y,"<strong>","</strong>"):g}),u=u.replace(/_([^\s_][\s\S]*?)_/g,function(g,y){return/\S$/.test(y)?m(y,"<em>","</em>"):g})),p.literalMidWordAsterisks?(u=u.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(g,y,v){return m(v,y+"<strong><em>","</em></strong>")}),u=u.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(g,y,v){return m(v,y+"<strong>","</strong>")}),u=u.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(g,y,v){return m(v,y+"<em>","</em>")})):(u=u.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(g,y){return/\S$/.test(y)?m(y,"<strong><em>","</em></strong>"):g}),u=u.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(g,y){return/\S$/.test(y)?m(y,"<strong>","</strong>"):g}),u=u.replace(/\*([^\s*][\s\S]*?)\*/g,function(g,y){return/\S$/.test(y)?m(y,"<em>","</em>"):g})),u=h.converter._dispatch("italicsAndBold.after",u,p,h),u}),r.subParser("lists",function(u,p,h){function m(v,E){h.gListLevel++,v=v.replace(/\n{2,}$/,`
`),v+="0";var P=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,T=/\n[ \t]*\n(?!0)/.test(v);return p.disableForced4SpacesIndentedSublists&&(P=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0|\2([*+-]|\d+[.])[ \t]+))/gm),v=v.replace(P,function(F,z,R,j,K,X,ce){ce=ce&&ce.trim()!=="";var x=r.subParser("outdent")(K,p,h),Q="";return X&&p.tasklists&&(Q=' class="task-list-item" style="list-style-type: none;"',x=x.replace(/^[ \t]*\[(x|X| )?]/m,function(){var Y='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return ce&&(Y+=" checked"),Y+=">",Y})),x=x.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(Y){return"A"+Y}),z||x.search(/\n{2,}/)>-1?(x=r.subParser("githubCodeBlocks")(x,p,h),x=r.subParser("blockGamut")(x,p,h)):(x=r.subParser("lists")(x,p,h),x=x.replace(/\n$/,""),x=r.subParser("hashHTMLBlocks")(x,p,h),x=x.replace(/\n\n+/g,`

`),T?x=r.subParser("paragraphs")(x,p,h):x=r.subParser("spanGamut")(x,p,h)),x=x.replace("A",""),x="<li"+Q+">"+x+`</li>
`,x}),v=v.replace(/0/g,""),h.gListLevel--,E&&(v=v.replace(/\s+$/,"")),v}function g(v,E){if(E==="ol"){var P=v.match(/^ *(\d+)\./);if(P&&P[1]!=="1")return' start="'+P[1]+'"'}return""}function y(v,E,P){var T=p.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,F=p.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,z=E==="ul"?T:F,R="";if(v.search(z)!==-1)(function K(X){var ce=X.search(z),x=g(v,E);ce!==-1?(R+=`

<`+E+x+`>
`+m(X.slice(0,ce),!!P)+"</"+E+`>
`,E=E==="ul"?"ol":"ul",z=E==="ul"?T:F,K(X.slice(ce))):R+=`

<`+E+x+`>
`+m(X,!!P)+"</"+E+`>
`})(v);else{var j=g(v,E);R=`

<`+E+j+`>
`+m(v,!!P)+"</"+E+`>
`}return R}return u=h.converter._dispatch("lists.before",u,p,h),u+="0",h.gListLevel?u=u.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(v,E,P){var T=P.search(/[*+-]/g)>-1?"ul":"ol";return y(E,T,!0)}):u=u.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(v,E,P,T){var F=T.search(/[*+-]/g)>-1?"ul":"ol";return y(P,F,!1)}),u=u.replace(/0/,""),u=h.converter._dispatch("lists.after",u,p,h),u}),r.subParser("metadata",function(u,p,h){if(!p.metadata)return u;u=h.converter._dispatch("metadata.before",u,p,h);function m(g){h.metadata.raw=g,g=g.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),g=g.replace(/\n {4}/g," "),g.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(y,v,E){return h.metadata.parsed[v]=E,""})}return u=u.replace(/^\s*+(\S*?)\n([\s\S]+?)\n+\n/,function(g,y,v){return m(v),"M"}),u=u.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(g,y,v){return y&&(h.metadata.format=y),m(v),"M"}),u=u.replace(/M/g,""),u=h.converter._dispatch("metadata.after",u,p,h),u}),r.subParser("outdent",function(u,p,h){return u=h.converter._dispatch("outdent.before",u,p,h),u=u.replace(/^(\t|[ ]{1,4})/gm,"0"),u=u.replace(/0/g,""),u=h.converter._dispatch("outdent.after",u,p,h),u}),r.subParser("paragraphs",function(u,p,h){u=h.converter._dispatch("paragraphs.before",u,p,h),u=u.replace(/^\n+/g,""),u=u.replace(/\n+$/g,"");for(var m=u.split(/\n{2,}/g),g=[],y=m.length,v=0;v<y;v++){var E=m[v];E.search(/(K|G)(\d+)\1/g)>=0?g.push(E):E.search(/\S/)>=0&&(E=r.subParser("spanGamut")(E,p,h),E=E.replace(/^([ \t]*)/g,"<p>"),E+="</p>",g.push(E))}for(y=g.length,v=0;v<y;v++){for(var P="",T=g[v],F=!1;/(K|G)(\d+)\1/.test(T);){var z=RegExp.$1,R=RegExp.$2;z==="K"?P=h.gHtmlBlocks[R]:F?P=r.subParser("encodeCode")(h.ghCodeBlocks[R].text,p,h):P=h.ghCodeBlocks[R].codeblock,P=P.replace(/\$/g,"$$$$"),T=T.replace(/(\n\n)?(K|G)\d+\2(\n\n)?/,P),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(T)&&(F=!0)}g[v]=T}return u=g.join(`
`),u=u.replace(/^\n+/g,""),u=u.replace(/\n+$/g,""),h.converter._dispatch("paragraphs.after",u,p,h)}),r.subParser("runExtension",function(u,p,h,m){if(u.filter)p=u.filter(p,m.converter,h);else if(u.regex){var g=u.regex;g instanceof RegExp||(g=new RegExp(g,"g")),p=p.replace(g,u.replace)}return p}),r.subParser("spanGamut",function(u,p,h){return u=h.converter._dispatch("spanGamut.before",u,p,h),u=r.subParser("codeSpans")(u,p,h),u=r.subParser("escapeSpecialCharsWithinTagAttributes")(u,p,h),u=r.subParser("encodeBackslashEscapes")(u,p,h),u=r.subParser("images")(u,p,h),u=r.subParser("anchors")(u,p,h),u=r.subParser("autoLinks")(u,p,h),u=r.subParser("simplifiedAutoLinks")(u,p,h),u=r.subParser("emoji")(u,p,h),u=r.subParser("underline")(u,p,h),u=r.subParser("italicsAndBold")(u,p,h),u=r.subParser("strikethrough")(u,p,h),u=r.subParser("ellipsis")(u,p,h),u=r.subParser("hashHTMLSpans")(u,p,h),u=r.subParser("encodeAmpsAndAngles")(u,p,h),p.simpleLineBreaks?/\n\nK/.test(u)||(u=u.replace(/\n+/g,`<br />
`)):u=u.replace(/  +\n/g,`<br />
`),u=h.converter._dispatch("spanGamut.after",u,p,h),u}),r.subParser("strikethrough",function(u,p,h){function m(g){return p.simplifiedAutoLink&&(g=r.subParser("simplifiedAutoLinks")(g,p,h)),"<del>"+g+"</del>"}return p.strikethrough&&(u=h.converter._dispatch("strikethrough.before",u,p,h),u=u.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(g,y){return m(y)}),u=h.converter._dispatch("strikethrough.after",u,p,h)),u}),r.subParser("stripLinkDefinitions",function(u,p,h){var m=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=0))/gm,g=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=0)|(?=\n\[))/gm;u+="0";var y=function(v,E,P,T,F,z,R){return E=E.toLowerCase(),u.toLowerCase().split(E).length-1<2?v:(P.match(/^data:.+?\/.+?;base64,/)?h.gUrls[E]=P.replace(/\s/g,""):h.gUrls[E]=r.subParser("encodeAmpsAndAngles")(P,p,h),z?z+R:(R&&(h.gTitles[E]=R.replace(/"|'/g,"&quot;")),p.parseImgDimensions&&T&&F&&(h.gDimensions[E]={width:T,height:F}),""))};return u=u.replace(g,y),u=u.replace(m,y),u=u.replace(/0/,""),u}),r.subParser("tables",function(u,p,h){if(!p.tables)return u;var m=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|0)/gm,g=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|0)/gm;function y(F){return/^:[ \t]*--*$/.test(F)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(F)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(F)?' style="text-align:center;"':""}function v(F,z){var R="";return F=F.trim(),(p.tablesHeaderId||p.tableHeaderId)&&(R=' id="'+F.replace(/ /g,"_").toLowerCase()+'"'),F=r.subParser("spanGamut")(F,p,h),"<th"+R+z+">"+F+`</th>
`}function E(F,z){var R=r.subParser("spanGamut")(F,p,h);return"<td"+z+">"+R+`</td>
`}function P(F,z){for(var R=`<table>
<thead>
<tr>
`,j=F.length,K=0;K<j;++K)R+=F[K];for(R+=`</tr>
</thead>
<tbody>
`,K=0;K<z.length;++K){R+=`<tr>
`;for(var X=0;X<j;++X)R+=z[K][X];R+=`</tr>
`}return R+=`</tbody>
</table>
`,R}function T(F){var z,R=F.split(`
`);for(z=0;z<R.length;++z)/^ {0,3}\|/.test(R[z])&&(R[z]=R[z].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(R[z])&&(R[z]=R[z].replace(/\|[ \t]*$/,"")),R[z]=r.subParser("codeSpans")(R[z],p,h);var j=R[0].split("|").map(function(se){return se.trim()}),K=R[1].split("|").map(function(se){return se.trim()}),X=[],ce=[],x=[],Q=[];for(R.shift(),R.shift(),z=0;z<R.length;++z)R[z].trim()!==""&&X.push(R[z].split("|").map(function(se){return se.trim()}));if(j.length<K.length)return F;for(z=0;z<K.length;++z)x.push(y(K[z]));for(z=0;z<j.length;++z)r.helper.isUndefined(x[z])&&(x[z]=""),ce.push(v(j[z],x[z]));for(z=0;z<X.length;++z){for(var Y=[],ae=0;ae<ce.length;++ae)r.helper.isUndefined(X[z][ae]),Y.push(E(X[z][ae],x[ae]));Q.push(Y)}return P(ce,Q)}return u=h.converter._dispatch("tables.before",u,p,h),u=u.replace(/\\(\|)/g,r.helper.escapeCharactersCallback),u=u.replace(m,T),u=u.replace(g,T),u=h.converter._dispatch("tables.after",u,p,h),u}),r.subParser("underline",function(u,p,h){return p.underline&&(u=h.converter._dispatch("underline.before",u,p,h),p.literalMidWordUnderscores?(u=u.replace(/\b___(\S[\s\S]*?)___\b/g,function(m,g){return"<u>"+g+"</u>"}),u=u.replace(/\b__(\S[\s\S]*?)__\b/g,function(m,g){return"<u>"+g+"</u>"})):(u=u.replace(/___(\S[\s\S]*?)___/g,function(m,g){return/\S$/.test(g)?"<u>"+g+"</u>":m}),u=u.replace(/__(\S[\s\S]*?)__/g,function(m,g){return/\S$/.test(g)?"<u>"+g+"</u>":m})),u=u.replace(/(_)/g,r.helper.escapeCharactersCallback),u=h.converter._dispatch("underline.after",u,p,h)),u}),r.subParser("unescapeSpecialChars",function(u,p,h){return u=h.converter._dispatch("unescapeSpecialChars.before",u,p,h),u=u.replace(/E(\d+)E/g,function(m,g){var y=parseInt(g);return String.fromCharCode(y)}),u=h.converter._dispatch("unescapeSpecialChars.after",u,p,h),u}),r.subParser("makeMarkdown.blockquote",function(u,p){var h="";if(u.hasChildNodes())for(var m=u.childNodes,g=m.length,y=0;y<g;++y){var v=r.subParser("makeMarkdown.node")(m[y],p);v!==""&&(h+=v)}return h=h.trim(),h="> "+h.split(`
`).join(`
> `),h}),r.subParser("makeMarkdown.codeBlock",function(u,p){var h=u.getAttribute("language"),m=u.getAttribute("precodenum");return"```"+h+`
`+p.preList[m]+"\n```"}),r.subParser("makeMarkdown.codeSpan",function(u){return"`"+u.innerHTML+"`"}),r.subParser("makeMarkdown.emphasis",function(u,p){var h="";if(u.hasChildNodes()){h+="*";for(var m=u.childNodes,g=m.length,y=0;y<g;++y)h+=r.subParser("makeMarkdown.node")(m[y],p);h+="*"}return h}),r.subParser("makeMarkdown.header",function(u,p,h){var m=new Array(h+1).join("#"),g="";if(u.hasChildNodes()){g=m+" ";for(var y=u.childNodes,v=y.length,E=0;E<v;++E)g+=r.subParser("makeMarkdown.node")(y[E],p)}return g}),r.subParser("makeMarkdown.hr",function(){return"---"}),r.subParser("makeMarkdown.image",function(u){var p="";return u.hasAttribute("src")&&(p+="!["+u.getAttribute("alt")+"](",p+="<"+u.getAttribute("src")+">",u.hasAttribute("width")&&u.hasAttribute("height")&&(p+=" ="+u.getAttribute("width")+"x"+u.getAttribute("height")),u.hasAttribute("title")&&(p+=' "'+u.getAttribute("title")+'"'),p+=")"),p}),r.subParser("makeMarkdown.links",function(u,p){var h="";if(u.hasChildNodes()&&u.hasAttribute("href")){var m=u.childNodes,g=m.length;h="[";for(var y=0;y<g;++y)h+=r.subParser("makeMarkdown.node")(m[y],p);h+="](",h+="<"+u.getAttribute("href")+">",u.hasAttribute("title")&&(h+=' "'+u.getAttribute("title")+'"'),h+=")"}return h}),r.subParser("makeMarkdown.list",function(u,p,h){var m="";if(!u.hasChildNodes())return"";for(var g=u.childNodes,y=g.length,v=u.getAttribute("start")||1,E=0;E<y;++E)if(!(typeof g[E].tagName>"u"||g[E].tagName.toLowerCase()!=="li")){var P="";h==="ol"?P=v.toString()+". ":P="- ",m+=P+r.subParser("makeMarkdown.listItem")(g[E],p),++v}return m+=`
<!-- -->
`,m.trim()}),r.subParser("makeMarkdown.listItem",function(u,p){for(var h="",m=u.childNodes,g=m.length,y=0;y<g;++y)h+=r.subParser("makeMarkdown.node")(m[y],p);return/\n$/.test(h)?h=h.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):h+=`
`,h}),r.subParser("makeMarkdown.node",function(u,p,h){h=h||!1;var m="";if(u.nodeType===3)return r.subParser("makeMarkdown.txt")(u,p);if(u.nodeType===8)return"<!--"+u.data+`-->

`;if(u.nodeType!==1)return"";var g=u.tagName.toLowerCase();switch(g){case"h1":h||(m=r.subParser("makeMarkdown.header")(u,p,1)+`

`);break;case"h2":h||(m=r.subParser("makeMarkdown.header")(u,p,2)+`

`);break;case"h3":h||(m=r.subParser("makeMarkdown.header")(u,p,3)+`

`);break;case"h4":h||(m=r.subParser("makeMarkdown.header")(u,p,4)+`

`);break;case"h5":h||(m=r.subParser("makeMarkdown.header")(u,p,5)+`

`);break;case"h6":h||(m=r.subParser("makeMarkdown.header")(u,p,6)+`

`);break;case"p":h||(m=r.subParser("makeMarkdown.paragraph")(u,p)+`

`);break;case"blockquote":h||(m=r.subParser("makeMarkdown.blockquote")(u,p)+`

`);break;case"hr":h||(m=r.subParser("makeMarkdown.hr")(u,p)+`

`);break;case"ol":h||(m=r.subParser("makeMarkdown.list")(u,p,"ol")+`

`);break;case"ul":h||(m=r.subParser("makeMarkdown.list")(u,p,"ul")+`

`);break;case"precode":h||(m=r.subParser("makeMarkdown.codeBlock")(u,p)+`

`);break;case"pre":h||(m=r.subParser("makeMarkdown.pre")(u,p)+`

`);break;case"table":h||(m=r.subParser("makeMarkdown.table")(u,p)+`

`);break;case"code":m=r.subParser("makeMarkdown.codeSpan")(u,p);break;case"em":case"i":m=r.subParser("makeMarkdown.emphasis")(u,p);break;case"strong":case"b":m=r.subParser("makeMarkdown.strong")(u,p);break;case"del":m=r.subParser("makeMarkdown.strikethrough")(u,p);break;case"a":m=r.subParser("makeMarkdown.links")(u,p);break;case"img":m=r.subParser("makeMarkdown.image")(u,p);break;default:m=u.outerHTML+`

`}return m}),r.subParser("makeMarkdown.paragraph",function(u,p){var h="";if(u.hasChildNodes())for(var m=u.childNodes,g=m.length,y=0;y<g;++y)h+=r.subParser("makeMarkdown.node")(m[y],p);return h=h.trim(),h}),r.subParser("makeMarkdown.pre",function(u,p){var h=u.getAttribute("prenum");return"<pre>"+p.preList[h]+"</pre>"}),r.subParser("makeMarkdown.strikethrough",function(u,p){var h="";if(u.hasChildNodes()){h+="~~";for(var m=u.childNodes,g=m.length,y=0;y<g;++y)h+=r.subParser("makeMarkdown.node")(m[y],p);h+="~~"}return h}),r.subParser("makeMarkdown.strong",function(u,p){var h="";if(u.hasChildNodes()){h+="**";for(var m=u.childNodes,g=m.length,y=0;y<g;++y)h+=r.subParser("makeMarkdown.node")(m[y],p);h+="**"}return h}),r.subParser("makeMarkdown.table",function(u,p){var h="",m=[[],[]],g=u.querySelectorAll("thead>tr>th"),y=u.querySelectorAll("tbody>tr"),v,E;for(v=0;v<g.length;++v){var P=r.subParser("makeMarkdown.tableCell")(g[v],p),T="---";if(g[v].hasAttribute("style")){var F=g[v].getAttribute("style").toLowerCase().replace(/\s/g,"");switch(F){case"text-align:left;":T=":---";break;case"text-align:right;":T="---:";break;case"text-align:center;":T=":---:";break}}m[0][v]=P.trim(),m[1][v]=T}for(v=0;v<y.length;++v){var z=m.push([])-1,R=y[v].getElementsByTagName("td");for(E=0;E<g.length;++E){var j=" ";typeof R[E]<"u"&&(j=r.subParser("makeMarkdown.tableCell")(R[E],p)),m[z].push(j)}}var K=3;for(v=0;v<m.length;++v)for(E=0;E<m[v].length;++E){var X=m[v][E].length;X>K&&(K=X)}for(v=0;v<m.length;++v){for(E=0;E<m[v].length;++E)v===1?m[v][E].slice(-1)===":"?m[v][E]=r.helper.padEnd(m[v][E].slice(-1),K-1,"-")+":":m[v][E]=r.helper.padEnd(m[v][E],K,"-"):m[v][E]=r.helper.padEnd(m[v][E],K);h+="| "+m[v].join(" | ")+` |
`}return h.trim()}),r.subParser("makeMarkdown.tableCell",function(u,p){var h="";if(!u.hasChildNodes())return"";for(var m=u.childNodes,g=m.length,y=0;y<g;++y)h+=r.subParser("makeMarkdown.node")(m[y],p,!0);return h.trim()}),r.subParser("makeMarkdown.txt",function(u){var p=u.nodeValue;return p=p.replace(/ +/g," "),p=p.replace(/NBSP;/g," "),p=r.helper.unescapeHTMLEntities(p),p=p.replace(/([*_~|`])/g,"\\$1"),p=p.replace(/^(\s*)>/g,"\\$1>"),p=p.replace(/^#/gm,"\\#"),p=p.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),p=p.replace(/^( {0,3}\d+)\./gm,"$1\\."),p=p.replace(/^( {0,3})([+-])/gm,"$1\\$2"),p=p.replace(/]([\s]*)\(/g,"\\]$1\\("),p=p.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),p});var D=this;t.exports?t.exports=r:D.showdown=r}).call(ue)})(Ey);var qE=Ey.exports;const WE=ro(qE);function GE({tempNoteText:t,setTempNoteText:e}){const[n,r]=Gt.useState("write"),i=new WE.Converter({tables:!0,simplifiedAutoLink:!0,strikethrough:!0,tasklists:!0});return xe.jsx("section",{className:"pane editor",children:xe.jsx(HE,{value:t,onChange:e,selectedTab:n,onTabChange:r,generateMarkdownPreview:s=>Promise.resolve(i.makeHtml(s)),minEditorHeight:80,heightUnits:"vh"})})}var Ty={exports:{}},KE="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",QE=KE,YE=QE;function Sy(){}function Iy(){}Iy.resetWarningCache=Sy;var XE=function(){function t(r,i,s,o,l,c){if(c!==YE){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Iy,resetWarningCache:Sy};return n.PropTypes=n,n};Ty.exports=XE();var JE=Ty.exports;const ye=ro(JE);var Ct=typeof window<"u"?window:null,lf=Ct===null,Qs=lf?void 0:Ct.document,jt="addEventListener",zt="removeEventListener",ql="getBoundingClientRect",as="_a",Bt="_b",cn="_c",Zo="horizontal",Ut=function(){return!1},ZE=lf?"calc":["","-webkit-","-moz-","-o-"].filter(function(t){var e=Qs.createElement("div");return e.style.cssText="width:"+t+"calc(9px)",!!e.style.length}).shift()+"calc",ky=function(t){return typeof t=="string"||t instanceof String},gm=function(t){if(ky(t)){var e=Qs.querySelector(t);if(!e)throw new Error("Selector "+t+" did not match a DOM element");return e}return t},rt=function(t,e,n){var r=t[e];return r!==void 0?r:n},ea=function(t,e,n,r){if(e){if(r==="end")return 0;if(r==="center")return t/2}else if(n){if(r==="start")return 0;if(r==="center")return t/2}return t},e8=function(t,e){var n=Qs.createElement("div");return n.className="gutter gutter-"+e,n},t8=function(t,e,n){var r={};return ky(e)?r[t]=e:r[t]=ZE+"("+e+"% - "+n+"px)",r},n8=function(t,e){var n;return n={},n[t]=e+"px",n},_m=function(t,e){if(e===void 0&&(e={}),lf)return{};var n=t,r,i,s,o,l,c;Array.from&&(n=Array.from(n));var f=gm(n[0]),w=f.parentNode,C=getComputedStyle?getComputedStyle(w):null,A=C?C.flexDirection:null,M=rt(e,"sizes")||n.map(function(){return 100/n.length}),V=rt(e,"minSize",100),N=Array.isArray(V)?V:n.map(function(){return V}),k=rt(e,"maxSize",1/0),S=Array.isArray(k)?k:n.map(function(){return k}),b=rt(e,"expandToMin",!1),D=rt(e,"gutterSize",10),u=rt(e,"gutterAlign","center"),p=rt(e,"snapOffset",30),h=Array.isArray(p)?p:n.map(function(){return p}),m=rt(e,"dragInterval",1),g=rt(e,"direction",Zo),y=rt(e,"cursor",g===Zo?"col-resize":"row-resize"),v=rt(e,"gutter",e8),E=rt(e,"elementStyle",t8),P=rt(e,"gutterStyle",n8);g===Zo?(r="width",i="clientX",s="left",o="right",l="clientWidth"):g==="vertical"&&(r="height",i="clientY",s="top",o="bottom",l="clientHeight");function T(q,B,W,ee){var Ie=E(r,B,W,ee);Object.keys(Ie).forEach(function(we){q.style[we]=Ie[we]})}function F(q,B,W){var ee=P(r,B,W);Object.keys(ee).forEach(function(Ie){q.style[Ie]=ee[Ie]})}function z(){return c.map(function(q){return q.size})}function R(q){return"touches"in q?q.touches[0][i]:q[i]}function j(q){var B=c[this.a],W=c[this.b],ee=B.size+W.size;B.size=q/this.size*ee,W.size=ee-q/this.size*ee,T(B.element,B.size,this[Bt],B.i),T(W.element,W.size,this[cn],W.i)}function K(q){var B,W=c[this.a],ee=c[this.b];this.dragging&&(B=R(q)-this.start+(this[Bt]-this.dragOffset),m>1&&(B=Math.round(B/m)*m),B<=W.minSize+W.snapOffset+this[Bt]?B=W.minSize+this[Bt]:B>=this.size-(ee.minSize+ee.snapOffset+this[cn])&&(B=this.size-(ee.minSize+this[cn])),B>=W.maxSize-W.snapOffset+this[Bt]?B=W.maxSize+this[Bt]:B<=this.size-(ee.maxSize-ee.snapOffset+this[cn])&&(B=this.size-(ee.maxSize+this[cn])),j.call(this,B),rt(e,"onDrag",Ut)(z()))}function X(){var q=c[this.a].element,B=c[this.b].element,W=q[ql](),ee=B[ql]();this.size=W[r]+ee[r]+this[Bt]+this[cn],this.start=W[s],this.end=W[o]}function ce(q){if(!getComputedStyle)return null;var B=getComputedStyle(q);if(!B)return null;var W=q[l];return W===0?null:(g===Zo?W-=parseFloat(B.paddingLeft)+parseFloat(B.paddingRight):W-=parseFloat(B.paddingTop)+parseFloat(B.paddingBottom),W)}function x(q){var B=ce(w);if(B===null||N.reduce(function(we,We){return we+We},0)>B)return q;var W=0,ee=[],Ie=q.map(function(we,We){var Lt=B*we/100,nr=ea(D,We===0,We===q.length-1,u),Or=N[We]+nr;return Lt<Or?(W+=Or-Lt,ee.push(0),Or):(ee.push(Lt-Or),Lt)});return W===0?q:Ie.map(function(we,We){var Lt=we;if(W>0&&ee[We]-W>0){var nr=Math.min(W,ee[We]-W);W-=nr,Lt=we-nr}return Lt/B*100})}function Q(){var q=this,B=c[q.a].element,W=c[q.b].element;q.dragging&&rt(e,"onDragEnd",Ut)(z()),q.dragging=!1,Ct[zt]("mouseup",q.stop),Ct[zt]("touchend",q.stop),Ct[zt]("touchcancel",q.stop),Ct[zt]("mousemove",q.move),Ct[zt]("touchmove",q.move),q.stop=null,q.move=null,B[zt]("selectstart",Ut),B[zt]("dragstart",Ut),W[zt]("selectstart",Ut),W[zt]("dragstart",Ut),B.style.userSelect="",B.style.webkitUserSelect="",B.style.MozUserSelect="",B.style.pointerEvents="",W.style.userSelect="",W.style.webkitUserSelect="",W.style.MozUserSelect="",W.style.pointerEvents="",q.gutter.style.cursor="",q.parent.style.cursor="",Qs.body.style.cursor=""}function Y(q){if(!("button"in q&&q.button!==0)){var B=this,W=c[B.a].element,ee=c[B.b].element;B.dragging||rt(e,"onDragStart",Ut)(z()),q.preventDefault(),B.dragging=!0,B.move=K.bind(B),B.stop=Q.bind(B),Ct[jt]("mouseup",B.stop),Ct[jt]("touchend",B.stop),Ct[jt]("touchcancel",B.stop),Ct[jt]("mousemove",B.move),Ct[jt]("touchmove",B.move),W[jt]("selectstart",Ut),W[jt]("dragstart",Ut),ee[jt]("selectstart",Ut),ee[jt]("dragstart",Ut),W.style.userSelect="none",W.style.webkitUserSelect="none",W.style.MozUserSelect="none",W.style.pointerEvents="none",ee.style.userSelect="none",ee.style.webkitUserSelect="none",ee.style.MozUserSelect="none",ee.style.pointerEvents="none",B.gutter.style.cursor=y,B.parent.style.cursor=y,Qs.body.style.cursor=y,X.call(B),B.dragOffset=R(q)-B.end}}M=x(M);var ae=[];c=n.map(function(q,B){var W={element:gm(q),size:M[B],minSize:N[B],maxSize:S[B],snapOffset:h[B],i:B},ee;if(B>0&&(ee={a:B-1,b:B,dragging:!1,direction:g,parent:w},ee[Bt]=ea(D,B-1===0,!1,u),ee[cn]=ea(D,!1,B===n.length-1,u),A==="row-reverse"||A==="column-reverse")){var Ie=ee.a;ee.a=ee.b,ee.b=Ie}if(B>0){var we=v(B,g,W.element);F(we,D,B),ee[as]=Y.bind(ee),we[jt]("mousedown",ee[as]),we[jt]("touchstart",ee[as]),w.insertBefore(we,W.element),ee.gutter=we}return T(W.element,W.size,ea(D,B===0,B===n.length-1,u),B),B>0&&ae.push(ee),W});function se(q){var B=q.i===ae.length,W=B?ae[q.i-1]:ae[q.i];X.call(W);var ee=B?W.size-q.minSize-W[cn]:q.minSize+W[Bt];j.call(W,ee)}c.forEach(function(q){var B=q.element[ql]()[r];B<q.minSize&&(b?se(q):q.minSize=B)});function ve(q){var B=x(q);B.forEach(function(W,ee){if(ee>0){var Ie=ae[ee-1],we=c[Ie.a],We=c[Ie.b];we.size=B[ee-1],We.size=W,T(we.element,we.size,Ie[Bt],we.i),T(We.element,We.size,Ie[cn],We.i)}})}function _e(q,B){ae.forEach(function(W){if(B!==!0?W.parent.removeChild(W.gutter):(W.gutter[zt]("mousedown",W[as]),W.gutter[zt]("touchstart",W[as])),q!==!0){var ee=E(r,W.a.size,W[Bt]);Object.keys(ee).forEach(function(Ie){c[W.a].element.style[Ie]="",c[W.b].element.style[Ie]=""})}})}return{setSizes:ve,getSizes:z,collapse:function(B){se(c[B])},destroy:_e,parent:w,pairs:ae}};function Wl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)===-1&&(n[r]=t[r]);return n}var cf=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.componentDidMount=function(){var r=this.props;r.children;var i=r.gutter,s=Wl(r,["children","gutter"]),o=s;o.gutter=function(l,c){var f;return i?f=i(l,c):(f=document.createElement("div"),f.className="gutter gutter-"+c),f.__isSplitGutter=!0,f},this.split=_m(this.parent.children,o)},e.prototype.componentDidUpdate=function(r){var i=this,s=this.props;s.children;var o=s.minSize,l=s.sizes,c=s.collapsed,f=Wl(s,["children","minSize","sizes","collapsed"]),w=f,C=r.minSize,A=r.sizes,M=r.collapsed,V=["maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor"],N=V.map(function(b){return i.props[b]!==r[b]}).reduce(function(b,D){return b||D},!1);if(Array.isArray(o)&&Array.isArray(C)){var k=!1;o.forEach(function(b,D){k=k||b!==C[D]}),N=N||k}else Array.isArray(o)||Array.isArray(C)?N=!0:N=N||o!==C;if(N)w.minSize=o,w.sizes=l||this.split.getSizes(),this.split.destroy(!0,!0),w.gutter=function(b,D,u){return u.previousSibling},this.split=_m(Array.from(this.parent.children).filter(function(b){return!b.__isSplitGutter}),w);else if(l){var S=!1;l.forEach(function(b,D){S=S||b!==A[D]}),S&&this.split.setSizes(this.props.sizes)}Number.isInteger(c)&&(c!==M||N)&&this.split.collapse(c)},e.prototype.componentWillUnmount=function(){this.split.destroy(),delete this.split},e.prototype.render=function(){var r=this,i=this.props;i.sizes,i.minSize,i.maxSize,i.expandToMin,i.gutterSize,i.gutterAlign,i.snapOffset,i.dragInterval,i.direction,i.cursor,i.gutter,i.elementStyle,i.gutterStyle,i.onDrag,i.onDragStart,i.onDragEnd,i.collapsed;var s=i.children,o=Wl(i,["sizes","minSize","maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor","gutter","elementStyle","gutterStyle","onDrag","onDragStart","onDragEnd","collapsed","children"]),l=o;return Gt.createElement("div",Object.assign({},{ref:function(c){r.parent=c}},l),s)},e}(Gt.Component);cf.propTypes={sizes:ye.arrayOf(ye.number),minSize:ye.oneOfType([ye.number,ye.arrayOf(ye.number)]),maxSize:ye.oneOfType([ye.number,ye.arrayOf(ye.number)]),expandToMin:ye.bool,gutterSize:ye.number,gutterAlign:ye.string,snapOffset:ye.oneOfType([ye.number,ye.arrayOf(ye.number)]),dragInterval:ye.number,direction:ye.string,cursor:ye.string,gutter:ye.func,elementStyle:ye.func,gutterStyle:ye.func,onDrag:ye.func,onDragStart:ye.func,onDragEnd:ye.func,collapsed:ye.number,children:ye.arrayOf(ye.element)};cf.defaultProps={sizes:void 0,minSize:void 0,maxSize:void 0,expandToMin:void 0,gutterSize:void 0,gutterAlign:void 0,snapOffset:void 0,dragInterval:void 0,direction:void 0,cursor:void 0,gutter:void 0,elementStyle:void 0,gutterStyle:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0,collapsed:void 0,children:void 0};var ym={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},r8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Cy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,w=s>>2,C=(s&3)<<4|l>>4;let A=(l&15)<<2|f>>6,M=f&63;c||(M=64,o||(A=64)),r.push(n[w],n[C],n[A],n[M])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ay(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):r8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const C=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||f==null||C==null)throw new i8;const A=s<<2|l>>4;if(r.push(A),f!==64){const M=l<<4&240|f>>2;if(r.push(M),C!==64){const V=f<<6&192|C;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class i8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s8=function(t){const e=Ay(t);return Cy.encodeByteArray(e,!0)},Ha=function(t){return s8(t).replace(/\./g,"")},o8=function(t){try{return Cy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u8=()=>a8().__FIREBASE_DEFAULTS__,l8=()=>{if(typeof process>"u"||typeof ym>"u")return;const t=ym.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},c8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&o8(t[1]);return e&&JSON.parse(e)},df=()=>{try{return u8()||l8()||c8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},d8=t=>{var e,n;return(n=(e=df())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},f8=t=>{const e=d8(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},by=()=>{var t;return(t=df())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ha(JSON.stringify(n)),Ha(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m8(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function g8(){var t;const e=(t=df())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function y8(){return!g8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Py(){try{return typeof indexedDB=="object"}catch{return!1}}function Ry(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function v8(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8="FirebaseError";class tr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=w8,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ou.prototype.create)}}class Ou{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?E8(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new tr(i,l,r)}}function E8(t,e){return t.replace(T8,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const T8=/\{\$([^}]+)}/g;function qa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(vm(s)&&vm(o)){if(!qa(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function vm(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8=1e3,I8=2,k8=4*60*60*1e3,A8=.5;function wm(t,e=S8,n=I8){const r=e*Math.pow(n,t),i=Math.round(A8*r*(Math.random()-.5)*2);return Math.min(k8,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t){return t&&t._delegate?t._delegate:t}class _n{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new h8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P8(e))try{this.getOrInitializeService({instanceIdentifier:lr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=lr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=lr){return this.instances.has(e)}getOptions(e=lr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:b8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=lr){return this.component?this.component.multipleInstances?e:lr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function b8(t){return t===lr?void 0:t}function P8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new C8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(he||(he={}));const D8={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},N8=he.INFO,M8={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},V8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=M8[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ff{constructor(e){this.name=e,this._logLevel=N8,this._logHandler=V8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?D8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}const O8=(t,e)=>e.some(n=>t instanceof n);let Em,Tm;function L8(){return Em||(Em=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function x8(){return Tm||(Tm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dy=new WeakMap,Hc=new WeakMap,Ny=new WeakMap,Gl=new WeakMap,hf=new WeakMap;function F8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(jn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Dy.set(n,t)}).catch(()=>{}),hf.set(e,t),e}function j8(t){if(Hc.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Hc.set(t,e)}let qc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ny.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function z8(t){qc=t(qc)}function B8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Kl(this),e,...n);return Ny.set(r,e.sort?e.sort():[e]),jn(r)}:x8().includes(t)?function(...e){return t.apply(Kl(this),e),jn(Dy.get(this))}:function(...e){return jn(t.apply(Kl(this),e))}}function U8(t){return typeof t=="function"?B8(t):(t instanceof IDBTransaction&&j8(t),O8(t,L8())?new Proxy(t,qc):t)}function jn(t){if(t instanceof IDBRequest)return F8(t);if(Gl.has(t))return Gl.get(t);const e=U8(t);return e!==t&&(Gl.set(t,e),hf.set(e,t)),e}const Kl=t=>hf.get(t);function My(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=jn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(jn(o.result),c.oldVersion,c.newVersion,jn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const $8=["get","getKey","getAll","getAllKeys","count"],H8=["put","add","delete","clear"],Ql=new Map;function Sm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ql.get(e))return Ql.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=H8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$8.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&c.done]))[0]};return Ql.set(e,s),s}z8(t=>({...t,get:(e,n,r)=>Sm(e,n)||t.get(e,n,r),has:(e,n)=>!!Sm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(W8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function W8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wc="@firebase/app",Im="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=new ff("@firebase/app"),G8="@firebase/app-compat",K8="@firebase/analytics-compat",Q8="@firebase/analytics",Y8="@firebase/app-check-compat",X8="@firebase/app-check",J8="@firebase/auth",Z8="@firebase/auth-compat",e2="@firebase/database",t2="@firebase/database-compat",n2="@firebase/functions",r2="@firebase/functions-compat",i2="@firebase/installations",s2="@firebase/installations-compat",o2="@firebase/messaging",a2="@firebase/messaging-compat",u2="@firebase/performance",l2="@firebase/performance-compat",c2="@firebase/remote-config",d2="@firebase/remote-config-compat",f2="@firebase/storage",h2="@firebase/storage-compat",p2="@firebase/firestore",m2="@firebase/vertexai-preview",g2="@firebase/firestore-compat",_2="firebase",y2="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc="[DEFAULT]",v2={[Wc]:"fire-core",[G8]:"fire-core-compat",[Q8]:"fire-analytics",[K8]:"fire-analytics-compat",[X8]:"fire-app-check",[Y8]:"fire-app-check-compat",[J8]:"fire-auth",[Z8]:"fire-auth-compat",[e2]:"fire-rtdb",[t2]:"fire-rtdb-compat",[n2]:"fire-fn",[r2]:"fire-fn-compat",[i2]:"fire-iid",[s2]:"fire-iid-compat",[o2]:"fire-fcm",[a2]:"fire-fcm-compat",[u2]:"fire-perf",[l2]:"fire-perf-compat",[c2]:"fire-rc",[d2]:"fire-rc-compat",[f2]:"fire-gcs",[h2]:"fire-gcs-compat",[p2]:"fire-fst",[g2]:"fire-fst-compat",[m2]:"fire-vertex","fire-js":"fire-js",[_2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=new Map,w2=new Map,Kc=new Map;function km(t,e){try{t.container.addComponent(e)}catch(n){Sr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qn(t){const e=t.name;if(Kc.has(e))return Sr.debug(`There were multiple attempts to register component ${e}.`),!1;Kc.set(e,t);for(const n of Wa.values())km(n,t);for(const n of w2.values())km(n,t);return!0}function _o(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zn=new Ou("app","Firebase",E2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _n("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=y2;function Vy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Gc,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw zn.create("bad-app-name",{appName:String(i)});if(n||(n=by()),!n)throw zn.create("no-options");const s=Wa.get(i);if(s){if(qa(n,s.options)&&qa(r,s.config))return s;throw zn.create("duplicate-app",{appName:i})}const o=new R8(i);for(const c of Kc.values())o.addComponent(c);const l=new T2(n,r,o);return Wa.set(i,l),l}function Oy(t=Gc){const e=Wa.get(t);if(!e&&t===Gc&&by())return Vy();if(!e)throw zn.create("no-app",{appName:t});return e}function en(t,e,n){var r;let i=(r=v2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sr.warn(l.join(" "));return}Qn(new _n(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="firebase-heartbeat-database",k2=1,Ys="firebase-heartbeat-store";let Yl=null;function Ly(){return Yl||(Yl=My(I2,k2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ys)}catch(n){console.warn(n)}}}}).catch(t=>{throw zn.create("idb-open",{originalErrorMessage:t.message})})),Yl}async function A2(t){try{const n=(await Ly()).transaction(Ys),r=await n.objectStore(Ys).get(xy(t));return await n.done,r}catch(e){if(e instanceof tr)Sr.warn(e.message);else{const n=zn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Sr.warn(n.message)}}}async function Am(t,e){try{const r=(await Ly()).transaction(Ys,"readwrite");await r.objectStore(Ys).put(e,xy(t)),await r.done}catch(n){if(n instanceof tr)Sr.warn(n.message);else{const r=zn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Sr.warn(r.message)}}}function xy(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=1024,b2=30*24*60*60*1e3;class P2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new D2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Cm();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=b2}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Cm(),{heartbeatsToSend:r,unsentEntries:i}=R2(this._heartbeatsCache.heartbeats),s=Ha(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Cm(){return new Date().toISOString().substring(0,10)}function R2(t,e=C2){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),bm(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),bm(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class D2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Py()?Ry().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await A2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Am(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Am(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function bm(t){return Ha(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(t){Qn(new _n("platform-logger",e=>new q8(e),"PRIVATE")),Qn(new _n("heartbeat",e=>new P2(e),"PRIVATE")),en(Wc,Im,t),en(Wc,Im,"esm2017"),en("fire-js","")}N2("");var Pm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yr,Fy;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(m,g){function y(){}y.prototype=g.prototype,m.D=g.prototype,m.prototype=new y,m.prototype.constructor=m,m.C=function(v,E,P){for(var T=Array(arguments.length-2),F=2;F<arguments.length;F++)T[F-2]=arguments[F];return g.prototype[E].apply(v,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(m,g,y){y||(y=0);var v=Array(16);if(typeof g=="string")for(var E=0;16>E;++E)v[E]=g.charCodeAt(y++)|g.charCodeAt(y++)<<8|g.charCodeAt(y++)<<16|g.charCodeAt(y++)<<24;else for(E=0;16>E;++E)v[E]=g[y++]|g[y++]<<8|g[y++]<<16|g[y++]<<24;g=m.g[0],y=m.g[1],E=m.g[2];var P=m.g[3],T=g+(P^y&(E^P))+v[0]+3614090360&4294967295;g=y+(T<<7&4294967295|T>>>25),T=P+(E^g&(y^E))+v[1]+3905402710&4294967295,P=g+(T<<12&4294967295|T>>>20),T=E+(y^P&(g^y))+v[2]+606105819&4294967295,E=P+(T<<17&4294967295|T>>>15),T=y+(g^E&(P^g))+v[3]+3250441966&4294967295,y=E+(T<<22&4294967295|T>>>10),T=g+(P^y&(E^P))+v[4]+4118548399&4294967295,g=y+(T<<7&4294967295|T>>>25),T=P+(E^g&(y^E))+v[5]+1200080426&4294967295,P=g+(T<<12&4294967295|T>>>20),T=E+(y^P&(g^y))+v[6]+2821735955&4294967295,E=P+(T<<17&4294967295|T>>>15),T=y+(g^E&(P^g))+v[7]+4249261313&4294967295,y=E+(T<<22&4294967295|T>>>10),T=g+(P^y&(E^P))+v[8]+1770035416&4294967295,g=y+(T<<7&4294967295|T>>>25),T=P+(E^g&(y^E))+v[9]+2336552879&4294967295,P=g+(T<<12&4294967295|T>>>20),T=E+(y^P&(g^y))+v[10]+4294925233&4294967295,E=P+(T<<17&4294967295|T>>>15),T=y+(g^E&(P^g))+v[11]+2304563134&4294967295,y=E+(T<<22&4294967295|T>>>10),T=g+(P^y&(E^P))+v[12]+1804603682&4294967295,g=y+(T<<7&4294967295|T>>>25),T=P+(E^g&(y^E))+v[13]+4254626195&4294967295,P=g+(T<<12&4294967295|T>>>20),T=E+(y^P&(g^y))+v[14]+2792965006&4294967295,E=P+(T<<17&4294967295|T>>>15),T=y+(g^E&(P^g))+v[15]+1236535329&4294967295,y=E+(T<<22&4294967295|T>>>10),T=g+(E^P&(y^E))+v[1]+4129170786&4294967295,g=y+(T<<5&4294967295|T>>>27),T=P+(y^E&(g^y))+v[6]+3225465664&4294967295,P=g+(T<<9&4294967295|T>>>23),T=E+(g^y&(P^g))+v[11]+643717713&4294967295,E=P+(T<<14&4294967295|T>>>18),T=y+(P^g&(E^P))+v[0]+3921069994&4294967295,y=E+(T<<20&4294967295|T>>>12),T=g+(E^P&(y^E))+v[5]+3593408605&4294967295,g=y+(T<<5&4294967295|T>>>27),T=P+(y^E&(g^y))+v[10]+38016083&4294967295,P=g+(T<<9&4294967295|T>>>23),T=E+(g^y&(P^g))+v[15]+3634488961&4294967295,E=P+(T<<14&4294967295|T>>>18),T=y+(P^g&(E^P))+v[4]+3889429448&4294967295,y=E+(T<<20&4294967295|T>>>12),T=g+(E^P&(y^E))+v[9]+568446438&4294967295,g=y+(T<<5&4294967295|T>>>27),T=P+(y^E&(g^y))+v[14]+3275163606&4294967295,P=g+(T<<9&4294967295|T>>>23),T=E+(g^y&(P^g))+v[3]+4107603335&4294967295,E=P+(T<<14&4294967295|T>>>18),T=y+(P^g&(E^P))+v[8]+1163531501&4294967295,y=E+(T<<20&4294967295|T>>>12),T=g+(E^P&(y^E))+v[13]+2850285829&4294967295,g=y+(T<<5&4294967295|T>>>27),T=P+(y^E&(g^y))+v[2]+4243563512&4294967295,P=g+(T<<9&4294967295|T>>>23),T=E+(g^y&(P^g))+v[7]+1735328473&4294967295,E=P+(T<<14&4294967295|T>>>18),T=y+(P^g&(E^P))+v[12]+2368359562&4294967295,y=E+(T<<20&4294967295|T>>>12),T=g+(y^E^P)+v[5]+4294588738&4294967295,g=y+(T<<4&4294967295|T>>>28),T=P+(g^y^E)+v[8]+2272392833&4294967295,P=g+(T<<11&4294967295|T>>>21),T=E+(P^g^y)+v[11]+1839030562&4294967295,E=P+(T<<16&4294967295|T>>>16),T=y+(E^P^g)+v[14]+4259657740&4294967295,y=E+(T<<23&4294967295|T>>>9),T=g+(y^E^P)+v[1]+2763975236&4294967295,g=y+(T<<4&4294967295|T>>>28),T=P+(g^y^E)+v[4]+1272893353&4294967295,P=g+(T<<11&4294967295|T>>>21),T=E+(P^g^y)+v[7]+4139469664&4294967295,E=P+(T<<16&4294967295|T>>>16),T=y+(E^P^g)+v[10]+3200236656&4294967295,y=E+(T<<23&4294967295|T>>>9),T=g+(y^E^P)+v[13]+681279174&4294967295,g=y+(T<<4&4294967295|T>>>28),T=P+(g^y^E)+v[0]+3936430074&4294967295,P=g+(T<<11&4294967295|T>>>21),T=E+(P^g^y)+v[3]+3572445317&4294967295,E=P+(T<<16&4294967295|T>>>16),T=y+(E^P^g)+v[6]+76029189&4294967295,y=E+(T<<23&4294967295|T>>>9),T=g+(y^E^P)+v[9]+3654602809&4294967295,g=y+(T<<4&4294967295|T>>>28),T=P+(g^y^E)+v[12]+3873151461&4294967295,P=g+(T<<11&4294967295|T>>>21),T=E+(P^g^y)+v[15]+530742520&4294967295,E=P+(T<<16&4294967295|T>>>16),T=y+(E^P^g)+v[2]+3299628645&4294967295,y=E+(T<<23&4294967295|T>>>9),T=g+(E^(y|~P))+v[0]+4096336452&4294967295,g=y+(T<<6&4294967295|T>>>26),T=P+(y^(g|~E))+v[7]+1126891415&4294967295,P=g+(T<<10&4294967295|T>>>22),T=E+(g^(P|~y))+v[14]+2878612391&4294967295,E=P+(T<<15&4294967295|T>>>17),T=y+(P^(E|~g))+v[5]+4237533241&4294967295,y=E+(T<<21&4294967295|T>>>11),T=g+(E^(y|~P))+v[12]+1700485571&4294967295,g=y+(T<<6&4294967295|T>>>26),T=P+(y^(g|~E))+v[3]+2399980690&4294967295,P=g+(T<<10&4294967295|T>>>22),T=E+(g^(P|~y))+v[10]+4293915773&4294967295,E=P+(T<<15&4294967295|T>>>17),T=y+(P^(E|~g))+v[1]+2240044497&4294967295,y=E+(T<<21&4294967295|T>>>11),T=g+(E^(y|~P))+v[8]+1873313359&4294967295,g=y+(T<<6&4294967295|T>>>26),T=P+(y^(g|~E))+v[15]+4264355552&4294967295,P=g+(T<<10&4294967295|T>>>22),T=E+(g^(P|~y))+v[6]+2734768916&4294967295,E=P+(T<<15&4294967295|T>>>17),T=y+(P^(E|~g))+v[13]+1309151649&4294967295,y=E+(T<<21&4294967295|T>>>11),T=g+(E^(y|~P))+v[4]+4149444226&4294967295,g=y+(T<<6&4294967295|T>>>26),T=P+(y^(g|~E))+v[11]+3174756917&4294967295,P=g+(T<<10&4294967295|T>>>22),T=E+(g^(P|~y))+v[2]+718787259&4294967295,E=P+(T<<15&4294967295|T>>>17),T=y+(P^(E|~g))+v[9]+3951481745&4294967295,m.g[0]=m.g[0]+g&4294967295,m.g[1]=m.g[1]+(E+(T<<21&4294967295|T>>>11))&4294967295,m.g[2]=m.g[2]+E&4294967295,m.g[3]=m.g[3]+P&4294967295}r.prototype.u=function(m,g){g===void 0&&(g=m.length);for(var y=g-this.blockSize,v=this.B,E=this.h,P=0;P<g;){if(E==0)for(;P<=y;)i(this,m,P),P+=this.blockSize;if(typeof m=="string"){for(;P<g;)if(v[E++]=m.charCodeAt(P++),E==this.blockSize){i(this,v),E=0;break}}else for(;P<g;)if(v[E++]=m[P++],E==this.blockSize){i(this,v),E=0;break}}this.h=E,this.o+=g},r.prototype.v=function(){var m=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);m[0]=128;for(var g=1;g<m.length-8;++g)m[g]=0;var y=8*this.o;for(g=m.length-8;g<m.length;++g)m[g]=y&255,y/=256;for(this.u(m),m=Array(16),g=y=0;4>g;++g)for(var v=0;32>v;v+=8)m[y++]=this.g[g]>>>v&255;return m};function s(m,g){var y=l;return Object.prototype.hasOwnProperty.call(y,m)?y[m]:y[m]=g(m)}function o(m,g){this.h=g;for(var y=[],v=!0,E=m.length-1;0<=E;E--){var P=m[E]|0;v&&P==g||(y[E]=P,v=!1)}this.g=y}var l={};function c(m){return-128<=m&&128>m?s(m,function(g){return new o([g|0],0>g?-1:0)}):new o([m|0],0>m?-1:0)}function f(m){if(isNaN(m)||!isFinite(m))return C;if(0>m)return k(f(-m));for(var g=[],y=1,v=0;m>=y;v++)g[v]=m/y|0,y*=4294967296;return new o(g,0)}function w(m,g){if(m.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(m.charAt(0)=="-")return k(w(m.substring(1),g));if(0<=m.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=f(Math.pow(g,8)),v=C,E=0;E<m.length;E+=8){var P=Math.min(8,m.length-E),T=parseInt(m.substring(E,E+P),g);8>P?(P=f(Math.pow(g,P)),v=v.j(P).add(f(T))):(v=v.j(y),v=v.add(f(T)))}return v}var C=c(0),A=c(1),M=c(16777216);t=o.prototype,t.m=function(){if(N(this))return-k(this).m();for(var m=0,g=1,y=0;y<this.g.length;y++){var v=this.i(y);m+=(0<=v?v:4294967296+v)*g,g*=4294967296}return m},t.toString=function(m){if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(V(this))return"0";if(N(this))return"-"+k(this).toString(m);for(var g=f(Math.pow(m,6)),y=this,v="";;){var E=u(y,g).g;y=S(y,E.j(g));var P=((0<y.g.length?y.g[0]:y.h)>>>0).toString(m);if(y=E,V(y))return P+v;for(;6>P.length;)P="0"+P;v=P+v}},t.i=function(m){return 0>m?0:m<this.g.length?this.g[m]:this.h};function V(m){if(m.h!=0)return!1;for(var g=0;g<m.g.length;g++)if(m.g[g]!=0)return!1;return!0}function N(m){return m.h==-1}t.l=function(m){return m=S(this,m),N(m)?-1:V(m)?0:1};function k(m){for(var g=m.g.length,y=[],v=0;v<g;v++)y[v]=~m.g[v];return new o(y,~m.h).add(A)}t.abs=function(){return N(this)?k(this):this},t.add=function(m){for(var g=Math.max(this.g.length,m.g.length),y=[],v=0,E=0;E<=g;E++){var P=v+(this.i(E)&65535)+(m.i(E)&65535),T=(P>>>16)+(this.i(E)>>>16)+(m.i(E)>>>16);v=T>>>16,P&=65535,T&=65535,y[E]=T<<16|P}return new o(y,y[y.length-1]&-2147483648?-1:0)};function S(m,g){return m.add(k(g))}t.j=function(m){if(V(this)||V(m))return C;if(N(this))return N(m)?k(this).j(k(m)):k(k(this).j(m));if(N(m))return k(this.j(k(m)));if(0>this.l(M)&&0>m.l(M))return f(this.m()*m.m());for(var g=this.g.length+m.g.length,y=[],v=0;v<2*g;v++)y[v]=0;for(v=0;v<this.g.length;v++)for(var E=0;E<m.g.length;E++){var P=this.i(v)>>>16,T=this.i(v)&65535,F=m.i(E)>>>16,z=m.i(E)&65535;y[2*v+2*E]+=T*z,b(y,2*v+2*E),y[2*v+2*E+1]+=P*z,b(y,2*v+2*E+1),y[2*v+2*E+1]+=T*F,b(y,2*v+2*E+1),y[2*v+2*E+2]+=P*F,b(y,2*v+2*E+2)}for(v=0;v<g;v++)y[v]=y[2*v+1]<<16|y[2*v];for(v=g;v<2*g;v++)y[v]=0;return new o(y,0)};function b(m,g){for(;(m[g]&65535)!=m[g];)m[g+1]+=m[g]>>>16,m[g]&=65535,g++}function D(m,g){this.g=m,this.h=g}function u(m,g){if(V(g))throw Error("division by zero");if(V(m))return new D(C,C);if(N(m))return g=u(k(m),g),new D(k(g.g),k(g.h));if(N(g))return g=u(m,k(g)),new D(k(g.g),g.h);if(30<m.g.length){if(N(m)||N(g))throw Error("slowDivide_ only works with positive integers.");for(var y=A,v=g;0>=v.l(m);)y=p(y),v=p(v);var E=h(y,1),P=h(v,1);for(v=h(v,2),y=h(y,2);!V(v);){var T=P.add(v);0>=T.l(m)&&(E=E.add(y),P=T),v=h(v,1),y=h(y,1)}return g=S(m,E.j(g)),new D(E,g)}for(E=C;0<=m.l(g);){for(y=Math.max(1,Math.floor(m.m()/g.m())),v=Math.ceil(Math.log(y)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),P=f(y),T=P.j(g);N(T)||0<T.l(m);)y-=v,P=f(y),T=P.j(g);V(P)&&(P=A),E=E.add(P),m=S(m,T)}return new D(E,m)}t.A=function(m){return u(this,m).h},t.and=function(m){for(var g=Math.max(this.g.length,m.g.length),y=[],v=0;v<g;v++)y[v]=this.i(v)&m.i(v);return new o(y,this.h&m.h)},t.or=function(m){for(var g=Math.max(this.g.length,m.g.length),y=[],v=0;v<g;v++)y[v]=this.i(v)|m.i(v);return new o(y,this.h|m.h)},t.xor=function(m){for(var g=Math.max(this.g.length,m.g.length),y=[],v=0;v<g;v++)y[v]=this.i(v)^m.i(v);return new o(y,this.h^m.h)};function p(m){for(var g=m.g.length+1,y=[],v=0;v<g;v++)y[v]=m.i(v)<<1|m.i(v-1)>>>31;return new o(y,m.h)}function h(m,g){var y=g>>5;g%=32;for(var v=m.g.length-y,E=[],P=0;P<v;P++)E[P]=0<g?m.i(P+y)>>>g|m.i(P+y+1)<<32-g:m.i(P+y);return new o(E,m.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Fy=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=w,yr=o}).apply(typeof Pm<"u"?Pm:typeof self<"u"?self:typeof window<"u"?window:{});var ta=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jy,zy,ps,By,ga,Qc,Uy,$y,Hy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,_){return a==Array.prototype||a==Object.prototype||(a[d]=_.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof ta=="object"&&ta];for(var d=0;d<a.length;++d){var _=a[d];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var _=r;a=a.split(".");for(var I=0;I<a.length-1;I++){var O=a[I];if(!(O in _))break e;_=_[O]}a=a[a.length-1],I=_[a],d=d(I),d!=I&&d!=null&&e(_,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var _=0,I=!1,O={next:function(){if(!I&&_<a.length){var L=_++;return{value:d(L,a[L]),done:!1}}return I=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function f(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function w(a,d,_){return a.call.apply(a.bind,arguments)}function C(a,d,_){if(!a)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,I),a.apply(d,O)}}return function(){return a.apply(d,arguments)}}function A(a,d,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:C,A.apply(null,arguments)}function M(a,d){var _=Array.prototype.slice.call(arguments,1);return function(){var I=_.slice();return I.push.apply(I,arguments),a.apply(this,I)}}function V(a,d){function _(){}_.prototype=d.prototype,a.aa=d.prototype,a.prototype=new _,a.prototype.constructor=a,a.Qb=function(I,O,L){for(var G=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)G[Ee-2]=arguments[Ee];return d.prototype[O].apply(I,G)}}function N(a){const d=a.length;if(0<d){const _=Array(d);for(let I=0;I<d;I++)_[I]=a[I];return _}return[]}function k(a,d){for(let _=1;_<arguments.length;_++){const I=arguments[_];if(c(I)){const O=a.length||0,L=I.length||0;a.length=O+L;for(let G=0;G<L;G++)a[O+G]=I[G]}else a.push(I)}}class S{constructor(d,_){this.i=d,this.j=_,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function b(a){return/^[\s\xa0]*$/.test(a)}function D(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function u(a){return u[" "](a),a}u[" "]=function(){};var p=D().indexOf("Gecko")!=-1&&!(D().toLowerCase().indexOf("webkit")!=-1&&D().indexOf("Edge")==-1)&&!(D().indexOf("Trident")!=-1||D().indexOf("MSIE")!=-1)&&D().indexOf("Edge")==-1;function h(a,d,_){for(const I in a)d.call(_,a[I],I,a)}function m(a,d){for(const _ in a)d.call(void 0,a[_],_,a)}function g(a){const d={};for(const _ in a)d[_]=a[_];return d}const y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(a,d){let _,I;for(let O=1;O<arguments.length;O++){I=arguments[O];for(_ in I)a[_]=I[_];for(let L=0;L<y.length;L++)_=y[L],Object.prototype.hasOwnProperty.call(I,_)&&(a[_]=I[_])}}function E(a){var d=1;a=a.split(":");const _=[];for(;0<d&&a.length;)_.push(a.shift()),d--;return a.length&&_.push(a.join(":")),_}function P(a){l.setTimeout(()=>{throw a},0)}function T(){var a=X;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class F{constructor(){this.h=this.g=null}add(d,_){const I=z.get();I.set(d,_),this.h?this.h.next=I:this.g=I,this.h=I}}var z=new S(()=>new R,a=>a.reset());class R{constructor(){this.next=this.g=this.h=null}set(d,_){this.h=d,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let j,K=!1,X=new F,ce=()=>{const a=l.Promise.resolve(void 0);j=()=>{a.then(x)}};var x=()=>{for(var a;a=T();){try{a.h.call(a.g)}catch(_){P(_)}var d=z;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}K=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const _=()=>{};l.addEventListener("test",_,d),l.removeEventListener("test",_,d)}catch{}return a}();function se(a,d){if(Y.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var _=this.type=a.type,I=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(p){e:{try{u(d.nodeName);var O=!0;break e}catch{}O=!1}O||(d=null)}}else _=="mouseover"?d=a.fromElement:_=="mouseout"&&(d=a.toElement);this.relatedTarget=d,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:ve[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&se.aa.h.call(this)}}V(se,Y);var ve={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var _e="closure_listenable_"+(1e6*Math.random()|0),q=0;function B(a,d,_,I,O){this.listener=a,this.proxy=null,this.src=d,this.type=_,this.capture=!!I,this.ha=O,this.key=++q,this.da=this.fa=!1}function W(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ee(a){this.src=a,this.g={},this.h=0}ee.prototype.add=function(a,d,_,I,O){var L=a.toString();a=this.g[L],a||(a=this.g[L]=[],this.h++);var G=we(a,d,I,O);return-1<G?(d=a[G],_||(d.fa=!1)):(d=new B(d,this.src,L,!!I,O),d.fa=_,a.push(d)),d};function Ie(a,d){var _=d.type;if(_ in a.g){var I=a.g[_],O=Array.prototype.indexOf.call(I,d,void 0),L;(L=0<=O)&&Array.prototype.splice.call(I,O,1),L&&(W(d),a.g[_].length==0&&(delete a.g[_],a.h--))}}function we(a,d,_,I){for(var O=0;O<a.length;++O){var L=a[O];if(!L.da&&L.listener==d&&L.capture==!!_&&L.ha==I)return O}return-1}var We="closure_lm_"+(1e6*Math.random()|0),Lt={};function nr(a,d,_,I,O){if(Array.isArray(d)){for(var L=0;L<d.length;L++)nr(a,d[L],_,I,O);return null}return _=Qf(_),a&&a[_e]?a.K(d,_,f(I)?!!I.capture:!!I,O):Or(a,d,_,!1,I,O)}function Or(a,d,_,I,O,L){if(!d)throw Error("Invalid event type");var G=f(O)?!!O.capture:!!O,Ee=Xu(a);if(Ee||(a[We]=Ee=new ee(a)),_=Ee.add(d,_,I,G,L),_.proxy)return _;if(I=D0(),_.proxy=I,I.src=a,I.listener=_,a.addEventListener)ae||(O=G),O===void 0&&(O=!1),a.addEventListener(d.toString(),I,O);else if(a.attachEvent)a.attachEvent(Kf(d.toString()),I);else if(a.addListener&&a.removeListener)a.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return _}function D0(){function a(_){return d.call(a.src,a.listener,_)}const d=N0;return a}function Gf(a,d,_,I,O){if(Array.isArray(d))for(var L=0;L<d.length;L++)Gf(a,d[L],_,I,O);else I=f(I)?!!I.capture:!!I,_=Qf(_),a&&a[_e]?(a=a.i,d=String(d).toString(),d in a.g&&(L=a.g[d],_=we(L,_,I,O),-1<_&&(W(L[_]),Array.prototype.splice.call(L,_,1),L.length==0&&(delete a.g[d],a.h--)))):a&&(a=Xu(a))&&(d=a.g[d.toString()],a=-1,d&&(a=we(d,_,I,O)),(_=-1<a?d[a]:null)&&Yu(_))}function Yu(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[_e])Ie(d.i,a);else{var _=a.type,I=a.proxy;d.removeEventListener?d.removeEventListener(_,I,a.capture):d.detachEvent?d.detachEvent(Kf(_),I):d.addListener&&d.removeListener&&d.removeListener(I),(_=Xu(d))?(Ie(_,a),_.h==0&&(_.src=null,d[We]=null)):W(a)}}}function Kf(a){return a in Lt?Lt[a]:Lt[a]="on"+a}function N0(a,d){if(a.da)a=!0;else{d=new se(d,this);var _=a.listener,I=a.ha||a.src;a.fa&&Yu(a),a=_.call(I,d)}return a}function Xu(a){return a=a[We],a instanceof ee?a:null}var Ju="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qf(a){return typeof a=="function"?a:(a[Ju]||(a[Ju]=function(d){return a.handleEvent(d)}),a[Ju])}function et(){Q.call(this),this.i=new ee(this),this.M=this,this.F=null}V(et,Q),et.prototype[_e]=!0,et.prototype.removeEventListener=function(a,d,_,I){Gf(this,a,d,_,I)};function ft(a,d){var _,I=a.F;if(I)for(_=[];I;I=I.F)_.push(I);if(a=a.M,I=d.type||d,typeof d=="string")d=new Y(d,a);else if(d instanceof Y)d.target=d.target||a;else{var O=d;d=new Y(I,a),v(d,O)}if(O=!0,_)for(var L=_.length-1;0<=L;L--){var G=d.g=_[L];O=Io(G,I,!0,d)&&O}if(G=d.g=a,O=Io(G,I,!0,d)&&O,O=Io(G,I,!1,d)&&O,_)for(L=0;L<_.length;L++)G=d.g=_[L],O=Io(G,I,!1,d)&&O}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var _=a.g[d],I=0;I<_.length;I++)W(_[I]);delete a.g[d],a.h--}}this.F=null},et.prototype.K=function(a,d,_,I){return this.i.add(String(a),d,!1,_,I)},et.prototype.L=function(a,d,_,I){return this.i.add(String(a),d,!0,_,I)};function Io(a,d,_,I){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var O=!0,L=0;L<d.length;++L){var G=d[L];if(G&&!G.da&&G.capture==_){var Ee=G.listener,Ge=G.ha||G.src;G.fa&&Ie(a.i,G),O=Ee.call(Ge,I)!==!1&&O}}return O&&!I.defaultPrevented}function Yf(a,d,_){if(typeof a=="function")_&&(a=A(a,_));else if(a&&typeof a.handleEvent=="function")a=A(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(a,d||0)}function Xf(a){a.g=Yf(()=>{a.g=null,a.i&&(a.i=!1,Xf(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class M0 extends Q{constructor(d,_){super(),this.m=d,this.l=_,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Xf(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vi(a){Q.call(this),this.h=a,this.g={}}V(Vi,Q);var Jf=[];function Zf(a){h(a.g,function(d,_){this.g.hasOwnProperty(_)&&Yu(d)},a),a.g={}}Vi.prototype.N=function(){Vi.aa.N.call(this),Zf(this)},Vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zu=l.JSON.stringify,V0=l.JSON.parse,O0=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function el(){}el.prototype.h=null;function eh(a){return a.h||(a.h=a.i())}function th(){}var Oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tl(){Y.call(this,"d")}V(tl,Y);function nl(){Y.call(this,"c")}V(nl,Y);var rr={},nh=null;function ko(){return nh=nh||new et}rr.La="serverreachability";function rh(a){Y.call(this,rr.La,a)}V(rh,Y);function Li(a){const d=ko();ft(d,new rh(d))}rr.STAT_EVENT="statevent";function ih(a,d){Y.call(this,rr.STAT_EVENT,a),this.stat=d}V(ih,Y);function ht(a){const d=ko();ft(d,new ih(d,a))}rr.Ma="timingevent";function sh(a,d){Y.call(this,rr.Ma,a),this.size=d}V(sh,Y);function xi(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},d)}function Fi(){this.g=!0}Fi.prototype.xa=function(){this.g=!1};function L0(a,d,_,I,O,L){a.info(function(){if(a.g)if(L)for(var G="",Ee=L.split("&"),Ge=0;Ge<Ee.length;Ge++){var me=Ee[Ge].split("=");if(1<me.length){var tt=me[0];me=me[1];var nt=tt.split("_");G=2<=nt.length&&nt[1]=="type"?G+(tt+"="+me+"&"):G+(tt+"=redacted&")}}else G=null;else G=L;return"XMLHTTP REQ ("+I+") [attempt "+O+"]: "+d+`
`+_+`
`+G})}function x0(a,d,_,I,O,L,G){a.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+O+"]: "+d+`
`+_+`
`+L+" "+G})}function Lr(a,d,_,I){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+j0(a,_)+(I?" "+I:"")})}function F0(a,d){a.info(function(){return"TIMEOUT: "+d})}Fi.prototype.info=function(){};function j0(a,d){if(!a.g)return d;if(!d)return null;try{var _=JSON.parse(d);if(_){for(a=0;a<_.length;a++)if(Array.isArray(_[a])){var I=_[a];if(!(2>I.length)){var O=I[1];if(Array.isArray(O)&&!(1>O.length)){var L=O[0];if(L!="noop"&&L!="stop"&&L!="close")for(var G=1;G<O.length;G++)O[G]=""}}}}return Zu(_)}catch{return d}}var Ao={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rl;function Co(){}V(Co,el),Co.prototype.g=function(){return new XMLHttpRequest},Co.prototype.i=function(){return{}},rl=new Co;function Tn(a,d,_,I){this.j=a,this.i=d,this.l=_,this.R=I||1,this.U=new Vi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ah}function ah(){this.i=null,this.g="",this.h=!1}var uh={},il={};function sl(a,d,_){a.L=1,a.v=Do(an(d)),a.m=_,a.P=!0,lh(a,null)}function lh(a,d){a.F=Date.now(),bo(a),a.A=an(a.v);var _=a.A,I=a.R;Array.isArray(I)||(I=[String(I)]),Sh(_.i,"t",I),a.C=0,_=a.j.J,a.h=new ah,a.g=Bh(a.j,_?d:null,!a.m),0<a.O&&(a.M=new M0(A(a.Y,a,a.g),a.O)),d=a.U,_=a.g,I=a.ca;var O="readystatechange";Array.isArray(O)||(O&&(Jf[0]=O.toString()),O=Jf);for(var L=0;L<O.length;L++){var G=nr(_,O[L],I||d.handleEvent,!1,d.h||d);if(!G)break;d.g[G.key]=G}d=a.H?g(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Li(),L0(a.i,a.u,a.A,a.l,a.R,a.m)}Tn.prototype.ca=function(a){a=a.target;const d=this.M;d&&un(a)==3?d.j():this.Y(a)},Tn.prototype.Y=function(a){try{if(a==this.g)e:{const nt=un(this.g);var d=this.g.Ba();const jr=this.g.Z();if(!(3>nt)&&(nt!=3||this.g&&(this.h.h||this.g.oa()||Rh(this.g)))){this.J||nt!=4||d==7||(d==8||0>=jr?Li(3):Li(2)),ol(this);var _=this.g.Z();this.X=_;t:if(ch(this)){var I=Rh(this.g);a="";var O=I.length,L=un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ir(this),ji(this);var G="";break t}this.h.i=new l.TextDecoder}for(d=0;d<O;d++)this.h.h=!0,a+=this.h.i.decode(I[d],{stream:!(L&&d==O-1)});I.length=0,this.h.g+=a,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=_==200,x0(this.i,this.u,this.A,this.l,this.R,nt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ee,Ge=this.g;if((Ee=Ge.g?Ge.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Ee)){var me=Ee;break t}}me=null}if(_=me)Lr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,al(this,_);else{this.o=!1,this.s=3,ht(12),ir(this),ji(this);break e}}if(this.P){_=!0;let xt;for(;!this.J&&this.C<G.length;)if(xt=z0(this,G),xt==il){nt==4&&(this.s=4,ht(14),_=!1),Lr(this.i,this.l,null,"[Incomplete Response]");break}else if(xt==uh){this.s=4,ht(15),Lr(this.i,this.l,G,"[Invalid Chunk]"),_=!1;break}else Lr(this.i,this.l,xt,null),al(this,xt);if(ch(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||G.length!=0||this.h.h||(this.s=1,ht(16),_=!1),this.o=this.o&&_,!_)Lr(this.i,this.l,G,"[Invalid Chunked Response]"),ir(this),ji(this);else if(0<G.length&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.ba&&!tt.M&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),hl(tt),tt.M=!0,ht(11))}}else Lr(this.i,this.l,G,null),al(this,G);nt==4&&ir(this),this.o&&!this.J&&(nt==4?xh(this.j,this):(this.o=!1,bo(this)))}else r1(this.g),_==400&&0<G.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),ir(this),ji(this)}}}catch{}finally{}};function ch(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function z0(a,d){var _=a.C,I=d.indexOf(`
`,_);return I==-1?il:(_=Number(d.substring(_,I)),isNaN(_)?uh:(I+=1,I+_>d.length?il:(d=d.slice(I,I+_),a.C=I+_,d)))}Tn.prototype.cancel=function(){this.J=!0,ir(this)};function bo(a){a.S=Date.now()+a.I,dh(a,a.I)}function dh(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=xi(A(a.ba,a),d)}function ol(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Tn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(F0(this.i,this.A),this.L!=2&&(Li(),ht(17)),ir(this),this.s=2,ji(this)):dh(this,this.S-a)};function ji(a){a.j.G==0||a.J||xh(a.j,a)}function ir(a){ol(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Zf(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function al(a,d){try{var _=a.j;if(_.G!=0&&(_.g==a||ul(_.h,a))){if(!a.K&&ul(_.h,a)&&_.G==3){try{var I=_.Da.g.parse(d)}catch{I=null}if(Array.isArray(I)&&I.length==3){var O=I;if(O[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<a.F)Lo(_),Vo(_);else break e;fl(_),ht(18)}}else _.za=O[1],0<_.za-_.T&&37500>O[2]&&_.F&&_.v==0&&!_.C&&(_.C=xi(A(_.Za,_),6e3));if(1>=ph(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else or(_,11)}else if((a.K||_.g==a)&&Lo(_),!b(d))for(O=_.Da.g.parse(d),d=0;d<O.length;d++){let me=O[d];if(_.T=me[0],me=me[1],_.G==2)if(me[0]=="c"){_.K=me[1],_.ia=me[2];const tt=me[3];tt!=null&&(_.la=tt,_.j.info("VER="+_.la));const nt=me[4];nt!=null&&(_.Aa=nt,_.j.info("SVER="+_.Aa));const jr=me[5];jr!=null&&typeof jr=="number"&&0<jr&&(I=1.5*jr,_.L=I,_.j.info("backChannelRequestTimeoutMs_="+I)),I=_;const xt=a.g;if(xt){const Fo=xt.g?xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fo){var L=I.h;L.g||Fo.indexOf("spdy")==-1&&Fo.indexOf("quic")==-1&&Fo.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(ll(L,L.h),L.h=null))}if(I.D){const pl=xt.g?xt.g.getResponseHeader("X-HTTP-Session-Id"):null;pl&&(I.ya=pl,ke(I.I,I.D,pl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-a.F,_.j.info("Handshake RTT: "+_.R+"ms")),I=_;var G=a;if(I.qa=zh(I,I.J?I.ia:null,I.W),G.K){mh(I.h,G);var Ee=G,Ge=I.L;Ge&&(Ee.I=Ge),Ee.B&&(ol(Ee),bo(Ee)),I.g=G}else Oh(I);0<_.i.length&&Oo(_)}else me[0]!="stop"&&me[0]!="close"||or(_,7);else _.G==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?or(_,7):dl(_):me[0]!="noop"&&_.l&&_.l.ta(me),_.v=0)}}Li(4)}catch{}}var B0=class{constructor(a,d){this.g=a,this.map=d}};function fh(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hh(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function ph(a){return a.h?1:a.g?a.g.size:0}function ul(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function ll(a,d){a.g?a.g.add(d):a.h=d}function mh(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}fh.prototype.cancel=function(){if(this.i=gh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function gh(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const _ of a.g.values())d=d.concat(_.D);return d}return N(a.i)}function U0(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var d=[],_=a.length,I=0;I<_;I++)d.push(a[I]);return d}d=[],_=0;for(I in a)d[_++]=a[I];return d}function $0(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var d=[];a=a.length;for(var _=0;_<a;_++)d.push(_);return d}d=[],_=0;for(const I in a)d[_++]=I;return d}}}function _h(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var _=$0(a),I=U0(a),O=I.length,L=0;L<O;L++)d.call(void 0,I[L],_&&_[L],a)}var yh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function H0(a,d){if(a){a=a.split("&");for(var _=0;_<a.length;_++){var I=a[_].indexOf("="),O=null;if(0<=I){var L=a[_].substring(0,I);O=a[_].substring(I+1)}else L=a[_];d(L,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function sr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof sr){this.h=a.h,Po(this,a.j),this.o=a.o,this.g=a.g,Ro(this,a.s),this.l=a.l;var d=a.i,_=new Ui;_.i=d.i,d.g&&(_.g=new Map(d.g),_.h=d.h),vh(this,_),this.m=a.m}else a&&(d=String(a).match(yh))?(this.h=!1,Po(this,d[1]||"",!0),this.o=zi(d[2]||""),this.g=zi(d[3]||"",!0),Ro(this,d[4]),this.l=zi(d[5]||"",!0),vh(this,d[6]||"",!0),this.m=zi(d[7]||"")):(this.h=!1,this.i=new Ui(null,this.h))}sr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Bi(d,wh,!0),":");var _=this.g;return(_||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Bi(d,wh,!0),"@"),a.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&a.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&a.push("/"),a.push(Bi(_,_.charAt(0)=="/"?G0:W0,!0))),(_=this.i.toString())&&a.push("?",_),(_=this.m)&&a.push("#",Bi(_,Q0)),a.join("")};function an(a){return new sr(a)}function Po(a,d,_){a.j=_?zi(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Ro(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function vh(a,d,_){d instanceof Ui?(a.i=d,Y0(a.i,a.h)):(_||(d=Bi(d,K0)),a.i=new Ui(d,a.h))}function ke(a,d,_){a.i.set(d,_)}function Do(a){return ke(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function zi(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Bi(a,d,_){return typeof a=="string"?(a=encodeURI(a).replace(d,q0),_&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function q0(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var wh=/[#\/\?@]/g,W0=/[#\?:]/g,G0=/[#\?]/g,K0=/[#\?@]/g,Q0=/#/g;function Ui(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Sn(a){a.g||(a.g=new Map,a.h=0,a.i&&H0(a.i,function(d,_){a.add(decodeURIComponent(d.replace(/\+/g," ")),_)}))}t=Ui.prototype,t.add=function(a,d){Sn(this),this.i=null,a=xr(this,a);var _=this.g.get(a);return _||this.g.set(a,_=[]),_.push(d),this.h+=1,this};function Eh(a,d){Sn(a),d=xr(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function Th(a,d){return Sn(a),d=xr(a,d),a.g.has(d)}t.forEach=function(a,d){Sn(this),this.g.forEach(function(_,I){_.forEach(function(O){a.call(d,O,I,this)},this)},this)},t.na=function(){Sn(this);const a=Array.from(this.g.values()),d=Array.from(this.g.keys()),_=[];for(let I=0;I<d.length;I++){const O=a[I];for(let L=0;L<O.length;L++)_.push(d[I])}return _},t.V=function(a){Sn(this);let d=[];if(typeof a=="string")Th(this,a)&&(d=d.concat(this.g.get(xr(this,a))));else{a=Array.from(this.g.values());for(let _=0;_<a.length;_++)d=d.concat(a[_])}return d},t.set=function(a,d){return Sn(this),this.i=null,a=xr(this,a),Th(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function Sh(a,d,_){Eh(a,d),0<_.length&&(a.i=null,a.g.set(xr(a,d),N(_)),a.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(var _=0;_<d.length;_++){var I=d[_];const L=encodeURIComponent(String(I)),G=this.V(I);for(I=0;I<G.length;I++){var O=L;G[I]!==""&&(O+="="+encodeURIComponent(String(G[I]))),a.push(O)}}return this.i=a.join("&")};function xr(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function Y0(a,d){d&&!a.j&&(Sn(a),a.i=null,a.g.forEach(function(_,I){var O=I.toLowerCase();I!=O&&(Eh(this,I),Sh(this,O,_))},a)),a.j=d}function X0(a,d){const _=new Fi;if(l.Image){const I=new Image;I.onload=M(In,_,"TestLoadImage: loaded",!0,d,I),I.onerror=M(In,_,"TestLoadImage: error",!1,d,I),I.onabort=M(In,_,"TestLoadImage: abort",!1,d,I),I.ontimeout=M(In,_,"TestLoadImage: timeout",!1,d,I),l.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=a}else d(!1)}function J0(a,d){const _=new Fi,I=new AbortController,O=setTimeout(()=>{I.abort(),In(_,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:I.signal}).then(L=>{clearTimeout(O),L.ok?In(_,"TestPingServer: ok",!0,d):In(_,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(O),In(_,"TestPingServer: error",!1,d)})}function In(a,d,_,I,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),I(_)}catch{}}function Z0(){this.g=new O0}function e1(a,d,_){const I=_||"";try{_h(a,function(O,L){let G=O;f(O)&&(G=Zu(O)),d.push(I+L+"="+encodeURIComponent(G))})}catch(O){throw d.push(I+"type="+encodeURIComponent("_badmap")),O}}function $i(a){this.l=a.Ub||null,this.j=a.eb||!1}V($i,el),$i.prototype.g=function(){return new No(this.l,this.j)},$i.prototype.i=function(a){return function(){return a}}({});function No(a,d){et.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(No,et),t=No.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,qi(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hi(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,qi(this)),this.g&&(this.readyState=3,qi(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ih(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ih(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Hi(this):qi(this),this.readyState==3&&Ih(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Hi(this))},t.Qa=function(a){this.g&&(this.response=a,Hi(this))},t.ga=function(){this.g&&Hi(this)};function Hi(a){a.readyState=4,a.l=null,a.j=null,a.v=null,qi(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var _=d.next();!_.done;)_=_.value,a.push(_[0]+": "+_[1]),_=d.next();return a.join(`\r
`)};function qi(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(No.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function kh(a){let d="";return h(a,function(_,I){d+=I,d+=":",d+=_,d+=`\r
`}),d}function cl(a,d,_){e:{for(I in _){var I=!1;break e}I=!0}I||(_=kh(_),typeof a=="string"?_!=null&&encodeURIComponent(String(_)):ke(a,d,_))}function De(a){et.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(De,et);var t1=/^https?$/i,n1=["POST","PUT"];t=De.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,_,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rl.g(),this.v=this.o?eh(this.o):eh(rl),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(L){Ah(this,L);return}if(a=_||"",_=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var O in I)_.set(O,I[O]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const L of I.keys())_.set(L,I.get(L));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(_.keys()).find(L=>L.toLowerCase()=="content-type"),O=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(n1,d,void 0))||I||O||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,G]of _)this.g.setRequestHeader(L,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ph(this),this.u=!0,this.g.send(a),this.u=!1}catch(L){Ah(this,L)}};function Ah(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,Ch(a),Mo(a)}function Ch(a){a.A||(a.A=!0,ft(a,"complete"),ft(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ft(this,"complete"),ft(this,"abort"),Mo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mo(this,!0)),De.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?bh(this):this.bb())},t.bb=function(){bh(this)};function bh(a){if(a.h&&typeof o<"u"&&(!a.v[1]||un(a)!=4||a.Z()!=2)){if(a.u&&un(a)==4)Yf(a.Ea,0,a);else if(ft(a,"readystatechange"),un(a)==4){a.h=!1;try{const G=a.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var _;if(!(_=d)){var I;if(I=G===0){var O=String(a.D).match(yh)[1]||null;!O&&l.self&&l.self.location&&(O=l.self.location.protocol.slice(0,-1)),I=!t1.test(O?O.toLowerCase():"")}_=I}if(_)ft(a,"complete"),ft(a,"success");else{a.m=6;try{var L=2<un(a)?a.g.statusText:""}catch{L=""}a.l=L+" ["+a.Z()+"]",Ch(a)}}finally{Mo(a)}}}}function Mo(a,d){if(a.g){Ph(a);const _=a.g,I=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||ft(a,"ready");try{_.onreadystatechange=I}catch{}}}function Ph(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function un(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<un(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),V0(d)}};function Rh(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function r1(a){const d={};a=(a.g&&2<=un(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<a.length;I++){if(b(a[I]))continue;var _=E(a[I]);const O=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const L=d[O]||[];d[O]=L,L.push(_)}m(d,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wi(a,d,_){return _&&_.internalChannelParams&&_.internalChannelParams[a]||d}function Dh(a){this.Aa=0,this.i=[],this.j=new Fi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wi("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wi("baseRetryDelayMs",5e3,a),this.cb=Wi("retryDelaySeedMs",1e4,a),this.Wa=Wi("forwardChannelMaxRetries",2,a),this.wa=Wi("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new fh(a&&a.concurrentRequestLimit),this.Da=new Z0,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Dh.prototype,t.la=8,t.G=1,t.connect=function(a,d,_,I){ht(0),this.W=a,this.H=d||{},_&&I!==void 0&&(this.H.OSID=_,this.H.OAID=I),this.F=this.X,this.I=zh(this,null,this.W),Oo(this)};function dl(a){if(Nh(a),a.G==3){var d=a.U++,_=an(a.I);if(ke(_,"SID",a.K),ke(_,"RID",d),ke(_,"TYPE","terminate"),Gi(a,_),d=new Tn(a,a.j,d),d.L=2,d.v=Do(an(_)),_=!1,l.navigator&&l.navigator.sendBeacon)try{_=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!_&&l.Image&&(new Image().src=d.v,_=!0),_||(d.g=Bh(d.j,null),d.g.ea(d.v)),d.F=Date.now(),bo(d)}jh(a)}function Vo(a){a.g&&(hl(a),a.g.cancel(),a.g=null)}function Nh(a){Vo(a),a.u&&(l.clearTimeout(a.u),a.u=null),Lo(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Oo(a){if(!hh(a.h)&&!a.s){a.s=!0;var d=a.Ga;j||ce(),K||(j(),K=!0),X.add(d,a),a.B=0}}function i1(a,d){return ph(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=xi(A(a.Ga,a,d),Fh(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const O=new Tn(this,this.j,a);let L=this.o;if(this.S&&(L?(L=g(L),v(L,this.S)):L=this.S),this.m!==null||this.O||(O.H=L,L=null),this.P)e:{for(var d=0,_=0;_<this.i.length;_++){t:{var I=this.i[_];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(d+=I,4096<d){d=_;break e}if(d===4096||_===this.i.length-1){d=_+1;break e}}d=1e3}else d=1e3;d=Vh(this,O,d),_=an(this.I),ke(_,"RID",a),ke(_,"CVER",22),this.D&&ke(_,"X-HTTP-Session-Id",this.D),Gi(this,_),L&&(this.O?d="headers="+encodeURIComponent(String(kh(L)))+"&"+d:this.m&&cl(_,this.m,L)),ll(this.h,O),this.Ua&&ke(_,"TYPE","init"),this.P?(ke(_,"$req",d),ke(_,"SID","null"),O.T=!0,sl(O,_,null)):sl(O,_,d),this.G=2}}else this.G==3&&(a?Mh(this,a):this.i.length==0||hh(this.h)||Mh(this))};function Mh(a,d){var _;d?_=d.l:_=a.U++;const I=an(a.I);ke(I,"SID",a.K),ke(I,"RID",_),ke(I,"AID",a.T),Gi(a,I),a.m&&a.o&&cl(I,a.m,a.o),_=new Tn(a,a.j,_,a.B+1),a.m===null&&(_.H=a.o),d&&(a.i=d.D.concat(a.i)),d=Vh(a,_,1e3),_.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),ll(a.h,_),sl(_,I,d)}function Gi(a,d){a.H&&h(a.H,function(_,I){ke(d,I,_)}),a.l&&_h({},function(_,I){ke(d,I,_)})}function Vh(a,d,_){_=Math.min(a.i.length,_);var I=a.l?A(a.l.Na,a.l,a):null;e:{var O=a.i;let L=-1;for(;;){const G=["count="+_];L==-1?0<_?(L=O[0].g,G.push("ofs="+L)):L=0:G.push("ofs="+L);let Ee=!0;for(let Ge=0;Ge<_;Ge++){let me=O[Ge].g;const tt=O[Ge].map;if(me-=L,0>me)L=Math.max(0,O[Ge].g-100),Ee=!1;else try{e1(tt,G,"req"+me+"_")}catch{I&&I(tt)}}if(Ee){I=G.join("&");break e}}}return a=a.i.splice(0,_),d.D=a,I}function Oh(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;j||ce(),K||(j(),K=!0),X.add(d,a),a.v=0}}function fl(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=xi(A(a.Fa,a),Fh(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Lh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=xi(A(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),Vo(this),Lh(this))};function hl(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Lh(a){a.g=new Tn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=an(a.qa);ke(d,"RID","rpc"),ke(d,"SID",a.K),ke(d,"AID",a.T),ke(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&ke(d,"TO",a.ja),ke(d,"TYPE","xmlhttp"),Gi(a,d),a.m&&a.o&&cl(d,a.m,a.o),a.L&&(a.g.I=a.L);var _=a.g;a=a.ia,_.L=1,_.v=Do(an(d)),_.m=null,_.P=!0,lh(_,a)}t.Za=function(){this.C!=null&&(this.C=null,Vo(this),fl(this),ht(19))};function Lo(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function xh(a,d){var _=null;if(a.g==d){Lo(a),hl(a),a.g=null;var I=2}else if(ul(a.h,d))_=d.D,mh(a.h,d),I=1;else return;if(a.G!=0){if(d.o)if(I==1){_=d.m?d.m.length:0,d=Date.now()-d.F;var O=a.B;I=ko(),ft(I,new sh(I,_)),Oo(a)}else Oh(a);else if(O=d.s,O==3||O==0&&0<d.X||!(I==1&&i1(a,d)||I==2&&fl(a)))switch(_&&0<_.length&&(d=a.h,d.i=d.i.concat(_)),O){case 1:or(a,5);break;case 4:or(a,10);break;case 3:or(a,6);break;default:or(a,2)}}}function Fh(a,d){let _=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(_*=2),_*d}function or(a,d){if(a.j.info("Error code "+d),d==2){var _=A(a.fb,a),I=a.Xa;const O=!I;I=new sr(I||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Po(I,"https"),Do(I),O?X0(I.toString(),_):J0(I.toString(),_)}else ht(2);a.G=0,a.l&&a.l.sa(d),jh(a),Nh(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function jh(a){if(a.G=0,a.ka=[],a.l){const d=gh(a.h);(d.length!=0||a.i.length!=0)&&(k(a.ka,d),k(a.ka,a.i),a.h.i.length=0,N(a.i),a.i.length=0),a.l.ra()}}function zh(a,d,_){var I=_ instanceof sr?an(_):new sr(_);if(I.g!="")d&&(I.g=d+"."+I.g),Ro(I,I.s);else{var O=l.location;I=O.protocol,d=d?d+"."+O.hostname:O.hostname,O=+O.port;var L=new sr(null);I&&Po(L,I),d&&(L.g=d),O&&Ro(L,O),_&&(L.l=_),I=L}return _=a.D,d=a.ya,_&&d&&ke(I,_,d),ke(I,"VER",a.la),Gi(a,I),I}function Bh(a,d,_){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new De(new $i({eb:_})):new De(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uh(){}t=Uh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function xo(){}xo.prototype.g=function(a,d){return new Et(a,d)};function Et(a,d){et.call(this),this.g=new Dh(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!b(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!b(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Fr(this)}V(Et,et),Et.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Et.prototype.close=function(){dl(this.g)},Et.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var _={};_.__data__=a,a=_}else this.u&&(_={},_.__data__=Zu(a),a=_);d.i.push(new B0(d.Ya++,a)),d.G==3&&Oo(d)},Et.prototype.N=function(){this.g.l=null,delete this.j,dl(this.g),delete this.g,Et.aa.N.call(this)};function $h(a){tl.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const _ in d){a=_;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}V($h,tl);function Hh(){nl.call(this),this.status=1}V(Hh,nl);function Fr(a){this.g=a}V(Fr,Uh),Fr.prototype.ua=function(){ft(this.g,"a")},Fr.prototype.ta=function(a){ft(this.g,new $h(a))},Fr.prototype.sa=function(a){ft(this.g,new Hh)},Fr.prototype.ra=function(){ft(this.g,"b")},xo.prototype.createWebChannel=xo.prototype.g,Et.prototype.send=Et.prototype.o,Et.prototype.open=Et.prototype.m,Et.prototype.close=Et.prototype.close,Hy=function(){return new xo},$y=function(){return ko()},Uy=rr,Qc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ao.NO_ERROR=0,Ao.TIMEOUT=8,Ao.HTTP_ERROR=6,ga=Ao,oh.COMPLETE="complete",By=oh,th.EventType=Oi,Oi.OPEN="a",Oi.CLOSE="b",Oi.ERROR="c",Oi.MESSAGE="d",et.prototype.listen=et.prototype.K,ps=th,zy=$i,De.prototype.listenOnce=De.prototype.L,De.prototype.getLastError=De.prototype.Ka,De.prototype.getLastErrorCode=De.prototype.Ba,De.prototype.getStatus=De.prototype.Z,De.prototype.getResponseJson=De.prototype.Oa,De.prototype.getResponseText=De.prototype.oa,De.prototype.send=De.prototype.ea,De.prototype.setWithCredentials=De.prototype.Ha,jy=De}).apply(typeof ta<"u"?ta:typeof self<"u"?self:typeof window<"u"?window:{});const Rm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ot.UNAUTHENTICATED=new ot(null),ot.GOOGLE_CREDENTIALS=new ot("google-credentials-uid"),ot.FIRST_PARTY=new ot("first-party-uid"),ot.MOCK_USER=new ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ri="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir=new ff("@firebase/firestore");function us(){return Ir.logLevel}function Z(t,...e){if(Ir.logLevel<=he.DEBUG){const n=e.map(pf);Ir.debug(`Firestore (${Ri}): ${t}`,...n)}}function yn(t,...e){if(Ir.logLevel<=he.ERROR){const n=e.map(pf);Ir.error(`Firestore (${Ri}): ${t}`,...n)}}function mi(t,...e){if(Ir.logLevel<=he.WARN){const n=e.map(pf);Ir.warn(`Firestore (${Ri}): ${t}`,...n)}}function pf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t="Unexpected state"){const e=`FIRESTORE (${Ri}) INTERNAL ASSERTION FAILED: `+t;throw yn(e),new Error(e)}function Se(t,e){t||ie()}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class M2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ot.UNAUTHENTICATED))}shutdown(){}}class V2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class O2{constructor(e){this.t=e,this.currentUser=ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new vr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new vr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string"),new qy(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string"),new ot(e)}}class L2{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class x2{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new L2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class F2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Se(typeof n.token=="string"),this.R=n.token,new F2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=z2(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function gi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ue.fromMillis(Date.now())}static fromDate(e){return Ue.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ue(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new oe(e)}static min(){return new oe(new Ue(0,0))}static max(){return new oe(new Ue(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(),r===void 0?r=e.length-n:r>e.length-n&&ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class be extends Xs{construct(e,n,r){return new be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new be(n)}static emptyPath(){return new be([])}}const B2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends Xs{construct(e,n,r){return new Xe(e,n,r)}static isValidIdentifier(e){return B2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Xe(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new te($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new te($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new te($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new te($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xe(n)}static emptyPath(){return new Xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(be.fromString(e))}static fromName(e){return new ne(be.fromString(e).popFirst(5))}static empty(){return new ne(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new be(e.slice()))}}function U2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=oe.fromTimestamp(r===1e9?new Ue(n+1,0):new Ue(n,r));return new Yn(i,ne.empty(),e)}function $2(t){return new Yn(t.readTime,t.key,-1)}class Yn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Yn(oe.min(),ne.empty(),-1)}static max(){return new Yn(oe.max(),ne.empty(),-1)}}function H2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class W2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yo(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==q2)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const f=c;n(e[f]).next(w=>{o[f]=w,++l,l===s&&r(o)},w=>i(w))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function G2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}mf.oe=-1;function Lu(t){return t==null}function Ga(t){return t===0&&1/t==-1/0}function K2(t){return typeof t=="number"&&Number.isInteger(t)&&!Ga(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Di(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Gy(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e,n){this.comparator=e,this.root=n||Qe.EMPTY}insert(e,n){return new Re(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(e){return new Re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new na(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new na(this.root,e,this.comparator,!1)}getReverseIterator(){return new na(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new na(this.root,e,this.comparator,!0)}}class na{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qe{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Qe.RED,this.left=i??Qe.EMPTY,this.right=s??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Qe(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Qe.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();const e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Qe(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.comparator=e,this.data=new Re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Nm(this.data.getIterator())}getIteratorFrom(e){return new Nm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Je)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Je(this.comparator);return n.data=e,n}}class Nm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.fields=e,e.sort(Xe.comparator)}static empty(){return new qt([])}unionWith(e){let n=new Je(Xe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new qt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Ky("Invalid base64 string: "+s):s}}(e);return new dt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dt.EMPTY_BYTE_STRING=new dt("");const Q2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xn(t){if(Se(!!t),typeof t=="string"){let e=0;const n=Q2.exec(t);if(Se(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fe(t.seconds),nanos:Fe(t.nanos)}}function Fe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function kr(t){return typeof t=="string"?dt.fromBase64String(t):dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function _f(t){const e=t.mapValue.fields.__previous_value__;return gf(e)?_f(e):e}function Js(t){const e=Xn(t.mapValue.fields.__local_write_time__.timestampValue);return new Ue(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,n,r,i,s,o,l,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f}}class Zs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Zs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Zs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ar(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gf(t)?4:X2(t)?9007199254740991:10:ie()}function rn(t,e){if(t===e)return!0;const n=Ar(t);if(n!==Ar(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Js(t).isEqual(Js(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Xn(i.timestampValue),l=Xn(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return kr(i.bytesValue).isEqual(kr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Fe(i.geoPointValue.latitude)===Fe(s.geoPointValue.latitude)&&Fe(i.geoPointValue.longitude)===Fe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Fe(i.integerValue)===Fe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Fe(i.doubleValue),l=Fe(s.doubleValue);return o===l?Ga(o)===Ga(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return gi(t.arrayValue.values||[],e.arrayValue.values||[],rn);case 10:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(Dm(o)!==Dm(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!rn(o[c],l[c])))return!1;return!0}(t,e);default:return ie()}}function eo(t,e){return(t.values||[]).find(n=>rn(n,e))!==void 0}function _i(t,e){if(t===e)return 0;const n=Ar(t),r=Ar(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=Fe(s.integerValue||s.doubleValue),c=Fe(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Mm(t.timestampValue,e.timestampValue);case 4:return Mm(Js(t),Js(e));case 5:return ge(t.stringValue,e.stringValue);case 6:return function(s,o){const l=kr(s),c=kr(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let f=0;f<l.length&&f<c.length;f++){const w=ge(l[f],c[f]);if(w!==0)return w}return ge(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=ge(Fe(s.latitude),Fe(o.latitude));return l!==0?l:ge(Fe(s.longitude),Fe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const l=s.values||[],c=o.values||[];for(let f=0;f<l.length&&f<c.length;++f){const w=_i(l[f],c[f]);if(w)return w}return ge(l.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===ra.mapValue&&o===ra.mapValue)return 0;if(s===ra.mapValue)return 1;if(o===ra.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),f=o.fields||{},w=Object.keys(f);c.sort(),w.sort();for(let C=0;C<c.length&&C<w.length;++C){const A=ge(c[C],w[C]);if(A!==0)return A;const M=_i(l[c[C]],f[w[C]]);if(M!==0)return M}return ge(c.length,w.length)}(t.mapValue,e.mapValue);default:throw ie()}}function Mm(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=Xn(t),r=Xn(e),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function yi(t){return Yc(t)}function Yc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Xn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return kr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Yc(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Yc(n.fields[o])}`;return i+"}"}(t.mapValue):ie()}function Xc(t){return!!t&&"integerValue"in t}function yf(t){return!!t&&"arrayValue"in t}function Vm(t){return!!t&&"nullValue"in t}function Om(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _a(t){return!!t&&"mapValue"in t}function Rs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Di(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Rs(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Rs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function X2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.value=e}static empty(){return new Rt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_a(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rs(n)}setAll(e){let n=Xe.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Rs(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());_a(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];_a(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Di(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Rt(Rs(this.value))}}function Qy(t){const e=[];return Di(t.fields,(n,r)=>{const i=new Xe([n]);if(_a(r)){const s=Qy(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new qt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new at(e,0,oe.min(),oe.min(),oe.min(),Rt.empty(),0)}static newFoundDocument(e,n,r,i){return new at(e,1,n,oe.min(),r,i,0)}static newNoDocument(e,n){return new at(e,2,n,oe.min(),oe.min(),Rt.empty(),0)}static newUnknownDocument(e,n){return new at(e,3,n,oe.min(),oe.min(),Rt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof at&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new at(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n){this.position=e,this.inclusive=n}}function Lm(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=_i(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function xm(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!rn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n="asc"){this.field=e,this.dir=n}}function J2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{}class ze extends Yy{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new eT(e,n,r):n==="array-contains"?new rT(e,r):n==="in"?new iT(e,r):n==="not-in"?new sT(e,r):n==="array-contains-any"?new oT(e,r):new ze(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tT(e,r):new nT(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_i(n,this.value)):n!==null&&Ar(this.value)===Ar(n)&&this.matchesComparison(_i(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sn extends Yy{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new sn(e,n)}matches(e){return Xy(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Xy(t){return t.op==="and"}function Jy(t){return Z2(t)&&Xy(t)}function Z2(t){for(const e of t.filters)if(e instanceof sn)return!1;return!0}function Jc(t){if(t instanceof ze)return t.field.canonicalString()+t.op.toString()+yi(t.value);if(Jy(t))return t.filters.map(e=>Jc(e)).join(",");{const e=t.filters.map(n=>Jc(n)).join(",");return`${t.op}(${e})`}}function Zy(t,e){return t instanceof ze?function(r,i){return i instanceof ze&&r.op===i.op&&r.field.isEqual(i.field)&&rn(r.value,i.value)}(t,e):t instanceof sn?function(r,i){return i instanceof sn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&Zy(o,i.filters[l]),!0):!1}(t,e):void ie()}function ev(t){return t instanceof ze?function(n){return`${n.field.canonicalString()} ${n.op} ${yi(n.value)}`}(t):t instanceof sn?function(n){return n.op.toString()+" {"+n.getFilters().map(ev).join(" ,")+"}"}(t):"Filter"}class eT extends ze{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class tT extends ze{constructor(e,n){super(e,"in",n),this.keys=tv("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nT extends ze{constructor(e,n){super(e,"not-in",n),this.keys=tv("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tv(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class rT extends ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yf(n)&&eo(n.arrayValue,this.value)}}class iT extends ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eo(this.value.arrayValue,n)}}class sT extends ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(eo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!eo(this.value.arrayValue,n)}}class oT extends ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>eo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function Fm(t,e=null,n=[],r=[],i=null,s=null,o=null){return new aT(t,e,n,r,i,s,o)}function vf(t){const e=le(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Jc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Lu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>yi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>yi(r)).join(",")),e.ue=n}return e.ue}function wf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!J2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Zy(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xm(t.startAt,e.startAt)&&xm(t.endAt,e.endAt)}function Zc(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function uT(t,e,n,r,i,s,o,l){return new xu(t,e,n,r,i,s,o,l)}function Ef(t){return new xu(t)}function jm(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function lT(t){return t.collectionGroup!==null}function Ds(t){const e=le(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Je(Xe.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(l=l.add(f.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Qa(s,r))}),n.has(Xe.keyField().canonicalString())||e.ce.push(new Qa(Xe.keyField(),r))}return e.ce}function tn(t){const e=le(t);return e.le||(e.le=cT(e,Ds(t))),e.le}function cT(t,e){if(t.limitType==="F")return Fm(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Qa(i.field,s)});const n=t.endAt?new Ka(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ka(t.startAt.position,t.startAt.inclusive):null;return Fm(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ed(t,e,n){return new xu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fu(t,e){return wf(tn(t),tn(e))&&t.limitType===e.limitType}function nv(t){return`${vf(tn(t))}|lt:${t.limitType}`}function $r(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ev(i)).join(", ")}]`),Lu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>yi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>yi(i)).join(",")),`Target(${r})`}(tn(t))}; limitType=${t.limitType})`}function ju(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ne.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ds(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const f=Lm(o,l,c);return o.inclusive?f<=0:f<0}(r.startAt,Ds(r),i)||r.endAt&&!function(o,l,c){const f=Lm(o,l,c);return o.inclusive?f>=0:f>0}(r.endAt,Ds(r),i))}(t,e)}function dT(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function rv(t){return(e,n)=>{let r=!1;for(const i of Ds(t)){const s=fT(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function fT(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(s,o,l){const c=o.data.field(s),f=l.data.field(s);return c!==null&&f!==null?_i(c,f):ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Di(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Gy(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=new Re(ne.comparator);function vn(){return hT}const iv=new Re(ne.comparator);function ms(...t){let e=iv;for(const n of t)e=e.insert(n.key,n);return e}function sv(t){let e=iv;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function mr(){return Ns()}function ov(){return Ns()}function Ns(){return new Ni(t=>t.toString(),(t,e)=>t.isEqual(e))}const pT=new Re(ne.comparator),mT=new Je(ne.comparator);function de(...t){let e=mT;for(const n of t)e=e.add(n);return e}const gT=new Je(ge);function _T(){return gT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ga(e)?"-0":e}}function uv(t){return{integerValue:""+t}}function yT(t,e){return K2(e)?uv(e):av(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(){this._=void 0}}function vT(t,e,n){return t instanceof Ya?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&gf(s)&&(s=_f(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof to?cv(t,e):t instanceof no?dv(t,e):function(i,s){const o=lv(i,s),l=zm(o)+zm(i.Pe);return Xc(o)&&Xc(i.Pe)?uv(l):av(i.serializer,l)}(t,e)}function wT(t,e,n){return t instanceof to?cv(t,e):t instanceof no?dv(t,e):n}function lv(t,e){return t instanceof Xa?function(r){return Xc(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ya extends zu{}class to extends zu{constructor(e){super(),this.elements=e}}function cv(t,e){const n=fv(e);for(const r of t.elements)n.some(i=>rn(i,r))||n.push(r);return{arrayValue:{values:n}}}class no extends zu{constructor(e){super(),this.elements=e}}function dv(t,e){let n=fv(e);for(const r of t.elements)n=n.filter(i=>!rn(i,r));return{arrayValue:{values:n}}}class Xa extends zu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function zm(t){return Fe(t.integerValue||t.doubleValue)}function fv(t){return yf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ET(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof to&&i instanceof to||r instanceof no&&i instanceof no?gi(r.elements,i.elements,rn):r instanceof Xa&&i instanceof Xa?rn(r.Pe,i.Pe):r instanceof Ya&&i instanceof Ya}(t.transform,e.transform)}class TT{constructor(e,n){this.version=e,this.transformResults=n}}class Wt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wt}static exists(e){return new Wt(void 0,e)}static updateTime(e){return new Wt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ya(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bu{}function hv(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Tf(t.key,Wt.none()):new wo(t.key,t.data,Wt.none());{const n=t.data,r=Rt.empty();let i=new Je(Xe.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Mr(t.key,r,new qt(i.toArray()),Wt.none())}}function ST(t,e,n){t instanceof wo?function(i,s,o){const l=i.value.clone(),c=Um(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Mr?function(i,s,o){if(!ya(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=Um(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(pv(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ms(t,e,n,r){return t instanceof wo?function(s,o,l,c){if(!ya(s.precondition,o))return l;const f=s.value.clone(),w=$m(s.fieldTransforms,c,o);return f.setAll(w),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof Mr?function(s,o,l,c){if(!ya(s.precondition,o))return l;const f=$m(s.fieldTransforms,c,o),w=o.data;return w.setAll(pv(s)),w.setAll(f),o.convertToFoundDocument(o.version,w).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(C=>C.field))}(t,e,n,r):function(s,o,l){return ya(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function IT(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=lv(r.transform,i||null);s!=null&&(n===null&&(n=Rt.empty()),n.set(r.field,s))}return n||null}function Bm(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&gi(r,i,(s,o)=>ET(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wo extends Bu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Mr extends Bu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function pv(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Um(t,e,n){const r=new Map;Se(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,wT(o,l,n[i]))}return r}function $m(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,vT(s,o,e))}return r}class Tf extends Bu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kT extends Bu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&ST(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ms(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ms(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ov();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const c=hv(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&gi(this.mutations,e.mutations,(n,r)=>Bm(n,r))&&gi(this.baseMutations,e.baseMutations,(n,r)=>Bm(n,r))}}class Sf{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Se(e.mutations.length===r.length);let i=function(){return pT}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Sf(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le,fe;function PT(t){switch(t){default:return ie();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function mv(t){if(t===void 0)return yn("GRPC error has no .code"),$.UNKNOWN;switch(t){case Le.OK:return $.OK;case Le.CANCELLED:return $.CANCELLED;case Le.UNKNOWN:return $.UNKNOWN;case Le.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Le.INTERNAL:return $.INTERNAL;case Le.UNAVAILABLE:return $.UNAVAILABLE;case Le.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Le.NOT_FOUND:return $.NOT_FOUND;case Le.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Le.ABORTED:return $.ABORTED;case Le.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Le.DATA_LOSS:return $.DATA_LOSS;default:return ie()}}(fe=Le||(Le={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=new yr([4294967295,4294967295],0);function Hm(t){const e=RT().encode(t),n=new Fy;return n.update(e),new Uint8Array(n.digest())}function qm(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new yr([n,r],0),new yr([i,s],0)]}class If{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gs(`Invalid padding: ${n}`);if(r<0)throw new gs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new gs(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new gs(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=yr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(yr.fromNumber(r)));return i.compare(DT)===1&&(i=new yr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Hm(e),[r,i]=qm(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new If(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=Hm(e),[r,i]=qm(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class gs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Eo.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Uu(oe.min(),i,new Re(ge),vn(),de())}}class Eo{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Eo(r,n,de(),de(),de())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class gv{constructor(e,n){this.targetId=e,this.me=n}}class _v{constructor(e,n,r=dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Wm{constructor(){this.fe=0,this.ge=Km(),this.pe=dt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=de(),n=de(),r=de();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ie()}}),new Eo(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=Km()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Se(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class NT{constructor(e){this.Le=e,this.Be=new Map,this.ke=vn(),this.qe=Gm(),this.Qe=new Re(ge)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Zc(s))if(r===0){const o=new ne(s.path);this.Ue(n,o,at.newNoDocument(o,oe.min()))}else Se(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),c=l?this.Xe(l,e,o):1;if(c!==0){this.je(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,f)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=kr(r).toUint8Array()}catch(c){if(c instanceof Ky)return mi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new If(o,i,s)}catch(c){return mi(c instanceof gs?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&Zc(l.target)){const c=new ne(l.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,at.newNoDocument(c,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=de();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const f=this.Je(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Uu(e,n,this.Qe,this.ke,r);return this.ke=vn(),this.qe=Gm(),this.Qe=new Re(ge),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Wm,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Je(ge),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Wm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Gm(){return new Re(ne.comparator)}function Km(){return new Re(ne.comparator)}const MT={asc:"ASCENDING",desc:"DESCENDING"},VT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OT={and:"AND",or:"OR"};class LT{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function td(t,e){return t.useProto3Json||Lu(e)?e:{value:e}}function Ja(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yv(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xT(t,e){return Ja(t,e.toTimestamp())}function nn(t){return Se(!!t),oe.fromTimestamp(function(n){const r=Xn(n);return new Ue(r.seconds,r.nanos)}(t))}function kf(t,e){return nd(t,e).canonicalString()}function nd(t,e){const n=function(i){return new be(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function vv(t){const e=be.fromString(t);return Se(Iv(e)),e}function rd(t,e){return kf(t.databaseId,e.path)}function Xl(t,e){const n=vv(e);if(n.get(1)!==t.databaseId.projectId)throw new te($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(Ev(n))}function wv(t,e){return kf(t.databaseId,e)}function FT(t){const e=vv(t);return e.length===4?be.emptyPath():Ev(e)}function id(t){return new be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ev(t){return Se(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Qm(t,e,n){return{name:rd(t,e),fields:n.value.mapValue.fields}}function jT(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(f,w){return f.useProto3Json?(Se(w===void 0||typeof w=="string"),dt.fromBase64String(w||"")):(Se(w===void 0||w instanceof Buffer||w instanceof Uint8Array),dt.fromUint8Array(w||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(f){const w=f.code===void 0?$.UNKNOWN:mv(f.code);return new te(w,f.message||"")}(o);n=new _v(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Xl(t,r.document.name),s=nn(r.document.updateTime),o=r.document.createTime?nn(r.document.createTime):oe.min(),l=new Rt({mapValue:{fields:r.document.fields}}),c=at.newFoundDocument(i,s,o,l),f=r.targetIds||[],w=r.removedTargetIds||[];n=new va(f,w,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Xl(t,r.document),s=r.readTime?nn(r.readTime):oe.min(),o=at.newNoDocument(i,s),l=r.removedTargetIds||[];n=new va([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Xl(t,r.document),s=r.removedTargetIds||[];n=new va([],s,i,null)}else{if(!("filter"in e))return ie();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new bT(i,s),l=r.targetId;n=new gv(l,o)}}return n}function zT(t,e){let n;if(e instanceof wo)n={update:Qm(t,e.key,e.value)};else if(e instanceof Tf)n={delete:rd(t,e.key)};else if(e instanceof Mr)n={update:Qm(t,e.key,e.data),updateMask:QT(e.fieldMask)};else{if(!(e instanceof kT))return ie();n={verify:rd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Ya)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof to)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof no)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Xa)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:xT(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ie()}(t,e.precondition)),n}function BT(t,e){return t&&t.length>0?(Se(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?nn(i.updateTime):nn(s);return o.isEqual(oe.min())&&(o=nn(s)),new TT(o,i.transformResults||[])}(n,e))):[]}function UT(t,e){return{documents:[wv(t,e.path)]}}function $T(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=wv(t,i);const s=function(f){if(f.length!==0)return Sv(sn.create(f,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(f){if(f.length!==0)return f.map(w=>function(A){return{field:Hr(A.field),direction:WT(A.dir)}}(w))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=td(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{_t:n,parent:i}}function HT(t){let e=FT(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Se(r===1);const w=n.from[0];w.allDescendants?i=w.collectionId:e=e.child(w.collectionId)}let s=[];n.where&&(s=function(C){const A=Tv(C);return A instanceof sn&&Jy(A)?A.getFilters():[A]}(n.where));let o=[];n.orderBy&&(o=function(C){return C.map(A=>function(V){return new Qa(qr(V.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(A))}(n.orderBy));let l=null;n.limit&&(l=function(C){let A;return A=typeof C=="object"?C.value:C,Lu(A)?null:A}(n.limit));let c=null;n.startAt&&(c=function(C){const A=!!C.before,M=C.values||[];return new Ka(M,A)}(n.startAt));let f=null;return n.endAt&&(f=function(C){const A=!C.before,M=C.values||[];return new Ka(M,A)}(n.endAt)),uT(e,i,o,s,l,"F",c,f)}function qT(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Tv(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=qr(n.unaryFilter.field);return ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=qr(n.unaryFilter.field);return ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=qr(n.unaryFilter.field);return ze.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=qr(n.unaryFilter.field);return ze.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}(t):t.fieldFilter!==void 0?function(n){return ze.create(qr(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return sn.create(n.compositeFilter.filters.map(r=>Tv(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ie()}}(n.compositeFilter.op))}(t):ie()}function WT(t){return MT[t]}function GT(t){return VT[t]}function KT(t){return OT[t]}function Hr(t){return{fieldPath:t.canonicalString()}}function qr(t){return Xe.fromServerFormat(t.fieldPath)}function Sv(t){return t instanceof ze?function(n){if(n.op==="=="){if(Om(n.value))return{unaryFilter:{field:Hr(n.field),op:"IS_NAN"}};if(Vm(n.value))return{unaryFilter:{field:Hr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Om(n.value))return{unaryFilter:{field:Hr(n.field),op:"IS_NOT_NAN"}};if(Vm(n.value))return{unaryFilter:{field:Hr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hr(n.field),op:GT(n.op),value:n.value}}}(t):t instanceof sn?function(n){const r=n.getFilters().map(i=>Sv(i));return r.length===1?r[0]:{compositeFilter:{op:KT(n.op),filters:r}}}(t):ie()}function QT(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Iv(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n,r,i,s=oe.min(),o=oe.min(),l=dt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Rn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Rn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e){this.ct=e}}function XT(t){const e=HT({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ed(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(){this._n=new ZT}addToCollectionParentIndex(e,n){return this._n.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Yn.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Yn.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class ZT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Je(be.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Je(be.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new vi(0)}static Ln(){return new vi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(){this.changes=new Ni(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,at.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ms(r.mutation,i,qt.empty(),Ue.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){const i=mr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ms();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=mr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=vn();const o=Ns(),l=function(){return Ns()}();return n.forEach((c,f)=>{const w=r.get(f.key);i.has(f.key)&&(w===void 0||w.mutation instanceof Mr)?s=s.insert(f.key,f):w!==void 0?(o.set(f.key,w.mutation.getFieldMask()),Ms(w.mutation,f,w.mutation.getFieldMask(),Ue.now())):o.set(f.key,qt.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((f,w)=>o.set(f,w)),n.forEach((f,w)=>{var C;return l.set(f,new tS(w,(C=o.get(f))!==null&&C!==void 0?C:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Ns();let i=new Re((o,l)=>o-l),s=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const f=n.get(c);if(f===null)return;let w=r.get(c)||qt.empty();w=l.applyToLocalView(f,w),r.set(c,w);const C=(i.get(l.batchId)||de()).add(c);i=i.insert(l.batchId,C)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,w=c.value,C=ov();w.forEach(A=>{if(!s.has(A)){const M=hv(n.get(A),r.get(A));M!==null&&C.set(A,M),s=s.add(A)}}),o.push(this.documentOverlayCache.saveOverlays(e,f,C))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):lT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(mr());let l=-1,c=s;return o.next(f=>U.forEach(f,(w,C)=>(l<C.largestBatchId&&(l=C.largestBatchId),s.get(w)?U.resolve():this.remoteDocumentCache.getEntry(e,w).next(A=>{c=c.insert(w,A)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,c,f,de())).next(w=>({batchId:l,changes:sv(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=ms();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ms();return this.indexManager.getCollectionParents(e,s).next(l=>U.forEach(l,c=>{const f=function(C,A){return new xu(A,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(w=>{w.forEach((C,A)=>{o=o.insert(C,A)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,f)=>{const w=f.getKey();o.get(w)===null&&(o=o.insert(w,at.newInvalidDocument(w)))});let l=ms();return o.forEach((c,f)=>{const w=s.get(c);w!==void 0&&Ms(w.mutation,f,qt.empty(),Ue.now()),ju(n,f)&&(l=l.insert(c,f))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return U.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:nn(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:XT(i.bundledQuery),readTime:nn(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(){this.overlays=new Re(ne.comparator),this.hr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=mr();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=mr(),s=n.length+1,o=new ne(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Re((f,w)=>f-w);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let w=s.get(f.largestBatchId);w===null&&(w=mr(),s=s.insert(f.largestBatchId,w)),w.set(f.getKey(),f)}}const l=mr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,w)=>l.set(f,w)),!(l.size()>=i)););return U.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new CT(n,r));let s=this.hr.get(n);s===void 0&&(s=de(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(){this.Pr=new Je(He.Ir),this.Tr=new Je(He.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new He(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new He(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ne(new be([])),r=new He(n,e),i=new He(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ne(new be([])),r=new He(n,e),i=new He(n,e+1);let s=de();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new He(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class He{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ne.comparator(e.key,n.key)||ge(e.pr,n.pr)}static Er(e,n){return ge(e.pr,n.pr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Je(He.Ir)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new AT(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.wr=this.wr.add(new He(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new He(n,0),i=new He(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const l=this.Sr(o.pr);s.push(l)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Je(ge);return n.forEach(i=>{const s=new He(i,0),o=new He(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],l=>{r=r.add(l.pr)})}),U.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ne.isDocumentKey(s)||(s=s.child(""));const o=new He(new ne(s),0);let l=new Je(ge);return this.wr.forEachWhile(c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(l=l.add(c.pr)),!0)},o),U.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Se(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return U.forEach(n.mutations,i=>{const s=new He(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new He(n,0),i=this.wr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.vr=e,this.docs=function(){return new Re(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():at.newInvalidDocument(n))}getEntries(e,n){let r=vn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():at.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=vn();const o=n.path,l=new ne(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:w}}=c.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||H2($2(w),r)<=0||(i.has(w.key)||ju(n,w))&&(s=s.insert(w.key,w.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ie()}Fr(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new aS(this)}getSize(e){return U.resolve(this.size)}}class aS extends eS{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e){this.persistence=e,this.Mr=new Ni(n=>vf(n),wf),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Af,this.targetCount=0,this.Lr=vi.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),U.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new vi(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.qn(n),U.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,n){this.Br={},this.overlays={},this.kr=new mf(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new uS(this),this.indexManager=new JT,this.remoteDocumentCache=function(i){return new oS(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new YT(n),this.$r=new rS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iS,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new sS(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const i=new cS(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return U.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class cS extends W2{constructor(e){super(),this.currentSequenceNumber=e}}class Cf{constructor(e){this.persistence=e,this.zr=new Af,this.jr=null}static Hr(e){return new Cf(e)}get Jr(){if(this.jr)return this.jr;throw ie()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),U.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Jr,r=>{const i=ne.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,oe.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return U.or([()=>U.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=de(),i=de();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new bf(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return y8()?8:G2(m8())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new dS;return this.Ji(e,n,o).next(l=>{if(s.result=l,this.Ui)return this.Yi(e,n,o,l.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(us()<=he.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",$r(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),U.resolve()):(us()<=he.DEBUG&&Z("QueryEngine","Query:",$r(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(us()<=he.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",$r(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tn(n))):U.resolve())}ji(e,n){if(jm(n))return U.resolve(null);let r=tn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ed(n,null,"F"),r=tn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=de(...s);return this.zi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const f=this.Zi(n,l);return this.Xi(n,f,o,c.readTime)?this.ji(e,ed(n,null,"F")):this.es(e,f,n,c)}))})))}Hi(e,n,r,i){return jm(n)||i.isEqual(oe.min())?U.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?U.resolve(null):(us()<=he.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$r(n)),this.es(e,o,n,U2(i,-1)).next(l=>l))})}Zi(e,n){let r=new Je(rv(e));return n.forEach((i,s)=>{ju(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return us()<=he.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",$r(n)),this.zi.getDocumentsMatchingQuery(e,n,Yn.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Re(ge),this.rs=new Ni(s=>vf(s),wf),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nS(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function pS(t,e,n,r){return new hS(t,e,n,r)}async function kv(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=de();for(const f of i){o.push(f.batchId);for(const w of f.mutations)c=c.add(w.key)}for(const f of s){l.push(f.batchId);for(const w of f.mutations)c=c.add(w.key)}return n.localDocuments.getDocuments(r,c).next(f=>({us:f,removedBatchIds:o,addedBatchIds:l}))})})}function mS(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(l,c,f,w){const C=f.batch,A=C.keys();let M=U.resolve();return A.forEach(V=>{M=M.next(()=>w.getEntry(c,V)).next(N=>{const k=f.docVersions.get(V);Se(k!==null),N.version.compareTo(k)<0&&(C.applyToRemoteDocument(N,f),N.isValidDocument()&&(N.setReadTime(f.commitVersion),w.addEntry(N)))})}),M.next(()=>l.mutationQueue.removeMutationBatch(c,C))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=de();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(c=c.add(l.batch.mutations[f].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Av(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function gS(t,e){const n=le(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const l=[];e.targetChanges.forEach((w,C)=>{const A=i.get(C);if(!A)return;l.push(n.Qr.removeMatchingKeys(s,w.removedDocuments,C).next(()=>n.Qr.addMatchingKeys(s,w.addedDocuments,C)));let M=A.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(C)!==null?M=M.withResumeToken(dt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):w.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(w.resumeToken,r)),i=i.insert(C,M),function(N,k,S){return N.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(A,M,w)&&l.push(n.Qr.updateTargetData(s,M))});let c=vn(),f=de();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,w))}),l.push(_S(s,o,e.documentUpdates).next(w=>{c=w.cs,f=w.ls})),!r.isEqual(oe.min())){const w=n.Qr.getLastRemoteSnapshotVersion(s).next(C=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(w)}return U.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,f)).next(()=>c)}).then(s=>(n.ns=i,s))}function _S(t,e,n){let r=de(),i=de();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=vn();return n.forEach((l,c)=>{const f=s.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(oe.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):Z("LocalStore","Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)}),{cs:o,ls:i}})}function yS(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function vS(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Rn(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function sd(t,e,n){const r=le(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!vo(o))throw o;Z("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Ym(t,e,n){const r=le(t);let i=oe.min(),s=de();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,f,w){const C=le(c),A=C.rs.get(w);return A!==void 0?U.resolve(C.ns.get(A)):C.Qr.getTargetData(f,w)}(r,o,tn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:oe.min(),n?s:de())).next(l=>(wS(r,dT(e),l),{documents:l,hs:s})))}function wS(t,e,n){let r=t.ss.get(e)||oe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class Xm{constructor(){this.activeTargetIds=_T()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ES{constructor(){this.no=new Xm,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Xm,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ia=null;function Jl(){return ia===null?ia=function(){return 268435456+Math.round(2147483648*Math.random())}():ia++,"0x"+ia.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it="WebChannelConnection";class kS extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const l=Jl(),c=this.vo(n,r.toUriEncodedString());Z("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const f={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(f,s,o),this.Mo(n,c,f,i).then(w=>(Z("RestConnection",`Received RPC '${n}' ${l}: `,w),w),w=>{throw mi("RestConnection",`RPC '${n}' ${l} failed with error: `,w,"url: ",c,"request:",i),w})}xo(n,r,i,s,o,l){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ri}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=SS[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=Jl();return new Promise((o,l)=>{const c=new jy;c.setWithCredentials(!0),c.listenOnce(By.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ga.NO_ERROR:const w=c.getResponseJson();Z(it,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(w)),o(w);break;case ga.TIMEOUT:Z(it,`RPC '${e}' ${s} timed out`),l(new te($.DEADLINE_EXCEEDED,"Request time out"));break;case ga.HTTP_ERROR:const C=c.getStatus();if(Z(it,`RPC '${e}' ${s} failed with status:`,C,"response text:",c.getResponseText()),C>0){let A=c.getResponseJson();Array.isArray(A)&&(A=A[0]);const M=A==null?void 0:A.error;if(M&&M.status&&M.message){const V=function(k){const S=k.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(S)>=0?S:$.UNKNOWN}(M.status);l(new te(V,M.message))}else l(new te($.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new te($.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{Z(it,`RPC '${e}' ${s} completed.`)}});const f=JSON.stringify(i);Z(it,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",f,r,15)})}Oo(e,n,r){const i=Jl(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Hy(),l=$y(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.xmlHttpFactory=new zy({})),this.Fo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const w=s.join("");Z(it,`Creating RPC '${e}' stream ${i}: ${w}`,c);const C=o.createWebChannel(w,c);let A=!1,M=!1;const V=new IS({lo:k=>{M?Z(it,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(A||(Z(it,`Opening RPC '${e}' stream ${i} transport.`),C.open(),A=!0),Z(it,`RPC '${e}' stream ${i} sending:`,k),C.send(k))},ho:()=>C.close()}),N=(k,S,b)=>{k.listen(S,D=>{try{b(D)}catch(u){setTimeout(()=>{throw u},0)}})};return N(C,ps.EventType.OPEN,()=>{M||(Z(it,`RPC '${e}' stream ${i} transport opened.`),V.mo())}),N(C,ps.EventType.CLOSE,()=>{M||(M=!0,Z(it,`RPC '${e}' stream ${i} transport closed`),V.po())}),N(C,ps.EventType.ERROR,k=>{M||(M=!0,mi(it,`RPC '${e}' stream ${i} transport errored:`,k),V.po(new te($.UNAVAILABLE,"The operation could not be completed")))}),N(C,ps.EventType.MESSAGE,k=>{var S;if(!M){const b=k.data[0];Se(!!b);const D=b,u=D.error||((S=D[0])===null||S===void 0?void 0:S.error);if(u){Z(it,`RPC '${e}' stream ${i} received error:`,u);const p=u.status;let h=function(y){const v=Le[y];if(v!==void 0)return mv(v)}(p),m=u.message;h===void 0&&(h=$.INTERNAL,m="Unknown error status: "+p+" with message "+u.message),M=!0,V.po(new te(h,m)),C.close()}else Z(it,`RPC '${e}' stream ${i} received:`,b),V.yo(b)}}),N(l,Uy.STAT_EVENT,k=>{k.stat===Qc.PROXY?Z(it,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===Qc.NOPROXY&&Z(it,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{V.fo()},0),V}}function Zl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t){return new LT(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&Z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,n,r,i,s,o,l,c){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Cv(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(yn(n.toString()),yn("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new te($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return Z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class AS extends bv{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=jT(this.serializer,e),r=function(s){if(!("targetChange"in s))return oe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?oe.min():o.readTime?nn(o.readTime):oe.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=id(this.serializer),n.addTarget=function(s,o){let l;const c=o.target;if(l=Zc(c)?{documents:UT(s,c)}:{query:$T(s,c)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=yv(s,o.resumeToken);const f=td(s,o.expectedCount);f!==null&&(l.expectedCount=f)}else if(o.snapshotVersion.compareTo(oe.min())>0){l.readTime=Ja(s,o.snapshotVersion.toTimestamp());const f=td(s,o.expectedCount);f!==null&&(l.expectedCount=f)}return l}(this.serializer,e);const r=qT(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=id(this.serializer),n.removeTarget=e,this.i_(n)}}class CS extends bv{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=BT(e.writeResults,e.commitTime),r=nn(e.commitTime);return this.listener.A_(r,n)}return Se(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=id(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>zT(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new te($.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,nd(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te($.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.xo(e,nd(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te($.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class PS{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(yn(n),this.y_=!1):Z("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{Vr(this)&&(Z("RemoteStore","Restarting streams for network reachability change."),await async function(c){const f=le(c);f.M_.add(4),await To(f),f.N_.set("Unknown"),f.M_.delete(4),await Hu(f)}(this))})}),this.N_=new PS(r,i)}}async function Hu(t){if(Vr(t))for(const e of t.x_)await e(!0)}async function To(t){for(const e of t.x_)await e(!1)}function Pv(t,e){const n=le(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Nf(n)?Df(n):Mi(n).Xo()&&Rf(n,e))}function Pf(t,e){const n=le(t),r=Mi(n);n.F_.delete(e),r.Xo()&&Rv(n,e),n.F_.size===0&&(r.Xo()?r.n_():Vr(n)&&n.N_.set("Unknown"))}function Rf(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mi(t).P_(e)}function Rv(t,e){t.L_.xe(e),Mi(t).I_(e)}function Df(t){t.L_=new NT({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Mi(t).start(),t.N_.w_()}function Nf(t){return Vr(t)&&!Mi(t).Zo()&&t.F_.size>0}function Vr(t){return le(t).M_.size===0}function Dv(t){t.L_=void 0}async function DS(t){t.N_.set("Online")}async function NS(t){t.F_.forEach((e,n)=>{Rf(t,e)})}async function MS(t,e){Dv(t),Nf(t)?(t.N_.D_(e),Df(t)):t.N_.set("Unknown")}async function VS(t,e,n){if(t.N_.set("Online"),e instanceof _v&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.F_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.F_.delete(l),i.L_.removeTarget(l))}(t,e)}catch(r){Z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Za(t,r)}else if(e instanceof va?t.L_.Ke(e):e instanceof gv?t.L_.He(e):t.L_.We(e),!n.isEqual(oe.min()))try{const r=await Av(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.L_.rt(o);return l.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const w=s.F_.get(f);w&&s.F_.set(f,w.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,f)=>{const w=s.F_.get(c);if(!w)return;s.F_.set(c,w.withResumeToken(dt.EMPTY_BYTE_STRING,w.snapshotVersion)),Rv(s,c);const C=new Rn(w.target,c,f,w.sequenceNumber);Rf(s,C)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Z("RemoteStore","Failed to raise snapshot:",r),await Za(t,r)}}async function Za(t,e,n){if(!vo(e))throw e;t.M_.add(1),await To(t),t.N_.set("Offline"),n||(n=()=>Av(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Hu(t)})}function Nv(t,e){return e().catch(n=>Za(t,n,e))}async function qu(t){const e=le(t),n=Jn(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;OS(e);)try{const i=await yS(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,LS(e,i)}catch(i){await Za(e,i)}Mv(e)&&Vv(e)}function OS(t){return Vr(t)&&t.v_.length<10}function LS(t,e){t.v_.push(e);const n=Jn(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function Mv(t){return Vr(t)&&!Jn(t).Zo()&&t.v_.length>0}function Vv(t){Jn(t).start()}async function xS(t){Jn(t).V_()}async function FS(t){const e=Jn(t);for(const n of t.v_)e.d_(n.mutations)}async function jS(t,e,n){const r=t.v_.shift(),i=Sf.from(r,e,n);await Nv(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await qu(t)}async function zS(t,e){e&&Jn(t).E_&&await async function(r,i){if(function(o){return PT(o)&&o!==$.ABORTED}(i.code)){const s=r.v_.shift();Jn(r).t_(),await Nv(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await qu(r)}}(t,e),Mv(t)&&Vv(t)}async function Zm(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),Z("RemoteStore","RemoteStore received new credentials");const r=Vr(n);n.M_.add(3),await To(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Hu(n)}async function BS(t,e){const n=le(t);e?(n.M_.delete(2),await Hu(n)):e||(n.M_.add(2),await To(n),n.N_.set("Unknown"))}function Mi(t){return t.B_||(t.B_=function(n,r,i){const s=le(n);return s.f_(),new AS(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:DS.bind(null,t),To:NS.bind(null,t),Ao:MS.bind(null,t),h_:VS.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),Nf(t)?Df(t):t.N_.set("Unknown")):(await t.B_.stop(),Dv(t))})),t.B_}function Jn(t){return t.k_||(t.k_=function(n,r,i){const s=le(n);return s.f_(),new CS(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:xS.bind(null,t),Ao:zS.bind(null,t),R_:FS.bind(null,t),A_:jS.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await qu(t)):(await t.k_.stop(),t.v_.length>0&&(Z("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new Mf(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vf(t,e){if(yn("AsyncQueue",`${e}: ${t}`),vo(t))return new te($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=ms(),this.sortedSet=new Re(this.comparator)}static emptySet(e){return new ci(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ci)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ci;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(){this.q_=new Re(ne.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):ie():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class wi{constructor(e,n,r,i,s,o,l,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new wi(e,n,ci.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class $S{constructor(){this.queries=new Ni(e=>nv(e),Fu),this.onlineState="Unknown",this.z_=new Set}}async function HS(t,e){const n=le(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new US,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=Vf(o,`Initialization of query '${$r(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&Of(n)}async function qS(t,e){const n=le(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function WS(t,e){const n=le(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.U_)l.H_(i)&&(r=!0);o.K_=i}}r&&Of(n)}function GS(t,e,n){const r=le(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function Of(t){t.z_.forEach(e=>{e.next()})}var od,tg;(tg=od||(od={})).J_="default",tg.Cache="cache";class KS{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new wi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=wi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==od.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e){this.key=e}}class Lv{constructor(e){this.key=e}}class QS{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=de(),this.mutatedKeys=de(),this.Ia=rv(e),this.Ta=new ci(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new eg,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((w,C)=>{const A=i.get(w),M=ju(this.query,C)?C:null,V=!!A&&this.mutatedKeys.has(A.key),N=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let k=!1;A&&M?A.data.isEqual(M.data)?V!==N&&(r.track({type:3,doc:M}),k=!0):this.Ra(A,M)||(r.track({type:2,doc:M}),k=!0,(c&&this.Ia(M,c)>0||f&&this.Ia(M,f)<0)&&(l=!0)):!A&&M?(r.track({type:0,doc:M}),k=!0):A&&!M&&(r.track({type:1,doc:A}),k=!0,(c||f)&&(l=!0)),k&&(M?(o=o.add(M),s=N?s.add(w):s.delete(w)):(o=o.delete(w),s=s.delete(w)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const w=this.query.limitType==="F"?o.last():o.first();o=o.delete(w.key),s=s.delete(w.key),r.track({type:1,doc:w})}return{Ta:o,Aa:r,Xi:l,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((w,C)=>function(M,V){const N=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return N(M)-N(V)}(w.type,C.type)||this.Ia(w.doc,C.doc)),this.Va(r),i=i!=null&&i;const l=n&&!i?this.ma():[],c=this.Pa.size===0&&this.current&&!i?1:0,f=c!==this.ha;return this.ha=c,o.length!==0||f?{snapshot:new wi(this.query,e.Ta,s,o,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:l}:{fa:l}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new eg,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=de(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new Lv(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new Ov(r))}),n}pa(e){this.la=e.hs,this.Pa=de();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return wi.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class YS{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class XS{constructor(e){this.key=e,this.wa=!1}}class JS{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Ni(l=>nv(l),Fu),this.Da=new Map,this.Ca=new Set,this.va=new Re(ne.comparator),this.Fa=new Map,this.Ma=new Af,this.xa={},this.Oa=new Map,this.Na=vi.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function ZS(t,e,n=!0){const r=Uv(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await xv(r,e,n,!0),i}async function eI(t,e){const n=Uv(t);await xv(n,e,!0,!1)}async function xv(t,e,n,r){const i=await vS(t.localStore,tn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let l;return r&&(l=await tI(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Pv(t.remoteStore,i),l}async function tI(t,e,n,r,i){t.Ba=(C,A,M)=>async function(N,k,S,b){let D=k.view.da(S);D.Xi&&(D=await Ym(N.localStore,k.query,!1).then(({documents:m})=>k.view.da(m,D)));const u=b&&b.targetChanges.get(k.targetId),p=b&&b.targetMismatches.get(k.targetId)!=null,h=k.view.applyChanges(D,N.isPrimaryClient,u,p);return rg(N,k.targetId,h.fa),h.snapshot}(t,C,A,M);const s=await Ym(t.localStore,e,!0),o=new QS(e,s.hs),l=o.da(s.documents),c=Eo.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=o.applyChanges(l,t.isPrimaryClient,c);rg(t,n,f.fa);const w=new YS(e,n,o);return t.ba.set(e,w),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),f.snapshot}async function nI(t,e,n){const r=le(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!Fu(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await sd(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Pf(r.remoteStore,i.targetId),ad(r,i.targetId)}).catch(yo)):(ad(r,i.targetId),await sd(r.localStore,i.targetId,!0))}async function rI(t,e){const n=le(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Pf(n.remoteStore,r.targetId))}async function iI(t,e,n){const r=dI(t);try{const i=await function(o,l){const c=le(o),f=Ue.now(),w=l.reduce((M,V)=>M.add(V.key),de());let C,A;return c.persistence.runTransaction("Locally write mutations","readwrite",M=>{let V=vn(),N=de();return c.os.getEntries(M,w).next(k=>{V=k,V.forEach((S,b)=>{b.isValidDocument()||(N=N.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(M,V)).next(k=>{C=k;const S=[];for(const b of l){const D=IT(b,C.get(b.key).overlayedDocument);D!=null&&S.push(new Mr(b.key,D,Qy(D.value.mapValue),Wt.exists(!0)))}return c.mutationQueue.addMutationBatch(M,f,S,l)}).next(k=>{A=k;const S=k.applyToLocalDocumentSet(C,N);return c.documentOverlayCache.saveOverlays(M,k.batchId,S)})}).then(()=>({batchId:A.batchId,changes:sv(C)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let f=o.xa[o.currentUser.toKey()];f||(f=new Re(ge)),f=f.insert(l,c),o.xa[o.currentUser.toKey()]=f}(r,i.batchId,n),await So(r,i.changes),await qu(r.remoteStore)}catch(i){const s=Vf(i,"Failed to persist write");n.reject(s)}}async function Fv(t,e){const n=le(t);try{const r=await gS(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(Se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?Se(o.wa):i.removedDocuments.size>0&&(Se(o.wa),o.wa=!1))}),await So(n,r,e)}catch(r){await yo(r)}}function ng(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const l=o.view.j_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=le(o);c.onlineState=l;let f=!1;c.queries.forEach((w,C)=>{for(const A of C.U_)A.j_(l)&&(f=!0)}),f&&Of(c)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sI(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new Re(ne.comparator);o=o.insert(s,at.newNoDocument(s,oe.min()));const l=de().add(s),c=new Uu(oe.min(),new Map,new Re(ge),o,l);await Fv(r,c),r.va=r.va.remove(s),r.Fa.delete(e),Lf(r)}else await sd(r.localStore,e,!1).then(()=>ad(r,e,n)).catch(yo)}async function oI(t,e){const n=le(t),r=e.batch.batchId;try{const i=await mS(n.localStore,e);zv(n,r,null),jv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await So(n,i)}catch(i){await yo(i)}}async function aI(t,e,n){const r=le(t);try{const i=await function(o,l){const c=le(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let w;return c.mutationQueue.lookupMutationBatch(f,l).next(C=>(Se(C!==null),w=C.keys(),c.mutationQueue.removeMutationBatch(f,C))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,w,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,w)).next(()=>c.localDocuments.getDocuments(f,w))})}(r.localStore,e);zv(r,e,n),jv(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await So(r,i)}catch(i){await yo(i)}}function jv(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function zv(t,e,n){const r=le(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function ad(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||Bv(t,r)})}function Bv(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(Pf(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),Lf(t))}function rg(t,e,n){for(const r of n)r instanceof Ov?(t.Ma.addReference(r.key,e),uI(t,r)):r instanceof Lv?(Z("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||Bv(t,r.key)):ie()}function uI(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(Z("SyncEngine","New document in limbo: "+n),t.Ca.add(r),Lf(t))}function Lf(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new ne(be.fromString(e)),r=t.Na.next();t.Fa.set(r,new XS(n)),t.va=t.va.insert(n,r),Pv(t.remoteStore,new Rn(tn(Ef(n.path)),r,"TargetPurposeLimboResolution",mf.oe))}}async function So(t,e,n){const r=le(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((l,c)=>{o.push(r.Ba(c,e,n).then(f=>{if((f||n)&&r.isPrimaryClient){const w=f&&!f.fromCache;r.sharedClientState.updateQueryState(c.targetId,w?"current":"not-current")}if(f){i.push(f);const w=bf.Ki(c.targetId,f);s.push(w)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(c,f){const w=le(c);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>U.forEach(f,A=>U.forEach(A.qi,M=>w.persistence.referenceDelegate.addReference(C,A.targetId,M)).next(()=>U.forEach(A.Qi,M=>w.persistence.referenceDelegate.removeReference(C,A.targetId,M)))))}catch(C){if(!vo(C))throw C;Z("LocalStore","Failed to update sequence numbers: "+C)}for(const C of f){const A=C.targetId;if(!C.fromCache){const M=w.ns.get(A),V=M.snapshotVersion,N=M.withLastLimboFreeSnapshotVersion(V);w.ns=w.ns.insert(A,N)}}}(r.localStore,s))}async function lI(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){Z("SyncEngine","User change. New user:",e.toKey());const r=await kv(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(l=>{l.forEach(c=>{c.reject(new te($.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await So(n,r.us)}}function cI(t,e){const n=le(t),r=n.Fa.get(e);if(r&&r.wa)return de().add(r.key);{let i=de();const s=n.Da.get(e);if(!s)return i;for(const o of s){const l=n.ba.get(o);i=i.unionWith(l.view.Ea)}return i}}function Uv(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sI.bind(null,e),e.Sa.h_=WS.bind(null,e.eventManager),e.Sa.ka=GS.bind(null,e.eventManager),e}function dI(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aI.bind(null,e),e}class ig{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=$u(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return pS(this.persistence,new fS,e.initialUser,this.serializer)}createPersistence(e){return new lS(Cf.Hr,this.serializer)}createSharedClientState(e){return new ES}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class fI{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ng(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lI.bind(null,this.syncEngine),await BS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $S}()}createDatastore(e){const n=$u(e.databaseInfo.databaseId),r=function(s){return new kS(s)}(e.databaseInfo);return function(s,o,l,c){return new bS(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new RS(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>ng(this.syncEngine,n,0),function(){return Jm.D()?new Jm:new TS}())}createSyncEngine(e,n){return function(i,s,o,l,c,f,w){const C=new JS(i,s,o,l,c,f);return w&&(C.La=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=le(r);Z("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await To(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):yn("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ot.UNAUTHENTICATED,this.clientId=Wy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Z("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Vf(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ec(t,e){t.asyncQueue.verifyOperationInProgress(),Z("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await kv(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function sg(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gI(t);Z("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Zm(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Zm(e.remoteStore,i)),t._onlineComponents=e}function mI(t){return t.name==="FirebaseError"?t.code===$.FAILED_PRECONDITION||t.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function gI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z("FirestoreClient","Using user provided OfflineComponentProvider");try{await ec(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!mI(n))throw n;mi("Error using user provided cache. Falling back to memory cache: "+n),await ec(t,new ig)}}else Z("FirestoreClient","Using default OfflineComponentProvider"),await ec(t,new ig);return t._offlineComponents}async function $v(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z("FirestoreClient","Using user provided OnlineComponentProvider"),await sg(t,t._uninitializedComponentsProvider._online)):(Z("FirestoreClient","Using default OnlineComponentProvider"),await sg(t,new fI))),t._onlineComponents}function _I(t){return $v(t).then(e=>e.syncEngine)}async function og(t){const e=await $v(t),n=e.eventManager;return n.onListen=ZS.bind(null,e.syncEngine),n.onUnlisten=nI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=eI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=rI.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(t,e,n){if(!n)throw new te($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yI(t,e,n,r){if(e===!0&&r===!0)throw new te($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ug(t){if(!ne.isDocumentKey(t))throw new te($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function lg(t){if(ne.isDocumentKey(t))throw new te($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie()}function Bn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xf(t);throw new te($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hv((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new te($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new te($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new te($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new te($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cg(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new M2;switch(r.type){case"firstParty":return new x2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ag.get(n);r&&(Z("ComponentProvider","Removing Datastore"),ag.delete(n),r.terminate())}(this),Promise.resolve()}}function vI(t,e,n,r={}){var i;const s=(t=Bn(t,Wu))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&mi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=ot.MOCK_USER;else{l=p8(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new te($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new ot(f)}t._authCredentials=new V2(new qy(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gu(this.firestore,e,this._query)}}class It{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Un(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}}class Un extends Gu{constructor(e,n,r){super(e,n,Ef(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new ne(e))}withConverter(e){return new Un(this.firestore,e,this._path)}}function wI(t,e,...n){if(t=Kn(t),qv("collection","path",e),t instanceof Wu){const r=be.fromString(e,...n);return lg(r),new Un(t,null,r)}{if(!(t instanceof It||t instanceof Un))throw new te($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(be.fromString(e,...n));return lg(r),new Un(t.firestore,null,r)}}function ud(t,e,...n){if(t=Kn(t),arguments.length===1&&(e=Wy.newId()),qv("doc","path",e),t instanceof Wu){const r=be.fromString(e,...n);return ug(r),new It(t,null,new ne(r))}{if(!(t instanceof It||t instanceof Un))throw new te($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(be.fromString(e,...n));return ug(r),new It(t.firestore,t instanceof Un?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Cv(this,"async_queue_retry"),this.hu=()=>{const n=Zl();n&&Z("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Zl();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Zl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new vr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!vo(e))throw e;Z("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw yn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=Mf.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&ie()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function dg(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Ei extends Wu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new EI}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Gv(this),this._firestoreClient.terminate()}}function TI(t,e){const n=typeof t=="object"?t:Oy(),r=typeof t=="string"?t:"(default)",i=_o(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=f8("firestore");s&&vI(i,...s)}return i}function Wv(t){return t._firestoreClient||Gv(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Gv(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,f,w){return new Y2(l,c,f,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,Hv(w.experimentalLongPollingOptions),w.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new pI(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ti(dt.fromBase64String(e))}catch(n){throw new te($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ti(dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=/^__.*__$/;class II{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Mr(e,this.data,this.fieldMask,n,this.fieldTransforms):new wo(e,this.data,n,this.fieldTransforms)}}function Qv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}class zf{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new zf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return eu(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(Qv(this.fu)&&SI.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class kI{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$u(e)}Fu(e,n,r,i=!1){return new zf({fu:e,methodName:n,vu:r,path:Xe.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yv(t){const e=t._freezeSettings(),n=$u(t._databaseId);return new kI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Xv(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);t0("Data must be an object, but it was:",o,r);const l=Zv(r,o);let c,f;if(s.merge)c=new qt(o.fieldMask),f=o.fieldTransforms;else if(s.mergeFields){const w=[];for(const C of s.mergeFields){const A=AI(e,C,n);if(!o.contains(A))throw new te($.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);bI(w,A)||w.push(A)}c=new qt(w),f=o.fieldTransforms.filter(C=>c.covers(C.field))}else c=null,f=o.fieldTransforms;return new II(new Rt(l),c,f)}function Jv(t,e){if(e0(t=Kn(t)))return t0("Unsupported field value:",e,t),Zv(t,e);if(t instanceof Kv)return function(r,i){if(!Qv(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let c=Jv(l,i.bu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Kn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yT(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ue.fromDate(r);return{timestampValue:Ja(i.serializer,s)}}if(r instanceof Ue){const s=new Ue(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ja(i.serializer,s)}}if(r instanceof jf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ti)return{bytesValue:yv(i.serializer,r._byteString)};if(r instanceof It){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:kf(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${xf(r)}`)}(t,e)}function Zv(t,e){const n={};return Gy(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Di(t,(r,i)=>{const s=Jv(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function e0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ue||t instanceof jf||t instanceof Ti||t instanceof It||t instanceof Kv)}function t0(t,e,n){if(!e0(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=xf(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function AI(t,e,n){if((e=Kn(e))instanceof Ff)return e._internalPath;if(typeof e=="string")return n0(t,e);throw eu("Field path arguments must be of type string or ",t,!1,void 0,n)}const CI=new RegExp("[~\\*/\\[\\]]");function n0(t,e,n){if(e.search(CI)>=0)throw eu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ff(...e.split("."))._internalPath}catch{throw eu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function eu(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new te($.INVALID_ARGUMENT,l+t+c)}function bI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(i0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PI extends r0{data(){return super.data()}}function i0(t,e){return typeof e=="string"?n0(t,e):e instanceof Ff?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class DI{convertValue(e,n="none"){switch(Ar(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Di(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new jf(Fe(e.latitude),Fe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=_f(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Js(e));default:return null}}convertTimestamp(e){const n=Xn(e);return new Ue(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=be.fromString(e);Se(Iv(r));const i=new Zs(r.get(1),r.get(3)),s=new ne(r.popFirst(5));return i.isEqual(n)||yn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class o0 extends r0{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(i0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class wa extends o0{data(e={}){return super.data(e)}}class NI{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new _s(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new wa(this._firestore,this._userDataWriter,r.key,r,new _s(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new wa(i._firestore,i._userDataWriter,l.doc.key,l.doc,new _s(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new wa(i._firestore,i._userDataWriter,l.doc.key,l.doc,new _s(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,w=-1;return l.type!==0&&(f=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),w=o.indexOf(l.doc.key)),{type:MI(l.type),doc:c,oldIndex:f,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function MI(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie()}}class a0 extends DI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ti(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,n)}}function VI(t,e,n){t=Bn(t,It);const r=Bn(t.firestore,Ei),i=s0(t.converter,e,n);return Bf(r,[Xv(Yv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Wt.none())])}function OI(t){return Bf(Bn(t.firestore,Ei),[new Tf(t._key,Wt.none())])}function LI(t,e){const n=Bn(t.firestore,Ei),r=ud(t),i=s0(t.converter,e);return Bf(n,[Xv(Yv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Wt.exists(!1))]).then(()=>r)}function xI(t,...e){var n,r,i;t=Kn(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||dg(e[o])||(s=e[o],o++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(dg(e[o])){const C=e[o];e[o]=(n=C.next)===null||n===void 0?void 0:n.bind(C),e[o+1]=(r=C.error)===null||r===void 0?void 0:r.bind(C),e[o+2]=(i=C.complete)===null||i===void 0?void 0:i.bind(C)}let c,f,w;if(t instanceof It)f=Bn(t.firestore,Ei),w=Ef(t._key.path),c={next:C=>{e[o]&&e[o](FI(f,t,C))},error:e[o+1],complete:e[o+2]};else{const C=Bn(t,Gu);f=Bn(C.firestore,Ei),w=C._query;const A=new a0(f);c={next:M=>{e[o]&&e[o](new NI(f,A,C,M))},error:e[o+1],complete:e[o+2]},RI(t._query)}return function(A,M,V,N){const k=new hI(N),S=new KS(M,k,V);return A.asyncQueue.enqueueAndForget(async()=>HS(await og(A),S)),()=>{k.$a(),A.asyncQueue.enqueueAndForget(async()=>qS(await og(A),S))}}(Wv(f),w,l,c)}function Bf(t,e){return function(r,i){const s=new vr;return r.asyncQueue.enqueueAndForget(async()=>iI(await _I(r),i,s)),s.promise}(Wv(t),e)}function FI(t,e,n){const r=n.docs.get(e._key),i=new a0(t);return new o0(t,i,e._key,r,new _s(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ri=i})(S2),Qn(new _n("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Ei(new O2(r.getProvider("auth-internal")),new j2(r.getProvider("app-check-internal")),function(f,w){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new te($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zs(f.options.projectId,w)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),en(Rm,"4.6.3",e),en(Rm,"4.6.3","esm2017")})();var jI="firebase",zI="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en(jI,zI,"app");const u0="@firebase/installations",Uf="0.6.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=1e4,c0=`w:${Uf}`,d0="FIS_v2",BI="https://firebaseinstallations.googleapis.com/v1",UI=60*60*1e3,$I="installations",HI="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Cr=new Ou($I,HI,qI);function f0(t){return t instanceof tr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0({projectId:t}){return`${BI}/projects/${t}/installations`}function p0(t){return{token:t.token,requestStatus:2,expiresIn:GI(t.expiresIn),creationTime:Date.now()}}async function m0(t,e){const r=(await e.json()).error;return Cr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function g0({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function WI(t,{refreshToken:e}){const n=g0(t);return n.append("Authorization",KI(e)),n}async function _0(t){const e=await t();return e.status>=500&&e.status<600?t():e}function GI(t){return Number(t.replace("s","000"))}function KI(t){return`${d0} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=h0(t),i=g0(t),s=e.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const o={fid:n,authVersion:d0,appId:t.appId,sdkVersion:c0},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await _0(()=>fetch(r,l));if(c.ok){const f=await c.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:p0(f.authToken)}}else throw await m0("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=/^[cdef][\w-]{21}$/,ld="";function JI(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=ZI(t);return XI.test(n)?n:ld}catch{return ld}}function ZI(t){return YI(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=new Map;function w0(t,e){const n=Ku(t);E0(n,e),ek(n,e)}function E0(t,e){const n=v0.get(t);if(n)for(const r of n)r(e)}function ek(t,e){const n=tk();n&&n.postMessage({key:t,fid:e}),nk()}let gr=null;function tk(){return!gr&&"BroadcastChannel"in self&&(gr=new BroadcastChannel("[Firebase] FID Change"),gr.onmessage=t=>{E0(t.data.key,t.data.fid)}),gr}function nk(){v0.size===0&&gr&&(gr.close(),gr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk="firebase-installations-database",ik=1,br="firebase-installations-store";let tc=null;function $f(){return tc||(tc=My(rk,ik,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(br)}}})),tc}async function tu(t,e){const n=Ku(t),i=(await $f()).transaction(br,"readwrite"),s=i.objectStore(br),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&w0(t,e.fid),e}async function T0(t){const e=Ku(t),r=(await $f()).transaction(br,"readwrite");await r.objectStore(br).delete(e),await r.done}async function Qu(t,e){const n=Ku(t),i=(await $f()).transaction(br,"readwrite"),s=i.objectStore(br),o=await s.get(n),l=e(o);return l===void 0?await s.delete(n):await s.put(l,n),await i.done,l&&(!o||o.fid!==l.fid)&&w0(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hf(t){let e;const n=await Qu(t.appConfig,r=>{const i=sk(r),s=ok(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===ld?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function sk(t){const e=t||{fid:JI(),registrationStatus:0};return S0(e)}function ok(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Cr.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=ak(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:uk(t)}:{installationEntry:e}}async function ak(t,e){try{const n=await QI(t,e);return tu(t.appConfig,n)}catch(n){throw f0(n)&&n.customData.serverCode===409?await T0(t.appConfig):await tu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function uk(t){let e=await fg(t.appConfig);for(;e.registrationStatus===1;)await y0(100),e=await fg(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Hf(t);return r||n}return e}function fg(t){return Qu(t,e=>{if(!e)throw Cr.create("installation-not-found");return S0(e)})}function S0(t){return lk(t)?{fid:t.fid,registrationStatus:0}:t}function lk(t){return t.registrationStatus===1&&t.registrationTime+l0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ck({appConfig:t,heartbeatServiceProvider:e},n){const r=dk(t,n),i=WI(t,n),s=e.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const o={installation:{sdkVersion:c0,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await _0(()=>fetch(r,l));if(c.ok){const f=await c.json();return p0(f)}else throw await m0("Generate Auth Token",c)}function dk(t,{fid:e}){return`${h0(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qf(t,e=!1){let n;const r=await Qu(t.appConfig,s=>{if(!I0(s))throw Cr.create("not-registered");const o=s.authToken;if(!e&&pk(o))return s;if(o.requestStatus===1)return n=fk(t,e),s;{if(!navigator.onLine)throw Cr.create("app-offline");const l=gk(s);return n=hk(t,l),l}});return n?await n:r.authToken}async function fk(t,e){let n=await hg(t.appConfig);for(;n.authToken.requestStatus===1;)await y0(100),n=await hg(t.appConfig);const r=n.authToken;return r.requestStatus===0?qf(t,e):r}function hg(t){return Qu(t,e=>{if(!I0(e))throw Cr.create("not-registered");const n=e.authToken;return _k(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function hk(t,e){try{const n=await ck(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await tu(t.appConfig,r),n}catch(n){if(f0(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await T0(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await tu(t.appConfig,r)}throw n}}function I0(t){return t!==void 0&&t.registrationStatus===2}function pk(t){return t.requestStatus===2&&!mk(t)}function mk(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+UI}function gk(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function _k(t){return t.requestStatus===1&&t.requestTime+l0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yk(t){const e=t,{installationEntry:n,registrationPromise:r}=await Hf(e);return r?r.catch(console.error):qf(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vk(t,e=!1){const n=t;return await wk(n),(await qf(n,e)).token}async function wk(t){const{registrationPromise:e}=await Hf(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(t){if(!t||!t.options)throw nc("App Configuration");if(!t.name)throw nc("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw nc(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function nc(t){return Cr.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="installations",Tk="installations-internal",Sk=t=>{const e=t.getProvider("app").getImmediate(),n=Ek(e),r=_o(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Ik=t=>{const e=t.getProvider("app").getImmediate(),n=_o(e,k0).getImmediate();return{getId:()=>yk(n),getToken:i=>vk(n,i)}};function kk(){Qn(new _n(k0,Sk,"PUBLIC")),Qn(new _n(Tk,Ik,"PRIVATE"))}kk();en(u0,Uf);en(u0,Uf,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu="analytics",Ak="firebase_id",Ck="origin",bk=60*1e3,Pk="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wf="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt=new ff("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},kt=new Ou("analytics","Analytics",Rk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(t){if(!t.startsWith(Wf)){const e=kt.create("invalid-gtag-resource",{gtagURL:t});return wt.warn(e.message),""}return t}function A0(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Nk(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Mk(t,e){const n=Nk("firebase-js-sdk-policy",{createScriptURL:Dk}),r=document.createElement("script"),i=`${Wf}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Vk(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Ok(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const c=(await A0(n)).find(f=>f.measurementId===i);c&&await e[c.appId]}}catch(l){wt.error(l)}t("config",i,s)}async function Lk(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const l=await A0(n);for(const c of o){const f=l.find(C=>C.measurementId===c),w=f&&e[f.appId];if(w)s.push(w);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){wt.error(s)}}function xk(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[l,c]=o;await Lk(t,e,n,l,c)}else if(s==="config"){const[l,c]=o;await Ok(t,e,n,r,l,c)}else if(s==="consent"){const[l,c]=o;t("consent",l,c)}else if(s==="get"){const[l,c,f]=o;t("get",l,c,f)}else if(s==="set"){const[l]=o;t("set",l)}else t(s,...o)}catch(l){wt.error(l)}}return i}function Fk(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=xk(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function jk(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Wf)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=30,Bk=1e3;class Uk{constructor(e={},n=Bk){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const C0=new Uk;function $k(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Hk(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:$k(r)},s=Pk.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let l="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw kt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function qk(t,e=C0,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw kt.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw kt.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new Kk;return setTimeout(async()=>{l.abort()},bk),b0({appId:r,apiKey:i,measurementId:s},o,l,e)}async function b0(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=C0){var s;const{appId:o,measurementId:l}=t;try{await Wk(r,e)}catch(c){if(l)return wt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:l};throw c}try{const c=await Hk(t);return i.deleteThrottleMetadata(o),c}catch(c){const f=c;if(!Gk(f)){if(i.deleteThrottleMetadata(o),l)return wt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:o,measurementId:l};throw c}const w=Number((s=f==null?void 0:f.customData)===null||s===void 0?void 0:s.httpStatus)===503?wm(n,i.intervalMillis,zk):wm(n,i.intervalMillis),C={throttleEndTimeMillis:Date.now()+w,backoffCount:n+1};return i.setThrottleMetadata(o,C),wt.debug(`Calling attemptFetch again in ${w} millis`),b0(t,C,r,i)}}function Wk(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(kt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Gk(t){if(!(t instanceof tr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Kk{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Qk(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(){if(Py())try{await Ry()}catch(t){return wt.warn(kt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return wt.warn(kt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Xk(t,e,n,r,i,s,o){var l;const c=qk(t);c.then(M=>{n[M.measurementId]=M.appId,t.options.measurementId&&M.measurementId!==t.options.measurementId&&wt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${M.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(M=>wt.error(M)),e.push(c);const f=Yk().then(M=>{if(M)return r.getId()}),[w,C]=await Promise.all([c,f]);jk(s)||Mk(s,w.measurementId),i("js",new Date);const A=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return A[Ck]="firebase",A.update=!0,C!=null&&(A[Ak]=C),i("config",w.measurementId,A),w.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.app=e}_delete(){return delete Vs[this.app.options.appId],Promise.resolve()}}let Vs={},pg=[];const mg={};let rc="dataLayer",Zk="gtag",gg,P0,_g=!1;function eA(){const t=[];if(_8()&&t.push("This is a browser extension environment."),v8()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=kt.create("invalid-analytics-context",{errorInfo:e});wt.warn(n.message)}}function tA(t,e,n){eA();const r=t.options.appId;if(!r)throw kt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)wt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw kt.create("no-api-key");if(Vs[r]!=null)throw kt.create("already-exists",{id:r});if(!_g){Vk(rc);const{wrappedGtag:s,gtagCore:o}=Fk(Vs,pg,mg,rc,Zk);P0=s,gg=o,_g=!0}return Vs[r]=Xk(t,pg,mg,e,gg,rc,n),new Jk(t)}function nA(t=Oy()){t=Kn(t);const e=_o(t,nu);return e.isInitialized()?e.getImmediate():rA(t)}function rA(t,e={}){const n=_o(t,nu);if(n.isInitialized()){const i=n.getImmediate();if(qa(e,n.getOptions()))return i;throw kt.create("already-initialized")}return n.initialize({options:e})}function iA(t,e,n,r){t=Kn(t),Qk(P0,Vs[t.app.options.appId],e,n,r).catch(i=>wt.error(i))}const yg="@firebase/analytics",vg="0.10.4";function sA(){Qn(new _n(nu,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return tA(r,i,n)},"PUBLIC")),Qn(new _n("analytics-internal",t,"PRIVATE")),en(yg,vg),en(yg,vg,"esm2017");function t(e){try{const n=e.getProvider(nu).getImmediate();return{logEvent:(r,i,s)=>iA(n,r,i,s)}}catch(n){throw kt.create("interop-component-reg-failed",{reason:n})}}}sA();const oA={apiKey:"AIzaSyAx2t3vtHBmYwcW3pfqORSZGcWl5i5aZpc",authDomain:"react-notes-app-25513.firebaseapp.com",projectId:"react-notes-app-25513",storageBucket:"react-notes-app-25513.appspot.com",messagingSenderId:"69436989107",appId:"1:69436989107:web:5deacdaa92ded384f41ac6",measurementId:"G-J3N07E5FEB"},R0=Vy(oA),cd=TI(R0),wg=wI(cd,"notes");nA(R0);function aA(){const[t,e]=Gt.useState([]),[n,r]=Gt.useState(""),[i,s]=Gt.useState(""),o=t.find(C=>C.id===n)||t[0],l=t.sort((C,A)=>A.updatedAt-C.updatedAt);Gt.useEffect(()=>xI(wg,function(A){const M=A.docs.map(V=>({...V.data(),id:V.id}));e(M)}),[]),Gt.useEffect(()=>{var C;n||r((C=t[0])==null?void 0:C.id)},[t]),Gt.useEffect(()=>{o&&s(o.body)},[o]),Gt.useEffect(()=>{const C=setTimeout(()=>{i!==o.body&&f(i)},500);return()=>clearTimeout(C)},[i]);async function c(){const C={body:"# Type your markdown note's title here",createdAt:Date.now(),updatedAt:Date.now()},A=await LI(wg,C);r(A.id)}async function f(C){const A=ud(cd,"notes",n);await VI(A,{body:C,updatedAt:Date.now()},{merge:!0})}async function w(C){const A=ud(cd,"notes",C);await OI(A)}return xe.jsx("main",{children:t.length>0?xe.jsxs(cf,{sizes:[30,70],direction:"horizontal",className:"split",children:[xe.jsx(g3,{notes:l,currentNote:o,setCurrentNoteId:r,newNote:c,deleteNote:w}),xe.jsx(GE,{tempNoteText:i,setTempNoteText:s})]}):xe.jsxs("div",{className:"no-notes",children:[xe.jsx("h1",{children:"Your folder is empty"}),xe.jsx("button",{className:"first-note",onClick:c,children:"Create one now"})]})})}m3.render(xe.jsx(aA,{}),document.getElementById("root"));
